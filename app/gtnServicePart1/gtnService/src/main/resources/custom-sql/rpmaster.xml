<?xml version="1.0"?>

<custom-sql>
	<sql
		id="com.global.service.persistence.getlistId">
		<![CDATA[
				
select ListType.listTypeId from ListType where 
		]]>
	</sql>

        <sql id="com.global.rebateplan.RebatePlanSearch">
        <![CDATA[
            SELECT 
            RPM.REBATE_PLAN_ID,
            RPM.REBATE_PLAN_NO,
            REBATE_PLAN_NAME,
            HT_STATUS.DESCRIPTION AS REBATE_PLAN_STATUS,
            HT_TYPE.DESCRIPTION AS REBATE_PLAN_TYPE,
            HT_FORMULA_TYPE.DESCRIPTION AS FORMULA_TYPE,
            HT_RBO.DESCRIPTION AS REBATE_BASED_ON,
            HT_RBS.DESCRIPTION AS REBATE_STRUCTURE,
            HT_RRBO.DESCRIPTION AS REBATE_RANGE_BASED_ON,
            RPM.SECONDARY_REBATE_PLAN_ID,
            RPM.SECONDARY_REBATE_PLAN_NO,
            RPM.SECONDARY_REBATE_PLAN_NAME,
            RPM.BATCH_ID,
            RPM.RECORD_LOCK_STATUS,
            RPM.REBATE_PLAN_MASTER_SID,RPM.MODIFIED_BY,RPM.CREATED_BY,
            NSF.NET_SALES_FORMULA_NAME,
            CM.RULE_NAME,RPM.CREATED_DATE,RPM.MODIFIED_DATE
        FROM 
            dbo.REBATE_PLAN_MASTER RPM
        LEFT JOIN 
            NET_SALES_FORMULA_MASTER NSF on NSF.NET_SALES_FORMULA_MASTER_SID=RPM.NET_SALES_FORMULA_MASTER_SID
        LEFT JOIN 
            CDR_MODEL CM on CM.CDR_MODEL_SID=RPM.CDR_MODEL_SID
        LEFT JOIN
            HELPER_TABLE HT_STATUS ON HT_STATUS.HELPER_TABLE_SID = RPM.REBATE_PLAN_STATUS
        LEFT JOIN
            HELPER_TABLE HT_TYPE ON HT_TYPE.HELPER_TABLE_SID = RPM.REBATE_PLAN_TYPE
        LEFT JOIN
            HELPER_TABLE HT_FORMULA_TYPE ON HT_FORMULA_TYPE.HELPER_TABLE_SID = RPM.FORMULA_TYPE
        LEFT JOIN
            HELPER_TABLE HT_RBO ON HT_RBO.HELPER_TABLE_SID = RPM.REBATE_BASED_ON
        LEFT JOIN
            HELPER_TABLE HT_RBS ON HT_RBS.HELPER_TABLE_SID = RPM.REBATE_STRUCTURE
        LEFT JOIN
            HELPER_TABLE HT_RRBO ON HT_RRBO.HELPER_TABLE_SID = RPM.REBATE_RANGE_BASED_ON
        WHERE
            RPM.INBOUND_STATUS <> 'D'
            ]]>
        </sql>
        
</custom-sql>