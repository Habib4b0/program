package com.stpl.app.security.udc.ui;

import com.stpl.app.security.udc.ui.view.UdcView;
import com.vaadin.annotations.AutoGenerated;
import com.vaadin.navigator.Navigator;
import com.vaadin.server.UserError;
import com.vaadin.server.VaadinPortletSession;
import com.vaadin.server.VaadinRequest;
import com.vaadin.server.VaadinSession;
import com.vaadin.ui.UI;
import java.util.Collection;
import java.util.Iterator;
import javax.portlet.ActionRequest;
import javax.portlet.ActionResponse;
import javax.portlet.EventRequest;
import javax.portlet.EventResponse;
import javax.portlet.PortletMode;
import javax.portlet.RenderRequest;
import javax.portlet.RenderResponse;
import javax.portlet.ResourceRequest;
import javax.portlet.ResourceResponse;
@SuppressWarnings("serial")
public class UdcUI extends UI implements VaadinPortletSession.PortletListener {

    @AutoGenerated
    Navigator navigator;
    PortletMode customMode;

    @Override
    protected void init(VaadinRequest request) {
        setId("UDC");
        addStyleName("bootstrap");
        addStyleName("bootstrap-bb");
        navigator = new Navigator(this, this);
       
        navigator.addView(UdcView.NAME, new UdcView());
        customMode = new PortletMode("config");
        if (VaadinSession.getCurrent() instanceof VaadinPortletSession) {
           
            VaadinPortletSession portletsession
                    = (VaadinPortletSession) VaadinSession.getCurrent();
                        // Add a custom listener to handle action and
            // render requests.
            portletsession.addPortletListener(this);
        }
//			navigator.addView(BusinessRoleModuleMasterEditView.NAME, new BusinessRoleModuleMasterEditView());

        setComponentError(new UserError(""));
    }

    @Override
    public void handleRenderRequest(RenderRequest request, RenderResponse response, UI uI) {
        VaadinSession.getCurrent().getNextUIid();
        Collection<UI> uiList = VaadinSession.getCurrent().getUIs();
        for (Iterator<UI> iterator = uiList.iterator(); iterator.hasNext();) {

            UI ui2 = (UI) iterator.next();
            if (ui2.getId().equals("UDC")) {
                ui2.close();
            }
        }
        getUI().getNavigator().navigateTo(UdcView.NAME);
    }

    @Override
    public void handleActionRequest(ActionRequest request, ActionResponse response, UI uI) {

    }

    @Override
    public void handleEventRequest(EventRequest request, EventResponse response, UI uI) {

    }

    @Override
    public void handleResourceRequest(ResourceRequest request, ResourceResponse response, UI uI) {

    }
}
