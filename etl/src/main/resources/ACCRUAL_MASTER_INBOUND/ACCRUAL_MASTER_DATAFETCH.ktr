<?xml version="1.0" encoding="UTF-8"?>
<transformation>
  <info>
    <name>ACCRUAL_MASTER_DATAFETCH</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#47;</directory>
    <parameters>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>-</created_user>
  <created_date>2013&#47;07&#47;05 14:13:25.909</created_date>
  <modified_user>-</modified_user>
  <modified_date>2013&#47;07&#47;05 14:13:25.909</modified_date>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>AGN_APP</name>
    <server>10.4.48.18</server>
    <type>MSSQL</type>
    <access>Native</access>
    <database>BPIGTN_AGN_APP_UNIT</database>
    <port>1433</port>
    <username>bpigtn_agn_unit</username>
    <password>Encrypted 294cd99bb5ffdb9b3b53afa4cf396aacc</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>MSSQL_DOUBLE_DECIMAL_SEPARATOR</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>1433</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>N</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <connection>
    <name>BPI DB</name>
    <server>${BPI_HOST}</server>
    <type>MSSQL</type>
    <access>Native</access>
    <database>${BPI_DB}</database>
    <port>1433</port>
    <username>${BPI_USER}</username>
    <password>${BPI_PASSWORD}</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>MSSQL_DOUBLE_DECIMAL_SEPARATOR</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>1433</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>N</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <connection>
    <name>stag</name>
    <server>10.4.48.18</server>
    <type>MSSQL</type>
    <access>Native</access>
    <database>BPIGTN_AGN_STAGING_UNIT </database>
    <port>1433</port>
    <username>Bpigtn_db</username>
    <password>Encrypted 2be98afc86aa7f2e4953dea728cb9fa9b</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>MSSQL_DOUBLE_DECIMAL_SEPARATOR</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>1433</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>N</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <connection>
    <name>STAGING DB</name>
    <server>${STAGING_HOST}</server>
    <type>MSSQL</type>
    <access>Native</access>
    <database>${STAGING_DB}</database>
    <port>1433</port>
    <username>${STAGING_USER}</username>
    <password>${STAGING_PASSWORD}</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>MSSQL_DOUBLE_DECIMAL_SEPARATOR</code><attribute>N</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>1433</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>N</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>N</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>STAGING</from><to>String operations</to><enabled>Y</enabled> </hop>  <hop> <from>String operations</from><to>SNAPSHOT</to><enabled>N</enabled> </hop>  <hop> <from>String operations</from><to>TEMP</to><enabled>Y</enabled> </hop>  <hop> <from>STAGING</from><to>Detect empty stream 2</to><enabled>Y</enabled> </hop>  <hop> <from>Add constants 2</from><to>ADD Audit update 2</to><enabled>Y</enabled> </hop>  <hop> <from>Add constants 2</from><to>RECEIVED_RECORD_COUNT</to><enabled>Y</enabled> </hop>  <hop> <from>Add constants 2 2</from><to>INVALID UPDATE</to><enabled>Y</enabled> </hop>  <hop> <from>Database join</from><to>REMOVE FIELDS 2</to><enabled>N</enabled> </hop>  <hop> <from>Database join 2</from><to>MAIL CREATION</to><enabled>N</enabled> </hop>  <hop> <from>FINAL AUDIT GENERATION</from><to>Group by</to><enabled>N</enabled> </hop>  <hop> <from>FINAL AUDIT WAIT</from><to>FINAL AUDIT GENERATION</to><enabled>N</enabled> </hop>  <hop> <from>FINAL AUDIT WAIT 2</from><to>SET VARIABLES 2</to><enabled>Y</enabled> </hop>  <hop> <from>GET MAIL PARAMETERS 2</from><to>REMOVE FIELDS 2</to><enabled>N</enabled> </hop>  <hop> <from>Group by</from><to>Database join 2</to><enabled>N</enabled> </hop>  <hop> <from>INVALID COUNT</from><to>Add constants 2 2</to><enabled>Y</enabled> </hop>  <hop> <from>INVALID COUNT 2</from><to>Add constants 2</to><enabled>Y</enabled> </hop>  <hop> <from>INVALID COUNT 2</from><to>FINAL AUDIT WAIT</to><enabled>Y</enabled> </hop>  <hop> <from>INVALID COUNT 2</from><to>INVALID COUNT</to><enabled>Y</enabled> </hop>  <hop> <from>INVALID UPDATE</from><to>FINAL AUDIT WAIT 2</to><enabled>Y</enabled> </hop>  <hop> <from>MAIL CREATION</from><to>Split field to rows</to><enabled>N</enabled> </hop>  <hop> <from>PICK UNIQUE CONTENT</from><to>Mail 2</to><enabled>N</enabled> </hop>  <hop> <from>REMOVE FIELDS 2</from><to>PICK UNIQUE CONTENT</to><enabled>N</enabled> </hop>  <hop> <from>SET VARIABLES 2</from><to>AUDIT_STATUS_UPDATE</to><enabled>Y</enabled> </hop>  <hop> <from>Split field to rows</from><to>Database join</to><enabled>N</enabled> </hop>  <hop> <from>Split field to rows</from><to>GET MAIL PARAMETERS 2</to><enabled>N</enabled> </hop>  <hop> <from>Split field to rows</from><to>REMOVE FIELDS 2</to><enabled>N</enabled> </hop>  <hop> <from>Detect empty stream 2</from><to>INVALID COUNT 2</to><enabled>Y</enabled> </hop>  <hop> <from>AUDIT COMPLETION WAIT</from><to>SET VARIABLES 2 2</to><enabled>Y</enabled> </hop>  <hop> <from>Database join 2 2</from><to>REMOVE FIELDS 2 2</to><enabled>N</enabled> </hop>  <hop> <from>Database join 2 3</from><to>MAIL CREATION 2</to><enabled>N</enabled> </hop>  <hop> <from>Database join 2 3</from><to>MAIL CREATION 3</to><enabled>Y</enabled> </hop>  <hop> <from>FINAL AUDIT GENERATION 2</from><to>AUDIT COMPLETION WAIT</to><enabled>Y</enabled> </hop>  <hop> <from>FINAL AUDIT GENERATION 2</from><to>FINAL AUDIT GENERATION 2 3</to><enabled>Y</enabled> </hop>  <hop> <from>FINAL AUDIT GENERATION 2</from><to>STAGING AUDIT</to><enabled>Y</enabled> </hop>  <hop> <from>FINAL AUDIT GENERATION 2 3</from><to>FOR HTML GROUP</to><enabled>Y</enabled> </hop>  <hop> <from>FOR HTML GROUP</from><to>Database join 2 3</to><enabled>Y</enabled> </hop>  <hop> <from>GET MAIL PARAMETERS</from><to>REMOVE FIELDS 2 2</to><enabled>N</enabled> </hop>  <hop> <from>MAIL CREATION 2</from><to>Split field to rows 2</to><enabled>N</enabled> </hop>  <hop> <from>MAIL CREATION 3</from><to>Split field to rows 2</to><enabled>Y</enabled> </hop>  <hop> <from>PICK UNIQUE CONTENT 2</from><to>Mail</to><enabled>Y</enabled> </hop>  <hop> <from>REMOVE FIELDS 2 2</from><to>PICK UNIQUE CONTENT 2</to><enabled>Y</enabled> </hop>  <hop> <from>SET VARIABLES 2 2</from><to>AUDIT_STATUS_UPDATE 2</to><enabled>Y</enabled> </hop>  <hop> <from>STAGING AUDIT</from><to>Update</to><enabled>Y</enabled> </hop>  <hop> <from>Split field to rows 2</from><to>Database join 2 2</to><enabled>N</enabled> </hop>  <hop> <from>Split field to rows 2</from><to>GET MAIL PARAMETERS</to><enabled>N</enabled> </hop>  <hop> <from>Split field to rows 2</from><to>REMOVE FIELDS 2 2</to><enabled>Y</enabled> </hop>  <hop> <from>FINAL AUDIT WAIT</from><to>FINAL AUDIT GENERATION 2</to><enabled>Y</enabled> </hop>  <hop> <from>STAGING AUDIT</from><to>Dummy (do nothing)</to><enabled>Y</enabled> </hop>  <hop> <from>Update</from><to>Dummy (do nothing)</to><enabled>Y</enabled> </hop>  <hop> <from>AUDIT_STATUS_UPDATE 2</from><to>Dummy (do nothing)</to><enabled>Y</enabled> </hop>  </order>
  <step>
    <name>ADD Audit update 2</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>BPI DB</connection>
    <skip_lookup>N</skip_lookup>
    <commit>10000</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>AUDIT_MASTER_INBOUND</table>
      <key>
        <name>batch_id_1</name>
        <field>BATCH_ID</field>
        <condition>=</condition>
        <name2/>
        </key>
      <key>
        <name>STATUS_R</name>
        <field>STATUS</field>
        <condition>=</condition>
        <name2/>
        </key>
      <value>
        <name>ADD_COUNT</name>
        <rename>add_count</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1257</xloc>
      <yloc>777</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>AUDIT COMPLETION WAIT</name>
    <type>BlockUntilStepsFinish</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <steps>
      <step>
        <name>Mail</name>
        <CopyNr>0</CopyNr>
        </step>
      </steps>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>2449</xloc>
      <yloc>1021</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>AUDIT_STATUS_UPDATE</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>BPI DB</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>AUDIT_MASTER_INBOUND</table>
      <key>
        <name>batch_id_1</name>
        <field>BATCH_ID</field>
        <condition>=</condition>
        <name2/>
        </key>
      <key>
        <name>STATUS_R</name>
        <field>STATUS</field>
        <condition>=</condition>
        <name2/>
        </key>
      <value>
        <name>STATUS</name>
        <rename>STATUS_N</rename>
        </value>
      <value>
        <name>INTERFACE_RUN_END_DATE</name>
        <rename>INTERFACE_RUN_END_DATE</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1359</xloc>
      <yloc>1212</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>AUDIT_STATUS_UPDATE 2</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>BPI DB</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>AUDIT_MASTER_INBOUND</table>
      <key>
        <name>BATCH_ID</name>
        <field>BATCH_ID</field>
        <condition>=</condition>
        <name2/>
        </key>
      <key>
        <name>STATUS_R</name>
        <field>STATUS</field>
        <condition>=</condition>
        <name2/>
        </key>
      <value>
        <name>STATUS</name>
        <rename>STATUS_N</rename>
        </value>
      <value>
        <name>INTERFACE_RUN_END_DATE</name>
        <rename>INTERFACE_RUN_END_DATE</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>2532</xloc>
      <yloc>1303</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Add constants 2</name>
    <type>Constant</type>
    <description/>
    <distribute>N</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>STATUS_R</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>R</nullif>
        <length>5</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>add_count</name>
        <type>Integer</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>0</nullif>
        <length>-1</length>
        <precision>-1</precision>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1254</xloc>
      <yloc>656</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Add constants 2 2</name>
    <type>Constant</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>STATUS_R</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>R</nullif>
        <length>5</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>STATUS_C</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>C</nullif>
        <length>5</length>
        <precision>-1</precision>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1351</xloc>
      <yloc>856</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Database join</name>
    <type>DBJoin</type>
    <description/>
    <distribute>N</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>BPI DB</connection>
    <rowlimit>0</rowlimit>
    <sql>SELECT TOP 1 A.HOST_NAME      AS MAIL_SERVER,
       A.EMAIL_ADDRESS  AS SENDER_ADDRESS,
	   A.PASSWORD AS SENDER_PASSWORD,
       A.PORT_NUMBER    AS MAIL_PORT,
       B.DESTINATION    AS DESTINATION_ADDRESS,
       B.DESTINATION_CC AS DESTINATION_CC
FROM   WF_MAIL_CONFIG A
       JOIN MAIL_DETAILS B
         ON 1 = 1
WHERE  b.INTERFACE_NAME = &apos;ACTUAL_MASTER_INTERFACE&apos;
       AND a.SMTP_FLAG = &apos;yes&apos; 
</sql>
    <outer_join>N</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
    </parameter>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1475</xloc>
      <yloc>1142</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Database join 2</name>
    <type>DBJoin</type>
    <description/>
    <distribute>N</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>BPI DB</connection>
    <rowlimit>0</rowlimit>
    <sql>
	   DECLARE @CONTENT VARCHAR(max)= &apos;Hi,&lt;br&gt;&lt;br&gt;&apos;
SELECT TOP 1 A.HOST_NAME                     AS MAIL_SERVER,
             A.EMAIL_ADDRESS                 AS SENDER_ADDRESS,
             A.PASSWORD                      AS SENDER_PASSWORD,
             A.PORT_NUMBER                   AS MAIL_PORT,
             B.EMAIL_NOTIFICATION_SUCCESS_TO AS DESTINATION_ADDRESS,
             B.EMAIL_NOTIFICATION_SUCCESS_CC AS DESTINATION_CC,
             B.SUCCESS_MAIL_SUBJECT        AS SSUBJECT,
            -- B.FAILURE_MAIL_BODY + @CONTENT  AS CONTENT,
			 stuff(@CONTENT,charindex(&apos;Hi,&apos;,@CONTENT)+3,0,&apos;&lt;br&gt;&lt;br&gt;&apos;+B.SUCCESS_MAIL_BODY) as SCONTENT
FROM   WF_MAIL_CONFIG A
       JOIN WORKFLOW_PROFILE B
         ON 1 = 1
WHERE  b.PROCESS_NAME = &apos;ACCRUAL_INBOUND_INTERFACE&apos;
       AND a.SMTP_FLAG = &apos;yes&apos;
</sql>
    <outer_join>N</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
    </parameter>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1474</xloc>
      <yloc>935</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Database join 2 2</name>
    <type>DBJoin</type>
    <description/>
    <distribute>N</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>BPI DB</connection>
    <rowlimit>0</rowlimit>
    <sql>SELECT TOP 1 A.HOST_NAME      AS MAIL_SERVER,
       A.EMAIL_ADDRESS  AS SENDER_ADDRESS,
	   A.PASSWORD AS SENDER_PASSWORD,
       A.PORT_NUMBER    AS MAIL_PORT,
       B.DESTINATION    AS DESTINATION_ADDRESS,
       B.DESTINATION_CC AS DESTINATION_CC
FROM   WF_MAIL_CONFIG A
       JOIN MAIL_DETAILS B
         ON 1 = 1
WHERE  b.INTERFACE_NAME = &apos;company_master_interface&apos;
       AND a.SMTP_FLAG = &apos;yes&apos; </sql>
    <outer_join>N</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
    </parameter>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>2096</xloc>
      <yloc>1410</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Database join 2 3</name>
    <type>DBJoin</type>
    <description/>
    <distribute>N</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>BPI DB</connection>
    <rowlimit>0</rowlimit>
    <sql>
	   DECLARE @CONTENT VARCHAR(max)= &apos;Hi,&lt;br&gt;&lt;br&gt;&apos;
SELECT TOP 1 A.HOST_NAME                     AS MAIL_SERVER,
             A.EMAIL_ADDRESS                 AS SENDER_ADDRESS,
             A.PASSWORD                      AS SENDER_PASSWORD,
             A.PORT_NUMBER                   AS MAIL_PORT,
             B.EMAIL_NOTIFICATION_SUCCESS_TO AS DESTINATION_ADDRESS,
             B.EMAIL_NOTIFICATION_SUCCESS_CC AS DESTINATION_CC,
             B.SUCCESS_MAIL_SUBJECT          AS SSUBJECT,
            -- B.FAILURE_MAIL_BODY + @CONTENT  AS CONTENT,
			 stuff(@CONTENT,charindex(&apos;Hi,&apos;,@CONTENT)+3,0,&apos;&lt;br&gt;&lt;br&gt;&apos;+B.SUCCESS_MAIL_BODY) as SCONTENT
FROM   WF_MAIL_CONFIG A
       JOIN WORKFLOW_PROFILE B
         ON 1 = 1
WHERE  b.PROCESS_NAME = &apos;LOT_MASTER_INTERFACE&apos;
       AND a.SMTP_FLAG = &apos;yes&apos;
</sql>
    <outer_join>N</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
    </parameter>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>2177</xloc>
      <yloc>1073</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Detect empty stream 2</name>
    <type>DetectEmptyStream</type>
    <description/>
    <distribute>N</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>870</xloc>
      <yloc>235</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Dummy (do nothing)</name>
    <type>Dummy</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>2355</xloc>
      <yloc>1213</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>FINAL AUDIT GENERATION</name>
    <type>DBJoin</type>
    <description/>
    <distribute>N</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>BPI DB</connection>
    <rowlimit>0</rowlimit>
    <sql>SELECT  distinct BATCH_ID AS BATCH,ADD_COUNT,INVALID_RECORD_COUNT,SENT_RECORD_COUNT,RECEIVED_RECORD_COUNT FROM AUDIT_MASTER_INBOUND  
where BATCH_ID=?
 and STATUS=&apos;R&apos;</sql>
    <outer_join>N</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>batch_id_1</name>
        <type>String</type>
      </field>
    </parameter>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1565</xloc>
      <yloc>789</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>FINAL AUDIT GENERATION 2</name>
    <type>DBJoin</type>
    <description/>
    <distribute>N</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>BPI DB</connection>
    <rowlimit>0</rowlimit>
    <sql>SELECT  distinct BATCH_ID AS BATCH,ADD_COUNT,INVALID_RECORD_COUNT,SENT_RECORD_COUNT,RECEIVED_RECORD_COUNT ,STATUS FROM AUDIT_MASTER_INBOUND  
where BATCH_ID=?
 and STATUS=&apos;R&apos;</sql>
    <outer_join>N</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>batch_id_1</name>
        <type>String</type>
      </field>
    </parameter>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>2203</xloc>
      <yloc>614</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>FINAL AUDIT GENERATION 2 3</name>
    <type>DBJoin</type>
    <description/>
    <distribute>N</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>BPI DB</connection>
    <rowlimit>0</rowlimit>
    <sql>
SELECT REASON_FOR_FAILURE,
              Count(*) AS &apos;NEW_COUNT&apos;,BATCH_ID as new_batch
        FROM  IVLD_ACCRUAL_INBOUND
        WHERE  batch_id = ?
		   AND ( INTF_INSERTED_DATE &gt; (SELECT TOP 1 CREATED_DATE
                                   FROM   audit_master_inbound
                                   WHERE  APPLICATION_PROCESS = &apos;ACCRUAL_INBOUND_INTERFACE&apos;
                                          AND BATCH_ID = ?) ) 
        GROUP  BY REASON_FOR_FAILURE,BATCH_ID
</sql>
    <outer_join>N</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>batch_id_1</name>
        <type>String</type>
      </field>
      <field>
        <name>batch_id_1</name>
        <type>String</type>
      </field>
    </parameter>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>2175</xloc>
      <yloc>844</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>FINAL AUDIT WAIT</name>
    <type>BlockUntilStepsFinish</type>
    <description/>
    <distribute>N</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <steps>
      <step>
        <name>ADD Audit update 2</name>
        <CopyNr>0</CopyNr>
        </step>
      <step>
        <name>INVALID UPDATE</name>
        <CopyNr>0</CopyNr>
        </step>
      <step>
        <name>RECEIVED_RECORD_COUNT</name>
        <CopyNr>0</CopyNr>
        </step>
      </steps>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1533</xloc>
      <yloc>689</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>FINAL AUDIT WAIT 2</name>
    <type>BlockUntilStepsFinish</type>
    <description/>
    <distribute>N</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <steps>
      <step>
        <name>Mail</name>
        <CopyNr>0</CopyNr>
        </step>
      </steps>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1357</xloc>
      <yloc>1025</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>FOR HTML GROUP</name>
    <type>MemoryGroupBy</type>
    <description/>
    <distribute>N</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <give_back_row>N</give_back_row>
      <group>
        <field>
          <name>STATUS</name>
        </field>
      </group>
      <fields>
        <field>
          <aggregate>AddCounts</aggregate>
          <subject>ADD_COUNT</subject>
          <type>CONCAT_STRING</type>
          <valuefield>,</valuefield>
        </field>
        <field>
          <aggregate>InvalidCounts</aggregate>
          <subject>INVALID_RECORD_COUNT</subject>
          <type>CONCAT_STRING</type>
          <valuefield>,</valuefield>
        </field>
        <field>
          <aggregate>SentCounts</aggregate>
          <subject>SENT_RECORD_COUNT</subject>
          <type>CONCAT_STRING</type>
          <valuefield>,</valuefield>
        </field>
        <field>
          <aggregate>ReceivedCounts</aggregate>
          <subject>RECEIVED_RECORD_COUNT</subject>
          <type>CONCAT_STRING</type>
          <valuefield>,</valuefield>
        </field>
        <field>
          <aggregate>Batches</aggregate>
          <subject>BATCH</subject>
          <type>CONCAT_STRING</type>
          <valuefield>,</valuefield>
        </field>
        <field>
          <aggregate>InvalidReason</aggregate>
          <subject>REASON_FOR_FAILURE</subject>
          <type>CONCAT_STRING</type>
          <valuefield>,</valuefield>
        </field>
        <field>
          <aggregate>Count</aggregate>
          <subject>NEW_COUNT</subject>
          <type>CONCAT_STRING</type>
          <valuefield>,</valuefield>
        </field>
        <field>
          <aggregate>newbatch</aggregate>
          <subject>new_batch</subject>
          <type>CONCAT_STRING</type>
          <valuefield>,</valuefield>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>2175</xloc>
      <yloc>946</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>GET MAIL PARAMETERS</name>
    <type>GetVariable</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>DESTINATION_ADDRESS</name>
        <variable>${DESTINATION_ADDRESS}</variable>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
      </field>
      <field>
        <name>DESTINATION_CC</name>
        <variable>${DESTINATION_CC}</variable>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
      </field>
      <field>
        <name>SENDER_ADDRESS</name>
        <variable>${SENDER_ADDRESS}</variable>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
      </field>
      <field>
        <name>SENDER_NAME</name>
        <variable>${SENDER_NAME}</variable>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
      </field>
      <field>
        <name>MAIL_SERVER</name>
        <variable>${MAIL_SERVER}</variable>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
      </field>
      <field>
        <name>MAIL_PORT</name>
        <variable>${MAIL_PORT}</variable>
        <type>Number</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>2401</xloc>
      <yloc>1407</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>GET MAIL PARAMETERS 2</name>
    <type>GetVariable</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>DESTINATION_ADDRESS</name>
        <variable>${DESTINATION_ADDRESS}</variable>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
      </field>
      <field>
        <name>DESTINATION_CC</name>
        <variable>${DESTINATION_CC}</variable>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
      </field>
      <field>
        <name>SENDER_ADDRESS</name>
        <variable>${SENDER_ADDRESS}</variable>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
      </field>
      <field>
        <name>SENDER_NAME</name>
        <variable>${SENDER_NAME}</variable>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
      </field>
      <field>
        <name>MAIL_SERVER</name>
        <variable>${MAIL_SERVER}</variable>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
      </field>
      <field>
        <name>MAIL_PORT</name>
        <variable>${MAIL_PORT}</variable>
        <type>Number</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1680</xloc>
      <yloc>1119</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Group by</name>
    <type>GroupBy</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <all_rows>N</all_rows>
      <ignore_aggregate>N</ignore_aggregate>
      <field_ignore/>
      <directory>%%java.io.tmpdir%%</directory>
      <prefix>grp</prefix>
      <add_linenr>N</add_linenr>
      <linenr_fieldname/>
      <give_back_row>N</give_back_row>
      <group>
        <field>
          <name>ACCRUAL_INBOUND_INTERFACE_ID</name>
        </field>
      </group>
      <fields>
        <field>
          <aggregate>AddCounts</aggregate>
          <subject>ADD_COUNT</subject>
          <type>CONCAT_STRING</type>
          <valuefield>,</valuefield>
        </field>
        <field>
          <aggregate>InvalidCounts</aggregate>
          <subject>INVALID_RECORD_COUNT</subject>
          <type>CONCAT_STRING</type>
          <valuefield>,</valuefield>
        </field>
        <field>
          <aggregate>SentCounts</aggregate>
          <subject>SENT_RECORD_COUNT</subject>
          <type>CONCAT_STRING</type>
          <valuefield>,</valuefield>
        </field>
        <field>
          <aggregate>Batches</aggregate>
          <subject>batch_id_1</subject>
          <type>CONCAT_STRING</type>
          <valuefield>,</valuefield>
        </field>
        <field>
          <aggregate>ReceivedCounts</aggregate>
          <subject>RECEIVED_RECORD_COUNT</subject>
          <type>CONCAT_STRING</type>
          <valuefield>,</valuefield>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1567</xloc>
      <yloc>872</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>INVALID COUNT</name>
    <type>DBJoin</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>BPI DB</connection>
    <rowlimit>0</rowlimit>
    <sql>--SELECT COUNT(*)  AS INVALID_COUNT FROM IVLD_ACCRUAL_INBOUND WHERE BATCH_ID=?

SELECT COUNT(*)  AS INVALID_COUNT 
FROM IVLD_ACCRUAL_INBOUND WHERE BATCH_ID=?
  AND ( INTF_INSERTED_DATE &gt; (SELECT TOP 1 CREATED_DATE
                                   FROM   audit_master_inbound
                                   WHERE  APPLICATION_PROCESS = &apos;ACCRUAL_INBOUND_INTERFACE&apos;
                                          AND BATCH_ID = ?) ) </sql>
    <outer_join>N</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>batch_id_1</name>
        <type>String</type>
      </field>
      <field>
        <name>batch_id_1</name>
        <type>String</type>
      </field>
    </parameter>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1352</xloc>
      <yloc>739</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>INVALID COUNT 2</name>
    <type>DBJoin</type>
    <description/>
    <distribute>N</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>BPI DB</connection>
    <rowlimit>0</rowlimit>
    <sql>--select top 1 BATCH_ID  as batch_id from IVLD_ACCRUAL_INBOUND order by INTF_INSERTED_DATE desc 

select  BATCH_ID  as batch_id from AUDIT_MASTER_INBOUND where  application_process=&apos;ACCRUAL_INBOUND_INTERFACE&apos; and status=&apos;R&apos; </sql>
    <outer_join>N</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
    </parameter>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1391</xloc>
      <yloc>562</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>INVALID UPDATE</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>BPI DB</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>AUDIT_MASTER_INBOUND</table>
      <key>
        <name>batch_id_1</name>
        <field>BATCH_ID</field>
        <condition>=</condition>
        <name2/>
        </key>
      <key>
        <name>STATUS_R</name>
        <field>STATUS</field>
        <condition>=</condition>
        <name2/>
        </key>
      <value>
        <name>INVALID_RECORD_COUNT</name>
        <rename>INVALID_COUNT</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1352</xloc>
      <yloc>931</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>MAIL CREATION</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>Y</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>
var SUBJECT=getVariable(&quot;ACTUAL_MASTER_SUCCESS_SUBJECT&quot;,&quot;&quot;)+&quot;[&quot;+(date2str(new Date(),&quot;yyyy-MM-dd HH:mm&quot;))+&quot;]&quot;;
&#47;&#47;var CONTENT=&quot;&lt;HTML&gt;&lt;body&gt;Hi,&lt;br&gt;&lt;br&gt;Company Master Interface completed successfully.The below report has been gathered from the interface process:&lt;br&gt;&lt;br&gt;&lt;table cellpadding=&apos;5px&apos; style=&apos;border-collapse:collapse&apos;&gt;&lt;thead&gt;&lt;TR&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Batch ID&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Interface Name&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Sent Count&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Received Count&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Valid Count&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Invalid Count&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Interface Start Time&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Interface End Time&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;&#47;TR&gt;&lt;&#47;thead&gt;&lt;tbody&gt;&lt;TR&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+Batches.getString()+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+INTERFACE_NAME.getString()+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+123+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+456+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+VALID_COUNT.getString()+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+INVALID_COUNT.getString()+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+178+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+195+&quot;&lt;&#47;TD&gt;&lt;&#47;TR&gt;}&lt;&#47;tbody&gt;&lt;&#47;table&gt;&lt;p&gt; Thanks,&lt;&#47;p&gt;&lt;p&gt;BPI Support.&lt;&#47;p&gt;&lt;&#47;body&gt;&lt;&#47;HTML&gt;&quot;;
var CONTENT=&quot;&lt;HTML&gt;&lt;body&gt;&lt;br&gt;&lt;br&gt;&quot;+SCONTENT.getString()+&quot;&lt;table cellpadding=&apos;5px&apos; style=&apos;border-collapse:collapse&apos;&gt;&lt;thead&gt;&lt;TR&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Batch ID&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Sent Count&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Received Count&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Add Count&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Invalid Count&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;&#47;TR&gt;&lt;&#47;thead&gt;&quot;;


var batchIds = Batches.getString().split(&quot;,&quot;);
var AddCount=AddCounts.getString().split(&quot;,&quot;);
var InvalidCount=InvalidCounts.getString().split(&quot;,&quot;);
var SentCount=SentCounts.getString().split(&quot;,&quot;);
var ReceivedCount=ReceivedCounts.getString().split(&quot;,&quot;);
var i;

for(i=0;i&lt;batchIds.length;i++){


	&#47;&#47;CONTENT+= &quot;&lt;tbody&gt;&lt;tr&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+batchIds[i]+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+SentCount[i]+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+AddCount[i]+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+DeleteCount[i]+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+InvalidCount[i]+&quot;&lt;&#47;TD&gt;&lt;&#47;tr&gt;&quot;;
CONTENT+= &quot;&lt;tbody&gt;&lt;tr&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+batchIds[i]+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+SentCount[i]+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+ReceivedCount[i]+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+AddCount[i]+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+InvalidCount[i]+&quot;&lt;&#47;TD&gt;&lt;&#47;tr&gt;&quot;;
      
    
}


      
    




CONTENT+=&quot;&lt;&#47;tbody&gt;&lt;&#47;table&gt;&lt;p&gt;Thanks,&lt;&#47;p&gt;&lt;p&gt;BPI Support.&lt;&#47;p&gt;&lt;&#47;body&gt;&lt;&#47;HTML&gt;&quot;;
</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>SUBJECT</name>
        <rename>SUBJECT</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>CONTENT</name>
        <rename>CONTENT</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>batchIds</name>
        <rename>batchIds</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>AddCount</name>
        <rename>AddCount</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>InvalidCount</name>
        <rename>InvalidCount</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>SentCount</name>
        <rename>SentCount</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>ReceivedCount</name>
        <rename>ReceivedCount</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>i</name>
        <rename>i</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1569</xloc>
      <yloc>948</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>MAIL CREATION 2</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>Y</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>
var SUBJECT=getVariable(&quot;COMPANY_MASTER_SUCCESS_SUBJECT&quot;,&quot;&quot;)+&quot;[&quot;+(date2str(new Date(),&quot;yyyy-MM-dd HH:mm&quot;))+&quot;]&quot;;

&#47;&#47;var aa=SCONTENT.getString();
&#47;&#47;var CONTENT=&quot;&lt;HTML&gt;&lt;body&gt;Hi,&lt;br&gt;&lt;br&gt;Company Master Interface completed successfully.The below report has been gathered from the interface process:&lt;br&gt;&lt;br&gt;&lt;table cellpadding=&apos;5px&apos; style=&apos;border-collapse:collapse&apos;&gt;&lt;thead&gt;&lt;TR&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Batch ID&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Interface Name&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Sent Count&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Received Count&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Valid Count&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Invalid Count&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Interface Start Time&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Interface End Time&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;&#47;TR&gt;&lt;&#47;thead&gt;&lt;tbody&gt;&lt;TR&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+Batches.getString()+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+INTERFACE_NAME.getString()+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+123+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+456+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+VALID_COUNT.getString()+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+INVALID_COUNT.getString()+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+178+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+195+&quot;&lt;&#47;TD&gt;&lt;&#47;TR&gt;}&lt;&#47;tbody&gt;&lt;&#47;table&gt;&lt;p&gt; Thanks,&lt;&#47;p&gt;&lt;p&gt;BPI Support.&lt;&#47;p&gt;&lt;&#47;body&gt;&lt;&#47;HTML&gt;&quot;;
var CONTENT=&quot;&lt;HTML&gt;&lt;body&gt;&lt;br&gt;&lt;br&gt;&quot;+SCONTENT.getString()+&quot;&lt;table cellpadding=&apos;5px&apos; style=&apos;border-collapse:collapse&apos;&gt;&lt;thead&gt;&lt;TR&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Batch ID&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Sent Count&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Received Count&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Add Count&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Change Count&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Delete Count&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Invalid Count&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;&#47;TR&gt;&lt;&#47;thead&gt;&quot;;
var batchIds = Batches.getString().split(&quot;,&quot;);
var AddCount=AddCounts.getString().split(&quot;,&quot;);
var ChangeCount=ChangeCounts.getString().split(&quot;,&quot;);
var DeleteCount=DeleteCounts.getString().split(&quot;,&quot;);
var InvalidCount=InvalidCounts.getString().split(&quot;,&quot;);
var SentCount=SentCounts.getString().split(&quot;,&quot;);
var ReceivedCount=ReceivedCounts.getString().split(&quot;,&quot;);
var i;

for(i=0;i&lt;batchIds.length;i++){


	CONTENT+= &quot;&lt;tbody&gt;&lt;tr&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+batchIds[i]+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+SentCount[i]+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+ReceivedCount[i]+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+AddCount[i]+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+ChangeCount[i]+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+DeleteCount[i]+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+InvalidCount[i]+&quot;&lt;&#47;TD&gt;&lt;&#47;tr&gt;&quot;;
      
    
}


&#47;&#47;CONTENT+=&quot;&lt;&#47;tbody&gt;&lt;&#47;table&gt;&lt;p&gt;&quot;+no_key.getString()+&quot;&lt;&#47;p&gt;&lt;&#47;body&gt;&lt;&#47;HTML&gt;&quot;;

CONTENT+=&quot;&lt;&#47;tbody&gt;&lt;&#47;table&gt;&lt;p&gt;Thanks,&lt;&#47;p&gt;&lt;p&gt;BPI Support.&lt;&#47;p&gt;&lt;&#47;body&gt;&lt;&#47;HTML&gt;&quot;;
</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>SUBJECT</name>
        <rename>SUBJECT</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>CONTENT</name>
        <rename>CONTENT</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>batchIds</name>
        <rename>batchIds</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>AddCount</name>
        <rename>AddCount</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>ChangeCount</name>
        <rename>ChangeCount</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>DeleteCount</name>
        <rename>DeleteCount</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>InvalidCount</name>
        <rename>InvalidCount</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>SentCount</name>
        <rename>SentCount</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>ReceivedCount</name>
        <rename>ReceivedCount</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>i</name>
        <rename>i</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>2266</xloc>
      <yloc>1205</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>MAIL CREATION 3</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>Y</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>
var SUBJECT=getVariable(&quot;COMPANY_MASTER_SUCCESS_SUBJECT&quot;,&quot;&quot;)+&quot;[&quot;+(date2str(new Date(),&quot;yyyy-MM-dd HH:mm&quot;))+&quot;]&quot;;
&#47;&#47;var CONTENT=&quot;&lt;HTML&gt;&lt;body&gt;Hi,&lt;br&gt;&lt;br&gt;Company Master Interface completed successfully.The below report has been gathered from the interface process:&lt;br&gt;&lt;br&gt;&lt;table cellpadding=&apos;5px&apos; style=&apos;border-collapse:collapse&apos;&gt;&lt;thead&gt;&lt;TR&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Batch ID&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Interface Name&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Sent Count&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Received Count&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Valid Count&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Invalid Count&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Interface Start Time&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Interface End Time&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;&#47;TR&gt;&lt;&#47;thead&gt;&lt;tbody&gt;&lt;TR&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+Batches.getString()+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+INTERFACE_NAME.getString()+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+123+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+456+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+VALID_COUNT.getString()+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+INVALID_COUNT.getString()+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+178+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+195+&quot;&lt;&#47;TD&gt;&lt;&#47;TR&gt;}&lt;&#47;tbody&gt;&lt;&#47;table&gt;&lt;p&gt; Thanks,&lt;&#47;p&gt;&lt;p&gt;BPI Support.&lt;&#47;p&gt;&lt;&#47;body&gt;&lt;&#47;HTML&gt;&quot;;
&#47;&#47;var CONTENT=&quot;&lt;HTML&gt;&lt;body&gt;&lt;br&gt;&lt;br&gt;&quot;+SCONTENT.getString()+&quot;&lt;table cellpadding=&apos;5px&apos; style=&apos;border-collapse:collapse&apos;&gt;&lt;thead&gt;&lt;TR&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Batch ID&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Sent Count&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Received Count&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Add Count&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Change Count&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Delete Count&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Invalid Count&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;&#47;TR&gt;&lt;&#47;thead&gt;&lt;tbody&gt;&quot;;
var CONTENT=&quot;&lt;HTML&gt;&lt;body&gt;&lt;br&gt;&lt;br&gt;&quot;+SCONTENT.getString()+&quot;&lt;table cellpadding=&apos;5px&apos; style=&apos;border-collapse:collapse&apos;&gt;&lt;thead&gt;&lt;TR&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Batch ID&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Sent Count&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Received Count&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Add Count&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Invalid Count&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;&#47;TR&gt;&lt;&#47;thead&gt;&lt;tbody&gt;&quot;;
var batchIds = Batches.getString().split(&quot;,&quot;);
var AddCount=AddCounts.getString().split(&quot;,&quot;);
&#47;&#47;var ChangeCount=ChangeCounts.getString().split(&quot;,&quot;);
&#47;&#47;var DeleteCount=DeleteCounts.getString().split(&quot;,&quot;);
var InvalidCount=InvalidCounts.getString().split(&quot;,&quot;);
var SentCount=SentCounts.getString().split(&quot;,&quot;);
var ReceivedCount=ReceivedCounts.getString().split(&quot;,&quot;);
var i;
var j;
var invalidReason =InvalidReason.getString().split(&quot;,&quot;);
var invalidCount =Count.getString().split(&quot;,&quot;);


var oldBatchId;
var oldReason;

var batchIdForReason = newbatch.getString().split(&quot;,&quot;);

for(i=0;i&lt;batchIds.length;i++){
	
	
if(oldBatchId != batchIds[i]){
	&#47;&#47;CONTENT+= &quot;&lt;tr&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+batchIds[i]+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+SentCount[i]+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+ReceivedCount[i]+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+AddCount[i]+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+ChangeCount[i]+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+DeleteCount[i]+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+InvalidCount[i]+&quot;&lt;&#47;TD&gt;&lt;&#47;tr&gt;&quot;;
	CONTENT+= &quot;&lt;tbody&gt;&lt;tr&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+batchIds[i]+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+SentCount[i]+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+ReceivedCount[i]+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+AddCount[i]+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+InvalidCount[i]+&quot;&lt;&#47;TD&gt;&lt;&#47;tr&gt;&quot;;
oldBatchId = batchIds[i];
}
      
    
}
CONTENT+=&quot;&lt;&#47;tbody&gt;&lt;&#47;table&gt;&quot;;

oldBatchId= &quot;&quot;;

for(i=0;i&lt;batchIdForReason.length;i++){

if(oldBatchId != batchIdForReason[i]){
if(i&gt;0){
CONTENT+=&quot;&lt;&#47;tbody&gt;&lt;&#47;table&gt;&quot;
oldReason = &quot;&quot;;
}

CONTENT+= &quot;&lt;br&gt;&quot;;
CONTENT+= &quot;Batch ID: &quot;+batchIdForReason[i];
CONTENT+= &quot;&lt;table cellpadding=&apos;5px&apos; style=&apos;border-collapse:collapse&apos;&gt;&lt;thead&gt;&lt;TR&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Invalid Reason&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;td style=&apos;background-color:#dbe7ed; border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&lt;b&gt;Count&lt;&#47;b&gt;&lt;&#47;td&gt;&lt;&#47;TR&gt;&lt;&#47;thead&gt;&lt;tbody&gt;&quot;;
}

if(oldReason != invalidReason[i]){

CONTENT+= &quot;&lt;tr&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+invalidReason[i]+&quot;&lt;&#47;TD&gt;&lt;TD style=&apos;border-style:solid; border-color:#bed3dd; border-width:1px&apos;&gt;&quot;+invalidCount[i]+&quot;&lt;&#47;TD&gt;&lt;&#47;tr&gt;&quot;;
oldReason = invalidReason[i];
}

if(i==batchIdForReason.length-1){
CONTENT+=&quot;&lt;&#47;tbody&gt;&lt;&#47;table&gt;&quot;;
}
oldBatchId = batchIdForReason[i];
}








&#47;&#47;CONTENT+=&quot;&lt;&#47;tbody&gt;&lt;&#47;table&gt;&lt;p&gt;&quot;+no_key.getString()+&quot;&lt;&#47;p&gt;&lt;&#47;body&gt;&lt;&#47;HTML&gt;&quot;;

CONTENT+=&quot;&lt;p&gt;Thanks,&lt;br&gt;BPI Support.&lt;&#47;p&gt;&lt;&#47;body&gt;&lt;&#47;HTML&gt;&quot;;
</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>SUBJECT</name>
        <rename>SUBJECT</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>CONTENT</name>
        <rename>CONTENT</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>batchIds</name>
        <rename>batchIds</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>AddCount</name>
        <rename>AddCount</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>InvalidCount</name>
        <rename>InvalidCount</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>SentCount</name>
        <rename>SentCount</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>ReceivedCount</name>
        <rename>ReceivedCount</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>i</name>
        <rename>i</rename>
        <type>Number</type>
        <length>16</length>
        <precision>2</precision>
        <replace>N</replace>
      </field>      <field>        <name>j</name>
        <rename>j</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>invalidReason</name>
        <rename>invalidReason</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>invalidCount</name>
        <rename>invalidCount</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>oldBatchId</name>
        <rename>oldBatchId</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>oldReason</name>
        <rename>oldReason</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>batchIdForReason</name>
        <rename>batchIdForReason</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>2175</xloc>
      <yloc>1225</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Mail</name>
    <type>Mail</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <server>MAIL_SERVER</server>
      <port>MAIL_PORT</port>
      <destination>DESTINATION_ADDRESS</destination>
      <destinationCc>DESTINATION_CC</destinationCc>
      <destinationBCc/>
      <replyToAddresses/>
      <replyto>SENDER_ADDRESS</replyto>
      <replytoname/>
      <subject>SSUBJECT</subject>
      <include_date>N</include_date>
      <include_subfolders>N</include_subfolders>
      <zipFilenameDynamic>N</zipFilenameDynamic>
      <isFilenameDynamic>N</isFilenameDynamic>
      <dynamicFieldname/>
      <dynamicWildcard/>
      <dynamicZipFilename/>
      <sourcefilefoldername/>
      <sourcewildcard/>
      <contact_person/>
      <contact_phone/>
      <comment>CONTENT</comment>
      <include_files>N</include_files>
      <zip_files>N</zip_files>
      <zip_name/>
      <zip_limit_size>0</zip_limit_size>
      <use_auth>N</use_auth>
      <use_secure_auth>N</use_secure_auth>
      <auth_user/>
      <auth_password>Encrypted </auth_password>
      <only_comment>Y</only_comment>
      <use_HTML>Y</use_HTML>
      <use_Priority>N</use_Priority>
    <encoding>UTF-8</encoding>
    <priority>normal</priority>
    <importance>normal</importance>
    <secureconnectiontype>SSL</secureconnectiontype>
      <embeddedimages>
      </embeddedimages>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>2278</xloc>
      <yloc>1709</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Mail 2</name>
    <type>Mail</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <server>MAIL_SERVER</server>
      <port>MAIL_PORT</port>
      <destination>DESTINATION_ADDRESS</destination>
      <destinationCc>DESTINATION_CC</destinationCc>
      <destinationBCc/>
      <replyToAddresses/>
      <replyto>SENDER_ADDRESS</replyto>
      <replytoname/>
      <subject>SSUBJECT</subject>
      <include_date>N</include_date>
      <include_subfolders>N</include_subfolders>
      <zipFilenameDynamic>N</zipFilenameDynamic>
      <isFilenameDynamic>N</isFilenameDynamic>
      <dynamicFieldname/>
      <dynamicWildcard/>
      <dynamicZipFilename/>
      <sourcefilefoldername/>
      <sourcewildcard/>
      <contact_person/>
      <contact_phone/>
      <comment>CONTENT</comment>
      <include_files>N</include_files>
      <zip_files>N</zip_files>
      <zip_name/>
      <zip_limit_size>0</zip_limit_size>
      <use_auth>N</use_auth>
      <use_secure_auth>N</use_secure_auth>
      <auth_user/>
      <auth_password>Encrypted </auth_password>
      <only_comment>Y</only_comment>
      <use_HTML>Y</use_HTML>
      <use_Priority>N</use_Priority>
    <encoding>UTF-8</encoding>
    <priority>normal</priority>
    <importance>normal</importance>
    <secureconnectiontype>SSL</secureconnectiontype>
      <embeddedimages>
      </embeddedimages>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1593</xloc>
      <yloc>1415</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>PICK UNIQUE CONTENT</name>
    <type>Unique</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <count_rows>N</count_rows>
      <count_field/>
      <reject_duplicate_row>N</reject_duplicate_row>
      <error_description/>
    <fields>      <field>        <name>CONTENT</name>
        <case_insensitive>N</case_insensitive>
        </field>      </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1588</xloc>
      <yloc>1312</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>PICK UNIQUE CONTENT 2</name>
    <type>Unique</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <count_rows>N</count_rows>
      <count_field/>
      <reject_duplicate_row>N</reject_duplicate_row>
      <error_description/>
    <fields>      <field>        <name>CONTENT</name>
        <case_insensitive>N</case_insensitive>
        </field>      </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>2278</xloc>
      <yloc>1613</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>RECEIVED_RECORD_COUNT</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>BPI DB</connection>
    <skip_lookup>N</skip_lookup>
    <commit>10000</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>AUDIT_MASTER_INBOUND</table>
      <key>
        <name>batch_id_1</name>
        <field>BATCH_ID</field>
        <condition>=</condition>
        <name2/>
        </key>
      <key>
        <name>STATUS_R</name>
        <field>STATUS</field>
        <condition>=</condition>
        <name2/>
        </key>
      <value>
        <name>RECEIVED_RECORD_COUNT</name>
        <rename>add_count</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1096</xloc>
      <yloc>778</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>REMOVE FIELDS 2</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>        <select_unspecified>N</select_unspecified>
      <remove>        <name>Batches</name>
      </remove>      <remove>        <name>InvalidCounts</name>
      </remove>      <remove>        <name>SentCounts</name>
      </remove>      <remove>        <name>AddCounts</name>
      </remove>      <remove>        <name>batchIds</name>
      </remove>      <remove>        <name>AddCount</name>
      </remove>      <remove>        <name>InvalidCount</name>
      </remove>      <remove>        <name>SentCount</name>
      </remove>      <remove>        <name>i</name>
      </remove>      <remove>        <name>BATCH_ID_SPLIT</name>
      </remove>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1585</xloc>
      <yloc>1217</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>REMOVE FIELDS 2 2</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>        <select_unspecified>N</select_unspecified>
      <remove>        <name>Batches</name>
      </remove>      <remove>        <name>InvalidCounts</name>
      </remove>      <remove>        <name>SentCounts</name>
      </remove>      <remove>        <name>ReceivedCounts</name>
      </remove>      <remove>        <name>AddCounts</name>
      </remove>      <remove>        <name>batchIds</name>
      </remove>      <remove>        <name>AddCount</name>
      </remove>      <remove>        <name>InvalidCount</name>
      </remove>      <remove>        <name>SentCount</name>
      </remove>      <remove>        <name>ReceivedCount</name>
      </remove>      <remove>        <name>i</name>
      </remove>      <remove>        <name>BATCH_ID_SPLIT</name>
      </remove>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>2278</xloc>
      <yloc>1518</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>SET VARIABLES 2</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>&#47;&#47;Script here

var STATUS_N=&quot;C&quot;;
var STATUS_R=&quot;R&quot;;
var INTERFACE_RUN_END_DATE=new Date();</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>STATUS_N</name>
        <rename>STATUS_N</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>STATUS_R</name>
        <rename>STATUS_R</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>INTERFACE_RUN_END_DATE</name>
        <rename>INTERFACE_RUN_END_DATE</rename>
        <type>Date</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1355</xloc>
      <yloc>1116</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>SET VARIABLES 2 2</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>&#47;&#47;Script here

var STATUS_N=&quot;C&quot;;
var STATUS_R=&quot;R&quot;;
var INTERFACE_RUN_END_DATE=new Date();</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>STATUS_N</name>
        <rename>STATUS_N</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>STATUS_R</name>
        <rename>STATUS_R</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>INTERFACE_RUN_END_DATE</name>
        <rename>INTERFACE_RUN_END_DATE</rename>
        <type>Date</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>2532</xloc>
      <yloc>1208</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>SNAPSHOT</name>
    <type>TableOutput</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>STAGING DB</connection>
    <schema/>
    <table>SNAP_ACCRUAL_INBOUND</table>
    <commit>10000</commit>
    <truncate>N</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>Y</use_batch>
    <specify_fields>Y</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field/>
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field/>
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>N</return_keys>
    <return_field>COMPANY_MASTER_INTERFACE_ID</return_field>
    <fields>
        <field>
          <column_name>ACCRUAL_ID</column_name>
          <stream_name>ACCRUAL_ID</stream_name>
        </field>
        <field>
          <column_name>SALES_MASTER_ID</column_name>
          <stream_name>SALES_MASTER_ID</stream_name>
        </field>
        <field>
          <column_name>GL_ACCOUNT</column_name>
          <stream_name>GL_ACCOUNT</stream_name>
        </field>
        <field>
          <column_name>COMPANY_ID</column_name>
          <stream_name>COMPANY_ID</stream_name>
        </field>
        <field>
          <column_name>COMPANY_NO</column_name>
          <stream_name>COMPANY_NO</stream_name>
        </field>
        <field>
          <column_name>COMP_IDENT_CODE_QUALIFIER</column_name>
          <stream_name>COMP_IDENT_CODE_QUALIFIER</stream_name>
        </field>
        <field>
          <column_name>COMPANY_COST_CENTER</column_name>
          <stream_name>COMPANY_COST_CENTER</stream_name>
        </field>
        <field>
          <column_name>ACCOUNT_ID</column_name>
          <stream_name>ACCOUNT_ID</stream_name>
        </field>
        <field>
          <column_name>ACCOUNT_NO</column_name>
          <stream_name>ACCOUNT_NO</stream_name>
        </field>
        <field>
          <column_name>ACCOUNT_NAME</column_name>
          <stream_name>ACCOUNT_NAME</stream_name>
        </field>
        <field>
          <column_name>ACCT_IDENT_CODE_QUALIFIER</column_name>
          <stream_name>ACCT_IDENT_CODE_QUALIFIER</stream_name>
        </field>
        <field>
          <column_name>ITEM_ID</column_name>
          <stream_name>ITEM_ID</stream_name>
        </field>
        <field>
          <column_name>ITEM_NO</column_name>
          <stream_name>ITEM_NO</stream_name>
        </field>
        <field>
          <column_name>ITEM_IDENT_CODE_QUALIFIER</column_name>
          <stream_name>ITEM_IDENT_CODE_QUALIFIER</stream_name>
        </field>
        <field>
          <column_name>CONTRACT_ID</column_name>
          <stream_name>CONTRACT_ID</stream_name>
        </field>
        <field>
          <column_name>BRAND_ID</column_name>
          <stream_name>BRAND_ID</stream_name>
        </field>
        <field>
          <column_name>CATEGORY_ID</column_name>
          <stream_name>CATEGORY_ID</stream_name>
        </field>
        <field>
          <column_name>PROVISION_ID</column_name>
          <stream_name>PROVISION_ID</stream_name>
        </field>
        <field>
          <column_name>ACCRUAL_TYPE</column_name>
          <stream_name>ACCRUAL_TYPE</stream_name>
        </field>
        <field>
          <column_name>ACCRUAL_PERIOD_START_DATE</column_name>
          <stream_name>ACCRUAL_PERIOD_START_DATE</stream_name>
        </field>
        <field>
          <column_name>ACCRUAL_PERIOD_END_DATE</column_name>
          <stream_name>ACCRUAL_PERIOD_END_DATE</stream_name>
        </field>
        <field>
          <column_name>DEDUCTION_AMOUNT</column_name>
          <stream_name>DEDUCTION_AMOUNT</stream_name>
        </field>
        <field>
          <column_name>SUB_LEDGER</column_name>
          <stream_name>SUB_LEDGER</stream_name>
        </field>
        <field>
          <column_name>SUB_LEDGER_TYPE</column_name>
          <stream_name>SUB_LEDGER_TYPE</stream_name>
        </field>
        <field>
          <column_name>DOCUMENT_TYPE</column_name>
          <stream_name>DOCUMENT_TYPE</stream_name>
        </field>
        <field>
          <column_name>POSTING_DATE</column_name>
          <stream_name>POSTING_DATE</stream_name>
        </field>
        <field>
          <column_name>GL_DATE</column_name>
          <stream_name>GL_DATE</stream_name>
        </field>
        <field>
          <column_name>RECORD_CREATED_DATE</column_name>
          <stream_name>RECORD_CREATED_DATE</stream_name>
        </field>
        <field>
          <column_name>BATCH_ID</column_name>
          <stream_name>BATCH_ID</stream_name>
        </field>
        <field>
          <column_name>SOURCE</column_name>
          <stream_name>SOURCE</stream_name>
        </field>
        <field>
          <column_name>CREATED_BY</column_name>
          <stream_name>CREATED_BY</stream_name>
        </field>
        <field>
          <column_name>CREATED_DATE</column_name>
          <stream_name>CREATED_DATE</stream_name>
        </field>
        <field>
          <column_name>MODIFIED_BY</column_name>
          <stream_name>MODIFIED_BY</stream_name>
        </field>
        <field>
          <column_name>MODIFIED_DATE</column_name>
          <stream_name>MODIFIED_DATE</stream_name>
        </field>
        <field>
          <column_name>COMPANY_NAME</column_name>
          <stream_name>COMPANY_NAME</stream_name>
        </field>
        <field>
          <column_name>BUSINESS_UNIT_ID</column_name>
          <stream_name>BUSINESS_UNIT_ID</stream_name>
        </field>
        <field>
          <column_name>BUSINESS_UNIT_NO</column_name>
          <stream_name>BUSINESS_UNIT_NO</stream_name>
        </field>
        <field>
          <column_name>BU_IDENT_CODE_QUALIFIER</column_name>
          <stream_name>BU_IDENT_CODE_QUALIFIER</stream_name>
        </field>
        <field>
          <column_name>BUSINESS_UNIT_NAME</column_name>
          <stream_name>BUSINESS_UNIT_NAME</stream_name>
        </field>
        <field>
          <column_name>ITEM_NAME</column_name>
          <stream_name>ITEM_NAME</stream_name>
        </field>
        <field>
          <column_name>BRAND_NAME</column_name>
          <stream_name>BRAND_NAME</stream_name>
        </field>
        <field>
          <column_name>ACCRUAL_CATEGORY</column_name>
          <stream_name>ACCRUAL_CATEGORY</stream_name>
        </field>
        <field>
          <column_name>ACCRUAL_SCHEDULE_TYPE</column_name>
          <stream_name>ACCRUAL_SCHEDULE_TYPE</stream_name>
        </field>
        <field>
          <column_name>ACCRUAL_PROGRAM_TYPE</column_name>
          <stream_name>ACCRUAL_PROGRAM_TYPE</stream_name>
        </field>
        <field>
          <column_name>SALES_AMOUNT</column_name>
          <stream_name>SALES_AMOUNT</stream_name>
        </field>
        <field>
          <column_name>QUANTITY</column_name>
          <stream_name>QUANTITY</stream_name>
        </field>
        <field>
          <column_name>ACCRUAL_UDC1</column_name>
          <stream_name>ACCRUAL_UDC1</stream_name>
        </field>
        <field>
          <column_name>ACCRUAL_UDC2</column_name>
          <stream_name>ACCRUAL_UDC2</stream_name>
        </field>
        <field>
          <column_name>ACCRUAL_UDC3</column_name>
          <stream_name>ACCRUAL_UDC3</stream_name>
        </field>
        <field>
          <column_name>ACCRUAL_UDC4</column_name>
          <stream_name>ACCRUAL_UDC4</stream_name>
        </field>
        <field>
          <column_name>ACCRUAL_UDC5</column_name>
          <stream_name>ACCRUAL_UDC5</stream_name>
        </field>
        <field>
          <column_name>ACCRUAL_UDC6</column_name>
          <stream_name>ACCRUAL_UDC6</stream_name>
        </field>
        <field>
          <column_name>ACCRUAL_INTFID</column_name>
          <stream_name>ACCRUAL_INBOUND_INTERFACE_ID</stream_name>
        </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>206</xloc>
      <yloc>303</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>STAGING</name>
    <type>TableInput</type>
    <description/>
    <distribute>N</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>STAGING DB</connection>
    <sql>SELECT
  ACCRUAL_INBOUND_INTERFACE_ID
, ACCRUAL_ID
, SALES_MASTER_ID
, GL_ACCOUNT
, COMPANY_ID
, COMPANY_NO
, COMP_IDENT_CODE_QUALIFIER
, COMPANY_COST_CENTER
, ACCOUNT_ID
, ACCOUNT_NO
, ACCOUNT_NAME
, ACCT_IDENT_CODE_QUALIFIER
, ITEM_ID
, ITEM_NO
, ITEM_IDENT_CODE_QUALIFIER
, CONTRACT_ID
, CONTRACT_NO
, CONTRACT_NAME
, BRAND_ID
, CATEGORY_ID
, PROVISION_ID
, ACCRUAL_TYPE
, ACCRUAL_PERIOD_START_DATE
, ACCRUAL_PERIOD_END_DATE
, DEDUCTION_AMOUNT
, SUB_LEDGER
, SUB_LEDGER_TYPE
, DOCUMENT_TYPE
, POSTING_DATE
, GL_DATE
, RECORD_CREATED_DATE
, BATCH_ID
, SOURCE
, CREATED_BY
, CREATED_DATE
, MODIFIED_BY
, MODIFIED_DATE
, ADD_CHG_DEL_INDICATOR
, COMPANY_NAME
, BUSINESS_UNIT_ID
, BUSINESS_UNIT_NO
, BU_IDENT_CODE_QUALIFIER
, BUSINESS_UNIT_NAME
, ITEM_NAME
, BRAND_NAME
, ACCRUAL_CATEGORY
, ACCRUAL_SCHEDULE_TYPE
, ACCRUAL_PROGRAM_TYPE
, SALES_AMOUNT
, QUANTITY
, ACCRUAL_UDC1
, ACCRUAL_UDC2
, ACCRUAL_UDC3
, ACCRUAL_UDC4
, ACCRUAL_UDC5
, ACCRUAL_UDC6
FROM ACCRUAL_INBOUND_INTERFACE
</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>289</xloc>
      <yloc>49</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>STAGING AUDIT</name>
    <type>DBLookup</type>
    <description/>
    <distribute>N</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>STAGING DB</connection>
    <cache>Y</cache>
    <cache_load_all>Y</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema/>
      <table>AUDIT_INBOUND_INTERFACE</table>
      <orderby>AUDIT_ID DESC</orderby>
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>N</eat_row_on_failure>
      <key>
        <name>BATCH</name>
        <field>BATCH_ID</field>
        <condition>=</condition>
        <name2/>
      </key>
      <value>
        <name>AUDIT_ID</name>
        <rename>AUDIT_ID</rename>
        <default/>
        <type>BigNumber</type>
      </value>
    </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>2354</xloc>
      <yloc>1093</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Split field to rows</name>
    <type>SplitFieldToRows3</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
   <splitfield>Batches</splitfield>
   <delimiter>,</delimiter>
   <newfield>BATCH_ID_SPLIT</newfield>
   <rownum>N</rownum>
   <rownum_field/>
   <resetrownumber>Y</resetrownumber>
   <delimiter_is_regex>Y</delimiter_is_regex>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1574</xloc>
      <yloc>1038</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Split field to rows 2</name>
    <type>SplitFieldToRows3</type>
    <description/>
    <distribute>N</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
   <splitfield>Batches</splitfield>
   <delimiter>,</delimiter>
   <newfield>BATCH_ID_SPLIT</newfield>
   <rownum>N</rownum>
   <rownum_field/>
   <resetrownumber>Y</resetrownumber>
   <delimiter_is_regex>Y</delimiter_is_regex>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>2278</xloc>
      <yloc>1326</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>String operations</name>
    <type>StringOperations</type>
    <description/>
    <distribute>N</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <in_stream_name>ACCOUNT_ID</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>ACCOUNT_NAME</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>ACCOUNT_NO</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>ACCRUAL_ID</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>ACCRUAL_TYPE</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>ACCT_IDENT_CODE_QUALIFIER</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>BATCH_ID</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>BRAND_ID</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>CATEGORY_ID</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>COMPANY_COST_CENTER</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>COMPANY_ID</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>COMPANY_NO</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>COMP_IDENT_CODE_QUALIFIER</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>CONTRACT_ID</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>DOCUMENT_TYPE</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>GL_ACCOUNT</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>ITEM_ID</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>ITEM_IDENT_CODE_QUALIFIER</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>ITEM_NO</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>PROVISION_ID</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>SALES_MASTER_ID</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>SOURCE</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>SUB_LEDGER</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>SUB_LEDGER_TYPE</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>298</xloc>
      <yloc>166</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>TEMP</name>
    <type>TableOutput</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>BPI DB</connection>
    <schema/>
    <table>STAG_ACCRUAL_INBOUND</table>
    <commit>10000</commit>
    <truncate>Y</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>Y</use_batch>
    <specify_fields>Y</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field/>
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field/>
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>N</return_keys>
    <return_field>COMPANY_MASTER_INTERFACE_ID</return_field>
    <fields>
        <field>
          <column_name>ACCRUAL_INBOUND_INTERFACE_ID</column_name>
          <stream_name>ACCRUAL_INBOUND_INTERFACE_ID</stream_name>
        </field>
        <field>
          <column_name>ACCRUAL_ID</column_name>
          <stream_name>ACCRUAL_ID</stream_name>
        </field>
        <field>
          <column_name>SALES_MASTER_ID</column_name>
          <stream_name>SALES_MASTER_ID</stream_name>
        </field>
        <field>
          <column_name>GL_ACCOUNT</column_name>
          <stream_name>GL_ACCOUNT</stream_name>
        </field>
        <field>
          <column_name>COMPANY_ID</column_name>
          <stream_name>COMPANY_ID</stream_name>
        </field>
        <field>
          <column_name>COMPANY_NO</column_name>
          <stream_name>COMPANY_NO</stream_name>
        </field>
        <field>
          <column_name>COMP_IDENT_CODE_QUALIFIER</column_name>
          <stream_name>COMP_IDENT_CODE_QUALIFIER</stream_name>
        </field>
        <field>
          <column_name>COMPANY_COST_CENTER</column_name>
          <stream_name>COMPANY_COST_CENTER</stream_name>
        </field>
        <field>
          <column_name>ACCOUNT_ID</column_name>
          <stream_name>ACCOUNT_ID</stream_name>
        </field>
        <field>
          <column_name>ACCOUNT_NO</column_name>
          <stream_name>ACCOUNT_NO</stream_name>
        </field>
        <field>
          <column_name>ACCOUNT_NAME</column_name>
          <stream_name>ACCOUNT_NAME</stream_name>
        </field>
        <field>
          <column_name>ACCT_IDENT_CODE_QUALIFIER</column_name>
          <stream_name>ACCT_IDENT_CODE_QUALIFIER</stream_name>
        </field>
        <field>
          <column_name>ITEM_ID</column_name>
          <stream_name>ITEM_ID</stream_name>
        </field>
        <field>
          <column_name>ITEM_NO</column_name>
          <stream_name>ITEM_NO</stream_name>
        </field>
        <field>
          <column_name>ITEM_IDENT_CODE_QUALIFIER</column_name>
          <stream_name>ITEM_IDENT_CODE_QUALIFIER</stream_name>
        </field>
        <field>
          <column_name>CONTRACT_ID</column_name>
          <stream_name>CONTRACT_ID</stream_name>
        </field>
        <field>
          <column_name>CONTRACT_NO</column_name>
          <stream_name>CONTRACT_NO</stream_name>
        </field>
        <field>
          <column_name>CONTRACT_NAME</column_name>
          <stream_name>CONTRACT_NAME</stream_name>
        </field>
        <field>
          <column_name>BRAND_ID</column_name>
          <stream_name>BRAND_ID</stream_name>
        </field>
        <field>
          <column_name>CATEGORY_ID</column_name>
          <stream_name>CATEGORY_ID</stream_name>
        </field>
        <field>
          <column_name>PROVISION_ID</column_name>
          <stream_name>PROVISION_ID</stream_name>
        </field>
        <field>
          <column_name>ACCRUAL_TYPE</column_name>
          <stream_name>ACCRUAL_TYPE</stream_name>
        </field>
        <field>
          <column_name>ACCRUAL_PERIOD_START_DATE</column_name>
          <stream_name>ACCRUAL_PERIOD_START_DATE</stream_name>
        </field>
        <field>
          <column_name>ACCRUAL_PERIOD_END_DATE</column_name>
          <stream_name>ACCRUAL_PERIOD_END_DATE</stream_name>
        </field>
        <field>
          <column_name>SUB_LEDGER</column_name>
          <stream_name>SUB_LEDGER</stream_name>
        </field>
        <field>
          <column_name>SUB_LEDGER_TYPE</column_name>
          <stream_name>SUB_LEDGER_TYPE</stream_name>
        </field>
        <field>
          <column_name>DOCUMENT_TYPE</column_name>
          <stream_name>DOCUMENT_TYPE</stream_name>
        </field>
        <field>
          <column_name>POSTING_DATE</column_name>
          <stream_name>POSTING_DATE</stream_name>
        </field>
        <field>
          <column_name>GL_DATE</column_name>
          <stream_name>GL_DATE</stream_name>
        </field>
        <field>
          <column_name>RECORD_CREATED_DATE</column_name>
          <stream_name>RECORD_CREATED_DATE</stream_name>
        </field>
        <field>
          <column_name>BATCH_ID</column_name>
          <stream_name>BATCH_ID</stream_name>
        </field>
        <field>
          <column_name>SOURCE</column_name>
          <stream_name>SOURCE</stream_name>
        </field>
        <field>
          <column_name>CREATED_BY</column_name>
          <stream_name>CREATED_BY</stream_name>
        </field>
        <field>
          <column_name>CREATED_DATE</column_name>
          <stream_name>CREATED_DATE</stream_name>
        </field>
        <field>
          <column_name>MODIFIED_BY</column_name>
          <stream_name>MODIFIED_BY</stream_name>
        </field>
        <field>
          <column_name>MODIFIED_DATE</column_name>
          <stream_name>MODIFIED_DATE</stream_name>
        </field>
        <field>
          <column_name>ADD_CHG_DEL_INDICATOR</column_name>
          <stream_name>ADD_CHG_DEL_INDICATOR</stream_name>
        </field>
        <field>
          <column_name>SALES_AMOUNT</column_name>
          <stream_name>SALES_AMOUNT</stream_name>
        </field>
        <field>
          <column_name>QUANTITY</column_name>
          <stream_name>QUANTITY</stream_name>
        </field>
        <field>
          <column_name>ACCRUAL_UDC1</column_name>
          <stream_name>ACCRUAL_UDC1</stream_name>
        </field>
        <field>
          <column_name>ACCRUAL_UDC2</column_name>
          <stream_name>ACCRUAL_UDC2</stream_name>
        </field>
        <field>
          <column_name>ACCRUAL_UDC3</column_name>
          <stream_name>ACCRUAL_UDC3</stream_name>
        </field>
        <field>
          <column_name>ACCRUAL_UDC4</column_name>
          <stream_name>ACCRUAL_UDC4</stream_name>
        </field>
        <field>
          <column_name>ACCRUAL_UDC5</column_name>
          <stream_name>ACCRUAL_UDC5</stream_name>
        </field>
        <field>
          <column_name>ACCRUAL_UDC6</column_name>
          <stream_name>ACCRUAL_UDC6</stream_name>
        </field>
        <field>
          <column_name>BU_IDENT_CODE_QUALIFIER</column_name>
          <stream_name>BU_IDENT_CODE_QUALIFIER</stream_name>
        </field>
        <field>
          <column_name>BUSINESS_UNIT_NAME</column_name>
          <stream_name>BUSINESS_UNIT_NAME</stream_name>
        </field>
        <field>
          <column_name>ITEM_NAME</column_name>
          <stream_name>ITEM_NAME</stream_name>
        </field>
        <field>
          <column_name>BRAND_NAME</column_name>
          <stream_name>BRAND_NAME</stream_name>
        </field>
        <field>
          <column_name>ACCRUAL_CATEGORY</column_name>
          <stream_name>ACCRUAL_CATEGORY</stream_name>
        </field>
        <field>
          <column_name>ACCRUAL_SCHEDULE_TYPE</column_name>
          <stream_name>ACCRUAL_SCHEDULE_TYPE</stream_name>
        </field>
        <field>
          <column_name>DEDUCTION_AMOUNT</column_name>
          <stream_name>DEDUCTION_AMOUNT</stream_name>
        </field>
        <field>
          <column_name>COMPANY_NAME</column_name>
          <stream_name>COMPANY_NAME</stream_name>
        </field>
        <field>
          <column_name>BUSINESS_UNIT_ID</column_name>
          <stream_name>BUSINESS_UNIT_ID</stream_name>
        </field>
        <field>
          <column_name>BUSINESS_UNIT_NO</column_name>
          <stream_name>BUSINESS_UNIT_NO</stream_name>
        </field>
        <field>
          <column_name>ACCRUAL_PROGRAM_TYPE</column_name>
          <stream_name>ACCRUAL_PROGRAM_TYPE</stream_name>
        </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>413</xloc>
      <yloc>319</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>STAGING DB</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>AUDIT_INBOUND_INTERFACE</table>
      <key>
        <name>AUDIT_ID</name>
        <field>AUDIT_ID</field>
        <condition>=</condition>
        <name2/>
        </key>
      <value>
        <name>RECEIVED_RECORD_COUNT</name>
        <rename>RECEIVED_RECORD_COUNT</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>2453</xloc>
      <yloc>1158</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
      <error>
        <source_step>AUDIT_STATUS_UPDATE 2</source_step>
        <target_step>Dummy (do nothing)</target_step>
        <is_enabled>Y</is_enabled>
        <nr_valuename/>
        <descriptions_valuename/>
        <fields_valuename/>
        <codes_valuename/>
        <max_errors/>
        <max_pct_errors/>
        <min_pct_rows/>
      </error>
      <error>
        <source_step>STAGING AUDIT</source_step>
        <target_step>Dummy (do nothing)</target_step>
        <is_enabled>Y</is_enabled>
        <nr_valuename/>
        <descriptions_valuename/>
        <fields_valuename/>
        <codes_valuename/>
        <max_errors/>
        <max_pct_errors/>
        <min_pct_rows/>
      </error>
      <error>
        <source_step>Update</source_step>
        <target_step>Dummy (do nothing)</target_step>
        <is_enabled>Y</is_enabled>
        <nr_valuename/>
        <descriptions_valuename/>
        <fields_valuename/>
        <codes_valuename/>
        <max_errors/>
        <max_pct_errors/>
        <min_pct_rows/>
      </error>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>
</transformation>
