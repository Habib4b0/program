$wnd.com_stpl_app_v8_AppWidgetSet.runAsyncCallback8("var $intern_226 = {16:1, 13:1, 14:1, 12:1, 35:1, 38:1, 457:1, 17:1, 36:1, 11:1, 10:1, 24:1}, $intern_227 = {714:1, 3:1, 5:1}, $intern_228 = 1800000;\nfunction $getRelativeX(this$static, target){\n  var e;\n  e = this$static.nativeEvent;\n  return ((e.clientX || 0) | 0) - $getAbsoluteLeft(target) + $getScrollLeft_0(target) + $getScrollLeft_1(target.ownerDocument);\n}\n\nfunction $getRelativeY(this$static, target){\n  var e;\n  e = this$static.nativeEvent;\n  return ((e.clientY || 0) | 0) - $getAbsoluteTop(target) + ((target.scrollTop || 0) | 0) + $getScrollTop_0(target.ownerDocument);\n}\n\nvar impl;\nfunction TouchEvent$TouchSupportDetector(){\n  this.isSupported = 'ontouchstart' in $wnd;\n}\n\ndefineClass(2471, 1, {}, TouchEvent$TouchSupportDetector);\n_.isSupported = false;\nvar Lcom_google_gwt_event_dom_client_TouchEvent$TouchSupportDetector_2_classLit = createForClass('com.google.gwt.event.dom.client', 'TouchEvent/TouchSupportDetector', 2471, Ljava_lang_Object_2_classLit);\ndefineClass(33, 1, $intern_34);\n_.setTime_0 = function setTime(time){\n  $setTime(this, time);\n}\n;\nfunction $calcNewVelocity(initialVelocity, decelFactor, oldVelocity, minDecel){\n  var maxVelocityX, minVelocityX, newVelocity;\n  newVelocity = initialVelocity * decelFactor;\n  if (oldVelocity >= 0) {\n    maxVelocityX = $wnd.Math.max(0, oldVelocity - minDecel);\n    newVelocity = $wnd.Math.min(newVelocity, maxVelocityX);\n  }\n   else {\n    minVelocityX = $wnd.Math.min(0, oldVelocity + minDecel);\n    newVelocity = $wnd.Math.max(newVelocity, minVelocityX);\n  }\n  return newVelocity;\n}\n\nfunction $updateState(state){\n  var decelFactor, dist, elapsedMillis, ellapsedMillis, initialVelocity, minDecel, newVelocity, newVelocityX, newVelocityY, oldVelocity, position, totalEllapsedMillis;\n  ellapsedMillis = state.elapsedMillis;\n  totalEllapsedMillis = state.cumulativeElapsedMillis;\n  initialVelocity = state.initialVelocity;\n  oldVelocity = state.velocity;\n  decelFactor = $wnd.Math.pow(0.9993, totalEllapsedMillis);\n  minDecel = ellapsedMillis * 5.0E-4;\n  newVelocityX = $calcNewVelocity(initialVelocity.x_0, decelFactor, oldVelocity.x_0, minDecel);\n  newVelocityY = $calcNewVelocity(initialVelocity.y_0, decelFactor, oldVelocity.y_0, minDecel);\n  newVelocity = new Point(newVelocityX, newVelocityY);\n  state.velocity = newVelocity;\n  elapsedMillis = state.elapsedMillis;\n  dist = $mult(newVelocity, new Point(elapsedMillis, elapsedMillis));\n  position = state.position_0;\n  $setPosition(state, new Point(position.x_0 + dist.x_0, position.y_0 + dist.y_0));\n  if ($wnd.Math.abs(newVelocity.x_0) < 0.02 && $wnd.Math.abs(newVelocity.y_0) < 0.02) {\n    return false;\n  }\n  return true;\n}\n\nfunction DefaultMomentum(){\n}\n\ndefineClass(3347, 1, {}, DefaultMomentum);\nvar Lcom_google_gwt_touch_client_DefaultMomentum_2_classLit = createForClass('com.google.gwt.touch.client', 'DefaultMomentum', 3347, Ljava_lang_Object_2_classLit);\nfunction $setCumulativeElapsedMillis(this$static, cumulativeElapsedMillis){\n  this$static.cumulativeElapsedMillis = cumulativeElapsedMillis;\n}\n\nfunction $setElapsedMillis(this$static, elapsedMillis){\n  this$static.elapsedMillis = elapsedMillis;\n}\n\nfunction $setPosition(this$static, position){\n  this$static.position_0 = position;\n}\n\nfunction Momentum$State(initialPosition, initialVelocity){\n  this.initialVelocity = initialVelocity;\n  this.position_0 = new Point_0(initialPosition);\n  this.velocity = new Point_0(initialVelocity);\n}\n\ndefineClass(3348, 1, {}, Momentum$State);\n_.cumulativeElapsedMillis = 0;\n_.elapsedMillis = 0;\nvar Lcom_google_gwt_touch_client_Momentum$State_2_classLit = createForClass('com.google.gwt.touch.client', 'Momentum/State', 3348, Ljava_lang_Object_2_classLit);\nfunction $minus(this$static, c){\n  return new Point(this$static.x_0 - c.x_0, this$static.y_0 - c.y_0);\n}\n\nfunction $mult(this$static, c){\n  return new Point(this$static.x_0 * c.x_0, this$static.y_0 * c.y_0);\n}\n\nfunction $plus(this$static, c){\n  return new Point(this$static.x_0 + c.x_0, this$static.y_0 + c.y_0);\n}\n\nfunction Point_0(c){\n  Point.call(this, c.x_0, c.y_0);\n}\n\ndefineClass(265, 1, {265:1}, Point_0);\nfunction $calculateEndVelocity(from, to){\n  var dist, time;\n  time = to.time - from.time;\n  if (time <= 0) {\n    return null;\n  }\n  dist = $minus(from.point, to.point);\n  return new Point(dist.x_0 / time, dist.y_0 / time);\n}\n\nfunction $cancelAll(this$static){\n  this$static.touching = false;\n  this$static.dragging = false;\n  this$static.momentumCommand = null;\n}\n\nfunction $getWidgetScrollPosition(this$static){\n  return new Point($getHorizontalScrollPosition(this$static.widget), $getVerticalScrollPosition(this$static.widget));\n}\n\nfunction $hitTest(point1, point2){\n  var absDiffX, absDiffY, diff;\n  diff = new Point(point1.x_0 - point2.x_0, point1.y_0 - point2.y_0);\n  absDiffX = $wnd.Math.abs(diff.x_0);\n  absDiffY = $wnd.Math.abs(diff.y_0);\n  return absDiffX <= 25 && absDiffY <= 25;\n}\n\nfunction $isClickScrollTriggeringTouch(this$static, clickPoint){\n  if (this$static.recentScrollTriggeringTouchPosition.point) {\n    return $hitTest(clickPoint, this$static.recentScrollTriggeringTouchPosition.point);\n  }\n  return false;\n}\n\nfunction $isClickTouchPositionDuringMomentum(this$static, clickPoint){\n  var currentTime, point, point$iterator, same;\n  currentTime = now_1();\n  same = false;\n  for (point$iterator = new ArrayList$1(this$static.touchPositionsDuringMomentum); point$iterator.i < point$iterator.this$01.array.length;) {\n    point = castTo($next_7(point$iterator), 524);\n    if (currentTime - point.time <= 2500 && $hitTest(clickPoint, point.point)) {\n      same = true;\n      break;\n    }\n  }\n  return same;\n}\n\nfunction $onDragEnd(this$static){\n  var endVelocity;\n  if (!this$static.momentum) {\n    return;\n  }\n  endVelocity = $calculateEndVelocity(this$static.recentTouchPosition, this$static.lastTouchPosition);\n  if (endVelocity) {\n    this$static.momentumCommand = new TouchScroller$MomentumCommand(this$static, endVelocity);\n    scheduleFixedDelayImpl(($clinit_SchedulerImpl() , this$static.momentumCommand), 16);\n  }\n}\n\nfunction $onTouchEnd(this$static){\n  if (!this$static.touching) {\n    return;\n  }\n  this$static.touching = false;\n  if (this$static.dragging) {\n    this$static.dragging = false;\n    $onDragEnd(this$static);\n  }\n}\n\nfunction $onTouchMove(this$static, event_0){\n  var absDiffX, absDiffY, diff, hMax, hMin, hPosition, touch, touchPoint, touchTime, touches, trackingTime, vMax, vPosition, diff_0, curScrollPosition;\n  if (!this$static.touching) {\n    return;\n  }\n  touch = (touches = event_0.nativeEvent.touches , touches.length > 0?touches[0]:null);\n  touchPoint = new Point((touch.pageX || 0) | 0, (touch.pageY || 0) | 0);\n  touchTime = now_1();\n  $setTemporalPoint(this$static.lastTouchPosition, touchPoint, touchTime);\n  if (!this$static.dragging) {\n    diff = $minus(touchPoint, this$static.startTouchPosition);\n    absDiffX = $wnd.Math.abs(diff.x_0);\n    absDiffY = $wnd.Math.abs(diff.y_0);\n    if (absDiffX > 5 || absDiffY > 5) {\n      $setTemporalPoint(this$static.recentScrollTriggeringTouchPosition, this$static.recentTouchPosition.point, this$static.recentTouchPosition.time);\n      if (absDiffX > absDiffY) {\n        hPosition = $getHorizontalScrollPosition(this$static.widget);\n        hMin = $getMinimumHorizontalScrollPosition_0(this$static.widget);\n        hMax = $getMaximumHorizontalScrollPosition_0(this$static.widget);\n        if (diff.x_0 < 0 && hMax <= hPosition) {\n          $cancelAll(this$static);\n          return;\n        }\n         else if (diff.x_0 > 0 && hMin >= hPosition) {\n          $cancelAll(this$static);\n          return;\n        }\n      }\n       else {\n        vPosition = $getVerticalScrollPosition(this$static.widget);\n        vMax = $getMaximumVerticalScrollPosition(this$static.widget);\n        if (diff.y_0 < 0 && vMax <= vPosition) {\n          $cancelAll(this$static);\n          return;\n        }\n         else if (diff.y_0 > 0 && 0 >= vPosition) {\n          $cancelAll(this$static);\n          return;\n        }\n      }\n      this$static.dragging = true;\n    }\n  }\n  !!event_0.nativeEvent && (event_0.nativeEvent.preventDefault() , undefined);\n  if (this$static.dragging) {\n    diff_0 = $minus(this$static.startTouchPosition, this$static.lastTouchPosition.point);\n    curScrollPosition = $plus(this$static.startScrollPosition, diff_0);\n    $setHorizontalScrollPosition(this$static.widget, round_int(curScrollPosition.x_0));\n    $setVerticalScrollPosition(this$static.widget, round_int(curScrollPosition.y_0));\n    trackingTime = touchTime - this$static.recentTouchPosition.time;\n    if (trackingTime > 200 && !!this$static.recentTouchPositionOnDeck) {\n      $setTemporalPoint(this$static.recentTouchPosition, this$static.recentTouchPositionOnDeck.point, this$static.recentTouchPositionOnDeck.time);\n      this$static.recentTouchPositionOnDeck = null;\n    }\n     else \n      trackingTime > 100 && !this$static.recentTouchPositionOnDeck && (this$static.recentTouchPositionOnDeck = new TouchScroller$TemporalPoint_0(touchPoint, touchTime));\n  }\n}\n\nfunction $onTouchStart(this$static, event_0){\n  var startTouchTime, touch, touches;\n  $setTemporalPoint(this$static.recentScrollTriggeringTouchPosition, null, 0);\n  if (this$static.touching) {\n    return;\n  }\n  touch = (touches = event_0.nativeEvent.touches , touches.length > 0?touches[0]:null);\n  this$static.startTouchPosition = new Point((touch.pageX || 0) | 0, (touch.pageY || 0) | 0);\n  startTouchTime = now_1();\n  $setTemporalPoint(this$static.recentTouchPosition, this$static.startTouchPosition, startTouchTime);\n  $setTemporalPoint(this$static.lastTouchPosition, this$static.startTouchPosition, startTouchTime);\n  this$static.recentTouchPositionOnDeck = null;\n  if (this$static.momentumCommand) {\n    $add_22(this$static.touchPositionsDuringMomentum, new TouchScroller$TemporalPoint_0(this$static.startTouchPosition, startTouchTime));\n    scheduleFixedDelayImpl(($clinit_SchedulerImpl() , this$static.momentumTouchRemovalCommand), 2500);\n  }\n  this$static.startScrollPosition = new Point($getHorizontalScrollPosition(this$static.widget), $getVerticalScrollPosition(this$static.widget));\n  $cancelAll(this$static);\n  this$static.touching = true;\n}\n\nfunction $removeAttachHandler(this$static){\n  if (this$static.attachHandlerReg) {\n    $removeHandler_0(this$static.attachHandlerReg.real);\n    this$static.attachHandlerReg = null;\n  }\n}\n\nfunction $removeBustClickHandler(this$static){\n  if (this$static.bustClickHandlerReg) {\n    $removeHandler_0(this$static.bustClickHandlerReg.real);\n    this$static.bustClickHandlerReg = null;\n  }\n}\n\nfunction $setMomentum(this$static, momentum){\n  this$static.momentum = momentum;\n}\n\nfunction $setTargetWidget(this$static, widget){\n  var reg, reg$iterator;\n  if (this$static.widget == widget) {\n    return;\n  }\n  $cancelAll(this$static);\n  for (reg$iterator = new ArrayList$1(this$static.handlerRegs); reg$iterator.i < reg$iterator.this$01.array.length;) {\n    reg = castTo($next_7(reg$iterator), 387);\n    reg.removeHandler();\n  }\n  this$static.handlerRegs.array = initUnidimensionalArray(Ljava_lang_Object_2_classLit, $intern_2, 1, 0, 5, 1);\n  $removeAttachHandler(this$static);\n  $removeBustClickHandler(this$static);\n  this$static.widget = widget;\n  widget.attached && ($removeBustClickHandler(this$static) , this$static.bustClickHandlerReg = addNativePreviewHandler(new TouchScroller$6(this$static)));\n  this$static.attachHandlerReg = $addHandler_1(widget, new TouchScroller$1(this$static), (!TYPE_19 && (TYPE_19 = new GwtEvent$Type) , TYPE_19));\n  $add_22(this$static.handlerRegs, $addDomHandler(widget, new TouchScroller$2(this$static), ($clinit_TouchStartEvent() , $clinit_TouchStartEvent() , TYPE_18)));\n  $add_22(this$static.handlerRegs, $addDomHandler(widget, new TouchScroller$3(this$static), ($clinit_TouchMoveEvent() , $clinit_TouchMoveEvent() , TYPE_17)));\n  $add_22(this$static.handlerRegs, $addDomHandler(widget, new TouchScroller$4(this$static), ($clinit_TouchEndEvent() , $clinit_TouchEndEvent() , TYPE_16)));\n  $add_22(this$static.handlerRegs, $addDomHandler(widget, new TouchScroller$5(this$static), ($clinit_TouchCancelEvent() , $clinit_TouchCancelEvent() , TYPE_15)));\n}\n\nfunction $setWidgetScrollPosition(this$static, position){\n  $setHorizontalScrollPosition(this$static.widget, round_int(position.x_0));\n  $setVerticalScrollPosition(this$static.widget, round_int(position.y_0));\n}\n\nfunction $setupBustClickHandler(this$static){\n  $removeBustClickHandler(this$static);\n  this$static.bustClickHandlerReg = addNativePreviewHandler(new TouchScroller$6(this$static));\n}\n\nfunction TouchScroller(){\n  this.handlerRegs = new ArrayList;\n  this.lastTouchPosition = new TouchScroller$TemporalPoint;\n  this.recentTouchPosition = new TouchScroller$TemporalPoint;\n  this.recentScrollTriggeringTouchPosition = new TouchScroller$TemporalPoint;\n  this.touchPositionsDuringMomentum = new ArrayList;\n  this.momentumTouchRemovalCommand = new TouchScroller$MomentumTouchRemovalCommand(this);\n  $setMomentum(this, new DefaultMomentum);\n}\n\ndefineClass(3336, 1, {}, TouchScroller);\n_.dragging = false;\n_.touching = false;\nvar isSupported;\nvar Lcom_google_gwt_touch_client_TouchScroller_2_classLit = createForClass('com.google.gwt.touch.client', 'TouchScroller', 3336, Ljava_lang_Object_2_classLit);\nfunction TouchScroller$1(this$0){\n  this.this$01 = this$0;\n}\n\ndefineClass(3340, 1, {3450:1, 8:1}, TouchScroller$1);\n_.onAttachOrDetach = function onAttachOrDetach(event_0){\n  event_0.attached?$setupBustClickHandler(this.this$01):$removeBustClickHandler(this.this$01);\n}\n;\nvar Lcom_google_gwt_touch_client_TouchScroller$1_2_classLit = createForClass('com.google.gwt.touch.client', 'TouchScroller/1', 3340, Ljava_lang_Object_2_classLit);\nfunction TouchScroller$2(this$0){\n  this.this$01 = this$0;\n}\n\ndefineClass(3341, 1, $intern_113, TouchScroller$2);\n_.onTouchStart = function onTouchStart(event_0){\n  $onTouchStart(this.this$01, event_0);\n}\n;\nvar Lcom_google_gwt_touch_client_TouchScroller$2_2_classLit = createForClass('com.google.gwt.touch.client', 'TouchScroller/2', 3341, Ljava_lang_Object_2_classLit);\nfunction TouchScroller$3(this$0){\n  this.this$01 = this$0;\n}\n\ndefineClass(3342, 1, $intern_124, TouchScroller$3);\n_.onTouchMove = function onTouchMove(event_0){\n  $onTouchMove(this.this$01, event_0);\n}\n;\nvar Lcom_google_gwt_touch_client_TouchScroller$3_2_classLit = createForClass('com.google.gwt.touch.client', 'TouchScroller/3', 3342, Ljava_lang_Object_2_classLit);\nfunction TouchScroller$4(this$0){\n  this.this$01 = this$0;\n}\n\ndefineClass(3343, 1, $intern_125, TouchScroller$4);\n_.onTouchEnd = function onTouchEnd(event_0){\n  $onTouchEnd(this.this$01);\n}\n;\nvar Lcom_google_gwt_touch_client_TouchScroller$4_2_classLit = createForClass('com.google.gwt.touch.client', 'TouchScroller/4', 3343, Ljava_lang_Object_2_classLit);\nfunction TouchScroller$5(this$0){\n  this.this$01 = this$0;\n}\n\ndefineClass(3344, 1, $intern_134, TouchScroller$5);\n_.onTouchCancel = function onTouchCancel(event_0){\n  $onTouchEnd(this.this$01);\n}\n;\nvar Lcom_google_gwt_touch_client_TouchScroller$5_2_classLit = createForClass('com.google.gwt.touch.client', 'TouchScroller/5', 3344, Ljava_lang_Object_2_classLit);\nfunction TouchScroller$6(this$0){\n  this.this$01 = this$0;\n}\n\ndefineClass(1103, 1, $intern_76, TouchScroller$6);\n_.onPreviewNativeEvent = function onPreviewNativeEvent(event_0){\n  var clickPoint;\n  if (1 == $getTypeInt(event_0.nativeEvent)) {\n    clickPoint = new Point((event_0.nativeEvent.clientX || 0) | 0, (event_0.nativeEvent.clientY || 0) | 0);\n    if ($isClickScrollTriggeringTouch(this.this$01, clickPoint) || $isClickTouchPositionDuringMomentum(this.this$01, clickPoint)) {\n      event_0.isCanceled = true;\n      event_0.nativeEvent.stopPropagation();\n      event_0.nativeEvent.preventDefault();\n    }\n  }\n}\n;\nvar Lcom_google_gwt_touch_client_TouchScroller$6_2_classLit = createForClass('com.google.gwt.touch.client', 'TouchScroller/6', 1103, Ljava_lang_Object_2_classLit);\nfunction $finish(this$static){\n  if (this$static.windowResizeHandler) {\n    $removeHandler_0(this$static.windowResizeHandler.real);\n    this$static.windowResizeHandler = null;\n  }\n  this$static == this$static.this$01.momentumCommand && (this$static.this$01.momentumCommand = null);\n}\n\nfunction TouchScroller$MomentumCommand(this$0, endVelocity){\n  this.this$01 = this$0;\n  this.duration = new Duration;\n  this.initialPosition = $getWidgetScrollPosition(this.this$01);\n  this.state = new Momentum$State(this.initialPosition, endVelocity);\n  this.windowResizeHandler = addResizeHandler(new TouchScroller$MomentumCommand$1(this));\n}\n\ndefineClass(3337, 1, {}, TouchScroller$MomentumCommand);\n_.execute_0 = function execute_6(){\n  var cumulativeElapsedMillis, hMax, hMin, hPos, notDone, vMax, vPos;\n  if (this != this.this$01.momentumCommand) {\n    $finish(this);\n    return false;\n  }\n  cumulativeElapsedMillis = $elapsedMillis(this.duration);\n  $setElapsedMillis(this.state, cumulativeElapsedMillis - this.lastElapsedMillis);\n  this.lastElapsedMillis = cumulativeElapsedMillis;\n  $setCumulativeElapsedMillis(this.state, cumulativeElapsedMillis);\n  notDone = $updateState(this.state);\n  notDone || $finish(this);\n  $setWidgetScrollPosition(this.this$01, this.state.position_0);\n  hPos = round_int(this.state.position_0.x_0);\n  hMin = $getMinimumHorizontalScrollPosition_0(this.this$01.widget);\n  hMax = $getMaximumHorizontalScrollPosition_0(this.this$01.widget);\n  vMax = $getMaximumVerticalScrollPosition(this.this$01.widget);\n  vPos = round_int(this.state.position_0.y_0);\n  if ((vMax <= vPos || 0 >= vPos) && (hMax <= hPos || hMin >= hPos)) {\n    $finish(this);\n    return false;\n  }\n  return notDone;\n}\n;\n_.lastElapsedMillis = 0;\nvar Lcom_google_gwt_touch_client_TouchScroller$MomentumCommand_2_classLit = createForClass('com.google.gwt.touch.client', 'TouchScroller/MomentumCommand', 3337, Ljava_lang_Object_2_classLit);\nfunction TouchScroller$MomentumCommand$1(this$1){\n  this.this$11 = this$1;\n}\n\ndefineClass(3339, 1, $intern_75, TouchScroller$MomentumCommand$1);\n_.onResize = function onResize(event_0){\n  $finish(this.this$11);\n}\n;\nvar Lcom_google_gwt_touch_client_TouchScroller$MomentumCommand$1_2_classLit = createForClass('com.google.gwt.touch.client', 'TouchScroller/MomentumCommand/1', 3339, Ljava_lang_Object_2_classLit);\nfunction TouchScroller$MomentumTouchRemovalCommand(this$0){\n  this.this$01 = this$0;\n}\n\ndefineClass(3338, 1, {}, TouchScroller$MomentumTouchRemovalCommand);\n_.execute_0 = function execute_7(){\n  var currentTime, iter, point;\n  currentTime = now_1();\n  iter = new ArrayList$1(this.this$01.touchPositionsDuringMomentum);\n  while (iter.i < iter.this$01.array.length) {\n    point = castTo($next_7(iter), 524);\n    currentTime - point.time >= 2500 && $remove_25(iter);\n  }\n  return this.this$01.touchPositionsDuringMomentum.array.length != 0;\n}\n;\nvar Lcom_google_gwt_touch_client_TouchScroller$MomentumTouchRemovalCommand_2_classLit = createForClass('com.google.gwt.touch.client', 'TouchScroller/MomentumTouchRemovalCommand', 3338, Ljava_lang_Object_2_classLit);\nfunction $setTemporalPoint(this$static, point, time){\n  this$static.point = point;\n  this$static.time = time;\n}\n\nfunction TouchScroller$TemporalPoint(){\n}\n\nfunction TouchScroller$TemporalPoint_0(point, time){\n  this.point = point;\n  this.time = time;\n}\n\ndefineClass(524, 1, {524:1}, TouchScroller$TemporalPoint, TouchScroller$TemporalPoint_0);\n_.time = 0;\nvar Lcom_google_gwt_touch_client_TouchScroller$TemporalPoint_2_classLit = createForClass('com.google.gwt.touch.client', 'TouchScroller/TemporalPoint', 524, Ljava_lang_Object_2_classLit);\nfunction $getWidgetTd(this$static, w){\n  if (w.getParent() != this$static) {\n    return null;\n  }\n  return $clinit_DOM() , $clinit_DOM() , $getParentElement(w.element_0);\n}\n\nfunction $setCellHorizontalAlignment_0(this$static, w, align_0){\n  var td;\n  td = $getWidgetTd(this$static, w);\n  !!td && (($clinit_DOM() , td)['align'] = align_0.textAlignString , undefined);\n}\n\nfunction $setCellWidth(this$static, w, width_0){\n  var td;\n  td = $getWidgetTd(this$static, w);\n  !!td && (td['width'] = width_0 , undefined);\n}\n\nfunction $clinit_DockPanel(){\n  $clinit_DockPanel = emptyMethod;\n  CENTER_0 = new DockPanel$DockLayoutConstant;\n  LINE_START = new DockPanel$DockLayoutConstant;\n  LINE_END = new DockPanel$DockLayoutConstant;\n  EAST = new DockPanel$DockLayoutConstant;\n  NORTH = new DockPanel$DockLayoutConstant;\n  SOUTH = new DockPanel$DockLayoutConstant;\n  WEST = new DockPanel$DockLayoutConstant;\n}\n\nfunction $add_4(this$static, widget, direction){\n  var layout;\n  if (direction == CENTER_0) {\n    if (widget == this$static.center) {\n      return;\n    }\n     else if (this$static.center) {\n      throw toJs(new IllegalArgumentException_0('Only one CENTER widget may be added'));\n    }\n  }\n  $removeFromParent_0(widget);\n  $add_9(this$static.children_0, widget);\n  direction == CENTER_0 && (this$static.center = widget);\n  layout = new DockPanel$LayoutData(direction);\n  widget.layoutData = layout;\n  $setCellHorizontalAlignment_1(widget, this$static.horzAlign);\n  $setCellVerticalAlignment_1(widget, this$static.vertAlign);\n  $realizeTable(this$static);\n  $setParent(widget, this$static);\n}\n\nfunction $realizeTable(this$static){\n  var bodyElem, centerTd, child, colCount, dir_0, i_0, it, it0, layout, logicalLeftCol, logicalRightCol, northRow, row, rowCount, rows_0, southRow, td;\n  bodyElem = ($clinit_DOM() , this$static.body_0);\n  while ($getChildCount(bodyElem) > 0) {\n    $removeChild(bodyElem, $getChild_0(bodyElem, 0));\n  }\n  rowCount = 1;\n  colCount = 1;\n  for (it0 = new WidgetCollection$WidgetIterator(this$static.children_0); it0.index_0 < it0.this$01.size_0;) {\n    child = $next_1(it0);\n    dir_0 = child.layoutData.direction_0;\n    dir_0 == NORTH || dir_0 == SOUTH?++rowCount:(dir_0 == EAST || dir_0 == WEST || dir_0 == LINE_START || dir_0 == LINE_END) && ++colCount;\n  }\n  rows_0 = initUnidimensionalArray(Lcom_google_gwt_user_client_ui_DockPanel$TmpRow_2_classLit, $intern_2, 903, rowCount, 0, 1);\n  for (i_0 = 0; i_0 < rowCount; ++i_0) {\n    rows_0[i_0] = new DockPanel$TmpRow;\n    rows_0[i_0].tr = $doc.createElement('tr');\n    $appendChild(bodyElem, resolve(rows_0[i_0].tr));\n  }\n  logicalLeftCol = 0;\n  logicalRightCol = colCount - 1;\n  northRow = 0;\n  southRow = rowCount - 1;\n  centerTd = null;\n  for (it = new WidgetCollection$WidgetIterator(this$static.children_0); it.index_0 < it.this$01.size_0;) {\n    child = $next_1(it);\n    layout = child.layoutData;\n    td = $doc.createElement('td');\n    layout.td = td;\n    layout.td['align'] = layout.hAlign;\n    layout.td.style['verticalAlign'] = layout.vAlign;\n    layout.td['width'] = layout.width_0;\n    layout.td['height'] = layout.height_0;\n    if (layout.direction_0 == NORTH) {\n      insertChild(rows_0[northRow].tr, td, rows_0[northRow].center);\n      $appendChild(td, resolve(child.element_0));\n      td['colSpan'] = logicalRightCol - logicalLeftCol + 1;\n      ++northRow;\n    }\n     else if (layout.direction_0 == SOUTH) {\n      insertChild(rows_0[southRow].tr, td, rows_0[southRow].center);\n      $appendChild(td, resolve(child.element_0));\n      td['colSpan'] = logicalRightCol - logicalLeftCol + 1;\n      --southRow;\n    }\n     else if (layout.direction_0 == CENTER_0) {\n      centerTd = td;\n    }\n     else if ($shouldAddToLogicalLeftOfTable(layout.direction_0)) {\n      row = rows_0[northRow];\n      insertChild(row.tr, td, row.center++);\n      $appendChild(td, resolve(child.element_0));\n      td['rowSpan'] = southRow - northRow + 1;\n      ++logicalLeftCol;\n    }\n     else if ($shouldAddToLogicalRightOfTable(layout.direction_0)) {\n      row = rows_0[northRow];\n      insertChild(row.tr, td, row.center);\n      $appendChild(td, resolve(child.element_0));\n      td['rowSpan'] = southRow - northRow + 1;\n      --logicalRightCol;\n    }\n  }\n  if (this$static.center) {\n    row = rows_0[northRow];\n    insertChild(row.tr, centerTd, row.center);\n    $appendChild(centerTd, resolve($getElement(this$static.center)));\n  }\n}\n\nfunction $setCellHorizontalAlignment_1(w, align_0){\n  var data_0;\n  data_0 = w.layoutData;\n  data_0.hAlign = align_0.textAlignString;\n  !!data_0.td && $setCellHorizontalAlignment(data_0.td, align_0);\n}\n\nfunction $setCellVerticalAlignment_1(w, align_0){\n  var data_0;\n  data_0 = w.layoutData;\n  data_0.vAlign = align_0.verticalAlignString;\n  !!data_0.td && $setCellVerticalAlignment(data_0.td, align_0);\n}\n\nfunction $shouldAddToLogicalLeftOfTable(widgetDirection){\n  if (widgetDirection == LINE_START) {\n    return true;\n  }\n  $clinit_LocaleInfo();\n  return widgetDirection == WEST;\n}\n\nfunction $shouldAddToLogicalRightOfTable(widgetDirection){\n  if (widgetDirection == LINE_END) {\n    return true;\n  }\n  $clinit_LocaleInfo();\n  return widgetDirection == EAST;\n}\n\nfunction DockPanel(){\n  $clinit_DockPanel();\n  CellPanel.call(this);\n  this.horzAlign = ($clinit_HasHorizontalAlignment() , ALIGN_DEFAULT);\n  this.vertAlign = ($clinit_HasVerticalAlignment() , ALIGN_TOP);\n  ($clinit_DOM() , this.table)['cellSpacing'] = 0;\n  this.table['cellPadding'] = 0;\n}\n\ndefineClass(3118, 824, $intern_60, DockPanel);\n_.remove_1 = function remove_2(w){\n  var removed;\n  removed = $remove_2(this, w);\n  if (removed) {\n    w == this.center && (this.center = null);\n    $realizeTable(this);\n  }\n  return removed;\n}\n;\nvar CENTER_0, EAST, LINE_END, LINE_START, NORTH, SOUTH, WEST;\nvar Lcom_google_gwt_user_client_ui_DockPanel_2_classLit = createForClass('com.google.gwt.user.client.ui', 'DockPanel', 3118, Lcom_google_gwt_user_client_ui_CellPanel_2_classLit);\nfunction DockPanel$DockLayoutConstant(){\n}\n\ndefineClass(579, 1, {}, DockPanel$DockLayoutConstant);\nvar Lcom_google_gwt_user_client_ui_DockPanel$DockLayoutConstant_2_classLit = createForClass('com.google.gwt.user.client.ui', 'DockPanel/DockLayoutConstant', 579, Ljava_lang_Object_2_classLit);\nfunction DockPanel$LayoutData(dir_0){\n  this.hAlign = ($clinit_HasHorizontalAlignment() , ALIGN_DEFAULT).textAlignString;\n  this.vAlign = ($clinit_HasVerticalAlignment() , ALIGN_TOP).verticalAlignString;\n  this.direction_0 = dir_0;\n}\n\ndefineClass(3119, 1, {}, DockPanel$LayoutData);\n_.height_0 = '';\n_.width_0 = '';\nvar Lcom_google_gwt_user_client_ui_DockPanel$LayoutData_2_classLit = createForClass('com.google.gwt.user.client.ui', 'DockPanel/LayoutData', 3119, Ljava_lang_Object_2_classLit);\nfunction DockPanel$TmpRow(){\n}\n\ndefineClass(903, 1, {903:1}, DockPanel$TmpRow);\n_.center = 0;\nvar Lcom_google_gwt_user_client_ui_DockPanel$TmpRow_2_classLit = createForClass('com.google.gwt.user.client.ui', 'DockPanel/TmpRow', 903, Ljava_lang_Object_2_classLit);\nfunction $removeAllRows(this$static){\n  var i_0, numRows;\n  numRows = $getDOMRowCount(this$static.bodyElem);\n  for (i_0 = 0; i_0 < numRows; i_0++) {\n    $removeRow(this$static, 0);\n  }\n}\n\nfunction $add_7(this$static, w){\n  var td, td_0;\n  td = (td_0 = ($clinit_DOM() , $doc.createElement('td')) , $setCellHorizontalAlignment(td_0, this$static.horzAlign) , $setCellVerticalAlignment(td_0, this$static.vertAlign) , td_0);\n  $appendChild(this$static.tableRow, resolve(td));\n  $add_1(this$static, w, td);\n}\n\nfunction HorizontalPanel(){\n  CellPanel.call(this);\n  this.horzAlign = ($clinit_HasHorizontalAlignment() , ALIGN_DEFAULT);\n  this.vertAlign = ($clinit_HasVerticalAlignment() , ALIGN_TOP);\n  this.tableRow = ($clinit_DOM() , $doc.createElement('tr'));\n  $appendChild(this.body_0, resolve(this.tableRow));\n  this.table['cellSpacing'] = '0';\n  this.table['cellPadding'] = '0';\n}\n\ndefineClass(457, 824, $intern_226, HorizontalPanel);\n_.add_1 = function add_8(w){\n  $add_7(this, w);\n}\n;\n_.remove_1 = function remove_6(w){\n  var removed, td;\n  td = ($clinit_DOM() , $getParentElement(w.element_0));\n  removed = $remove_2(this, w);\n  removed && $removeChild(this.tableRow, td);\n  return removed;\n}\n;\nvar Lcom_google_gwt_user_client_ui_HorizontalPanel_2_classLit = createForClass('com.google.gwt.user.client.ui', 'HorizontalPanel', 457, Lcom_google_gwt_user_client_ui_CellPanel_2_classLit);\nfunction $getMaximumHorizontalScrollPosition(scrollable){\n  return $isRtl(scrollable)?0:((scrollable.scrollWidth || 0) | 0) - (scrollable.clientWidth | 0);\n}\n\nfunction $getMinimumHorizontalScrollPosition(scrollable){\n  return $isRtl(scrollable)?(scrollable.clientWidth | 0) - ((scrollable.scrollWidth || 0) | 0):0;\n}\n\nfunction $isRtl(scrollable){\n  var computedStyle = $doc.defaultView.getComputedStyle(scrollable, null);\n  return computedStyle.getPropertyValue('direction') == 'rtl';\n}\n\nfunction ScrollImpl(){\n}\n\ndefineClass(929, 1, {}, ScrollImpl);\nvar impl_3;\nvar Lcom_google_gwt_user_client_ui_ScrollImpl_2_classLit = createForClass('com.google.gwt.user.client.ui', 'ScrollImpl', 929, Ljava_lang_Object_2_classLit);\nfunction $addScrollHandler(this$static, handler){\n  sinkEvents_0(($clinit_DOM() , this$static.scrollableElem), $intern_48);\n  return $addHandler_1(this$static, handler, ($clinit_ScrollEvent() , $clinit_ScrollEvent() , TYPE_14));\n}\n\nfunction $getHorizontalScrollPosition(this$static){\n  return $getScrollLeft_0(($clinit_DOM() , this$static.scrollableElem));\n}\n\nfunction $getMaximumHorizontalScrollPosition_0(this$static){\n  return $getMaximumHorizontalScrollPosition((!impl_3 && (impl_3 = new ScrollImpl) , $clinit_DOM() , this$static.scrollableElem));\n}\n\nfunction $getMaximumVerticalScrollPosition(this$static){\n  return ((($clinit_DOM() , this$static.scrollableElem).scrollHeight || 0) | 0) - (this$static.scrollableElem.clientHeight | 0);\n}\n\nfunction $getMinimumHorizontalScrollPosition_0(this$static){\n  return $getMinimumHorizontalScrollPosition((!impl_3 && (impl_3 = new ScrollImpl) , $clinit_DOM() , this$static.scrollableElem));\n}\n\nfunction $getVerticalScrollPosition(this$static){\n  return (($clinit_DOM() , this$static.scrollableElem).scrollTop || 0) | 0;\n}\n\nfunction $setHorizontalScrollPosition(this$static, position){\n  $setScrollLeft(($clinit_DOM() , this$static.scrollableElem), position);\n}\n\nfunction $setTouchScrollingDisabled(this$static){\n  var scroller, ua;\n  if (this$static.touchScroller) {\n    return false;\n  }\n  this$static.touchScroller = (scroller = (isSupported == null && (isSupported = ($clinit_Boolean() , !impl && (impl = new TouchEvent$TouchSupportDetector) , impl.isSupported && !(ua = navigator.userAgent.toLowerCase() , /android ([3-9]+)\\.([0-9]+)/.exec(ua) != null)?true:false)) , $booleanValue(isSupported)?new TouchScroller:null) , !!scroller && $setTargetWidget(scroller, this$static) , scroller);\n  return !this$static.touchScroller;\n}\n\nfunction $setVerticalScrollPosition(this$static, position){\n  $setScrollTop(($clinit_DOM() , this$static.scrollableElem), position);\n}\n\nfunction ScrollPanel(){\n  SimplePanel.call(this);\n  this.scrollableElem = ($clinit_DOM() , this.element_0);\n  this.containerElem = $doc.createElement('div');\n  $appendChild(this.scrollableElem, this.containerElem);\n  this.scrollableElem.style['overflow'] = ($clinit_Style$Overflow() , 'auto');\n  this.scrollableElem.style['position'] = ($clinit_Style$Position() , 'relative');\n  this.containerElem.style['position'] = 'relative';\n  this.scrollableElem.style['zoom'] = '1';\n  this.containerElem.style['zoom'] = '1';\n  $setTouchScrollingDisabled(this);\n  !impl_3 && (impl_3 = new ScrollImpl);\n}\n\ndefineClass(923, 73, {16:1, 13:1, 14:1, 133:1, 132:1, 12:1, 35:1, 38:1, 17:1, 36:1, 388:1, 923:1, 73:1, 11:1, 10:1, 24:1}, ScrollPanel);\n_.getContainerElement = function getContainerElement_1(){\n  return $clinit_DOM() , this.containerElem;\n}\n;\n_.onAttach = function onAttach_5(){\n  $onAttach(this);\n  $clinit_DOM();\n  this.scrollableElem.__listener = this;\n}\n;\n_.onDetach = function onDetach_5(){\n  $clinit_DOM();\n  this.scrollableElem.__listener = null;\n  $onDetach(this);\n}\n;\n_.onResize_0 = function onResize_3(){\n  var child;\n  child = this.widget;\n  !!child && instanceOf(child, 388) && castTo(child, 388).onResize_0();\n}\n;\n_.setHeight = function setHeight_2(height){\n  ($clinit_DOM() , this.element_0).style['height'] = height;\n}\n;\n_.setWidth = function setWidth_2(width_0){\n  ($clinit_DOM() , this.element_0).style['width'] = width_0;\n}\n;\nvar Lcom_google_gwt_user_client_ui_ScrollPanel_2_classLit = createForClass('com.google.gwt.user.client.ui', 'ScrollPanel', 923, Lcom_google_gwt_user_client_ui_SimplePanel_2_classLit);\nfunction TooltipInfo(){\n}\n\ndefineClass(178, 1, {178:1}, TooltipInfo);\nfunction $actionOnEmptyCell(this$static, p0, p1, p2){\n  $invoke(this$static.val$handler2, new Method(new Type(Lcom_vaadin_v7_shared_ui_calendar_CalendarServerRpc_2_classLit), 'actionOnEmptyCell'), stampJavaTypeInfo(getClassLiteralForArray(Ljava_lang_Object_2_classLit, 1), $intern_2, 1, 5, [p0, p1, p2]));\n}\n\nfunction $actionOnEvent(this$static, p0, p1, p2, p3){\n  $invoke(this$static.val$handler2, new Method(new Type(Lcom_vaadin_v7_shared_ui_calendar_CalendarServerRpc_2_classLit), 'actionOnEvent'), stampJavaTypeInfo(getClassLiteralForArray(Ljava_lang_Object_2_classLit, 1), $intern_2, 1, 5, [p0, p1, p2, valueOf_86(p3)]));\n}\n\nfunction $dateClick(this$static, p0){\n  $invoke(this$static.val$handler2, new Method(new Type(Lcom_vaadin_v7_shared_ui_calendar_CalendarServerRpc_2_classLit), 'dateClick'), stampJavaTypeInfo(getClassLiteralForArray(Ljava_lang_Object_2_classLit, 1), $intern_2, 1, 5, [p0]));\n}\n\nfunction $eventClick(this$static, p0){\n  $invoke(this$static.val$handler2, new Method(new Type(Lcom_vaadin_v7_shared_ui_calendar_CalendarServerRpc_2_classLit), 'eventClick'), stampJavaTypeInfo(getClassLiteralForArray(Ljava_lang_Object_2_classLit, 1), $intern_2, 1, 5, [valueOf_86(p0)]));\n}\n\nfunction $eventMove(this$static, p0, p1){\n  $invoke(this$static.val$handler2, new Method(new Type(Lcom_vaadin_v7_shared_ui_calendar_CalendarServerRpc_2_classLit), 'eventMove'), stampJavaTypeInfo(getClassLiteralForArray(Ljava_lang_Object_2_classLit, 1), $intern_2, 1, 5, [valueOf_86(p0), p1]));\n}\n\nfunction $eventResize(this$static, p0, p1, p2){\n  $invoke(this$static.val$handler2, new Method(new Type(Lcom_vaadin_v7_shared_ui_calendar_CalendarServerRpc_2_classLit), 'eventResize'), stampJavaTypeInfo(getClassLiteralForArray(Ljava_lang_Object_2_classLit, 1), $intern_2, 1, 5, [valueOf_86(p0), p1, p2]));\n}\n\nfunction $rangeSelect(this$static, p0){\n  $invoke(this$static.val$handler2, new Method(new Type(Lcom_vaadin_v7_shared_ui_calendar_CalendarServerRpc_2_classLit), 'rangeSelect'), stampJavaTypeInfo(getClassLiteralForArray(Ljava_lang_Object_2_classLit, 1), $intern_2, 1, 5, [p0]));\n}\n\nfunction $scroll_0(this$static, p0){\n  $invoke(this$static.val$handler2, new Method(new Type(Lcom_vaadin_v7_shared_ui_calendar_CalendarServerRpc_2_classLit), 'scroll'), stampJavaTypeInfo(getClassLiteralForArray(Ljava_lang_Object_2_classLit, 1), $intern_2, 1, 5, [valueOf_86(p0)]));\n}\n\nfunction $weekClick(this$static, p0){\n  $invoke(this$static.val$handler2, new Method(new Type(Lcom_vaadin_v7_shared_ui_calendar_CalendarServerRpc_2_classLit), 'weekClick'), stampJavaTypeInfo(getClassLiteralForArray(Ljava_lang_Object_2_classLit, 1), $intern_2, 1, 5, [p0]));\n}\n\nfunction $load_1(this$static){\n  $setSuperClass(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Action_2_classLit, Ljava_lang_Object_2_classLit);\n  $setSuperClass(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Day_2_classLit, Ljava_lang_Object_2_classLit);\n  $setSuperClass(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Event_2_classLit, Ljava_lang_Object_2_classLit);\n  $setSuperClass(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState_2_classLit, Lcom_vaadin_v7_shared_AbstractLegacyComponentState_2_classLit);\n  $setClass(this$static.val$store2, 'com.vaadin.v7.ui.Calendar', Lcom_vaadin_v7_client_ui_calendar_CalendarConnector_2_classLit);\n  $setInvoker(this$static.val$store2, Lcom_vaadin_v7_client_ui_VCalendar_2_classLit, '!new', new ConnectorBundleLoaderImpl$8$1$1);\n  $setInvoker(this$static.val$store2, Lcom_vaadin_v7_client_ui_calendar_CalendarConnector_2_classLit, '!new', new ConnectorBundleLoaderImpl$8$1$2);\n  $setInvoker(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState_2_classLit, '!new', new ConnectorBundleLoaderImpl$8$1$3);\n  $setInvoker(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Action_2_classLit, '!new', new ConnectorBundleLoaderImpl$8$1$4);\n  $setInvoker(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Day_2_classLit, '!new', new ConnectorBundleLoaderImpl$8$1$5);\n  $setInvoker(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Event_2_classLit, '!new', new ConnectorBundleLoaderImpl$8$1$6);\n  $setReturnType(this$static.val$store2, Lcom_vaadin_v7_client_ui_calendar_CalendarConnector_2_classLit, 'getWidget', new Type(Lcom_vaadin_v7_client_ui_VCalendar_2_classLit));\n  $setReturnType(this$static.val$store2, Lcom_vaadin_v7_client_ui_calendar_CalendarConnector_2_classLit, 'getState', new Type(Lcom_vaadin_v7_shared_ui_calendar_CalendarState_2_classLit));\n  $loadNativeJs_8(this$static.val$store2);\n  $setPropertyType(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Action_2_classLit, 'actionKey', new Type(Ljava_lang_String_2_classLit));\n  $setPropertyType(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState_2_classLit, 'actions', new Type_0('java.util.List', stampJavaTypeInfo(getClassLiteralForArray(Lcom_vaadin_client_metadata_Type_2_classLit, 1), $intern_114, 4, 0, [new Type(Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Action_2_classLit)])));\n  $setPropertyType(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Event_2_classLit, 'allDay', new Type(Ljava_lang_Boolean_2_classLit));\n  $setPropertyType(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Action_2_classLit, 'caption', new Type(Ljava_lang_String_2_classLit));\n  $setPropertyType(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Event_2_classLit, 'caption', new Type(Ljava_lang_String_2_classLit));\n  $setPropertyType(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Day_2_classLit, 'date', new Type(Ljava_lang_String_2_classLit));\n  $setPropertyType(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Event_2_classLit, 'dateFrom', new Type(Ljava_lang_String_2_classLit));\n  $setPropertyType(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Event_2_classLit, 'dateTo', new Type(Ljava_lang_String_2_classLit));\n  $setPropertyType(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState_2_classLit, 'dayNames', new Type(getClassLiteralForArray(Ljava_lang_String_2_classLit, 1)));\n  $setPropertyType(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Day_2_classLit, 'dayOfWeek', new Type(Ljava_lang_Integer_2_classLit));\n  $setPropertyType(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState_2_classLit, 'days', new Type_0('java.util.List', stampJavaTypeInfo(getClassLiteralForArray(Lcom_vaadin_client_metadata_Type_2_classLit, 1), $intern_114, 4, 0, [new Type(Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Day_2_classLit)])));\n  $setPropertyType(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Event_2_classLit, 'description', new Type(Ljava_lang_String_2_classLit));\n  $setPropertyType(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Action_2_classLit, 'endDate', new Type(Ljava_lang_String_2_classLit));\n  $setPropertyType(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState_2_classLit, 'eventCaptionAsHtml', new Type(Ljava_lang_Boolean_2_classLit));\n  $setPropertyType(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState_2_classLit, 'eventSortOrder', new Type(Lcom_vaadin_v7_shared_ui_calendar_CalendarState$EventSortOrder_2_classLit));\n  $setPropertyType(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState_2_classLit, 'events', new Type_0('java.util.List', stampJavaTypeInfo(getClassLiteralForArray(Lcom_vaadin_client_metadata_Type_2_classLit, 1), $intern_114, 4, 0, [new Type(Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Event_2_classLit)])));\n  $setPropertyType(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState_2_classLit, 'firstDayOfWeek', new Type(Ljava_lang_Integer_2_classLit));\n  $setPropertyType(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState_2_classLit, 'firstHourOfDay', new Type(Ljava_lang_Integer_2_classLit));\n  $setPropertyType(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState_2_classLit, 'firstVisibleDayOfWeek', new Type(Ljava_lang_Integer_2_classLit));\n  $setPropertyType(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState_2_classLit, 'format24H', new Type(Ljava_lang_Boolean_2_classLit));\n  $setPropertyType(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Action_2_classLit, 'iconKey', new Type(Ljava_lang_String_2_classLit));\n  $setPropertyType(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Event_2_classLit, 'index', new Type(Ljava_lang_Integer_2_classLit));\n  $setPropertyType(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState_2_classLit, 'lastHourOfDay', new Type(Ljava_lang_Integer_2_classLit));\n  $setPropertyType(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState_2_classLit, 'lastVisibleDayOfWeek', new Type(Ljava_lang_Integer_2_classLit));\n  $setPropertyType(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Day_2_classLit, 'localizedDateFormat', new Type(Ljava_lang_String_2_classLit));\n  $setPropertyType(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState_2_classLit, 'monthNames', new Type(getClassLiteralForArray(Ljava_lang_String_2_classLit, 1)));\n  $setPropertyType(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState_2_classLit, 'now', new Type(Ljava_lang_String_2_classLit));\n  $setPropertyType(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState_2_classLit, 'scroll', new Type(Ljava_lang_Integer_2_classLit));\n  $setPropertyType(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Action_2_classLit, 'startDate', new Type(Ljava_lang_String_2_classLit));\n  $setPropertyType(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Event_2_classLit, 'styleName', new Type(Ljava_lang_String_2_classLit));\n  $setPropertyType(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Event_2_classLit, 'timeFrom', new Type(Ljava_lang_String_2_classLit));\n  $setPropertyType(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Event_2_classLit, 'timeTo', new Type(Ljava_lang_String_2_classLit));\n  $setPropertyType(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Day_2_classLit, 'week', new Type(Ljava_lang_Integer_2_classLit));\n  $setPropertyType(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Day_2_classLit, 'yearOfWeek', new Type(Ljava_lang_Integer_2_classLit));\n  $setSerializerFactory(this$static.val$store2, Lcom_vaadin_v7_shared_ui_calendar_CalendarState$EventSortOrder_2_classLit, new ConnectorBundleLoaderImpl$8$1$7);\n  $addOnStateChangeMethod(this$static.val$store2, Lcom_vaadin_v7_client_ui_calendar_CalendarConnector_2_classLit, new OnStateChangeMethod(Lcom_vaadin_client_ui_AbstractComponentConnector_2_classLit, 'handleContextClickListenerChange', stampJavaTypeInfo(getClassLiteralForArray(Ljava_lang_String_2_classLit, 1), $intern_3, 2, 6, ['registeredEventListeners'])));\n}\n\nfunction $loadNativeJs_8(store){\n  var data_0 = {setter:function(bean, value_0){\n    bean.actionKey = value_0;\n  }\n  , getter:function(bean){\n    return bean.actionKey;\n  }\n  };\n  store.setPropertyData(Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Action_2_classLit, 'actionKey', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.actions = value_0;\n  }\n  , getter:function(bean){\n    return bean.actions;\n  }\n  };\n  store.setPropertyData(Lcom_vaadin_v7_shared_ui_calendar_CalendarState_2_classLit, 'actions', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.allDay = booleanValue__Z__devirtual$(value_0);\n  }\n  , getter:function(bean){\n    return valueOf_82(bean.allDay);\n  }\n  };\n  store.setPropertyData(Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Event_2_classLit, 'allDay', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.caption_0 = value_0;\n  }\n  , getter:function(bean){\n    return bean.caption_0;\n  }\n  };\n  store.setPropertyData(Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Action_2_classLit, 'caption', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.caption_0 = value_0;\n  }\n  , getter:function(bean){\n    return bean.caption_0;\n  }\n  };\n  store.setPropertyData(Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Event_2_classLit, 'caption', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.date = value_0;\n  }\n  , getter:function(bean){\n    return bean.date;\n  }\n  };\n  store.setPropertyData(Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Day_2_classLit, 'date', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.dateFrom = value_0;\n  }\n  , getter:function(bean){\n    return bean.dateFrom;\n  }\n  };\n  store.setPropertyData(Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Event_2_classLit, 'dateFrom', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.dateTo = value_0;\n  }\n  , getter:function(bean){\n    return bean.dateTo;\n  }\n  };\n  store.setPropertyData(Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Event_2_classLit, 'dateTo', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.dayNames = value_0;\n  }\n  , getter:function(bean){\n    return bean.dayNames;\n  }\n  };\n  store.setPropertyData(Lcom_vaadin_v7_shared_ui_calendar_CalendarState_2_classLit, 'dayNames', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.dayOfWeek = value_0.intValue();\n  }\n  , getter:function(bean){\n    return valueOf_86(bean.dayOfWeek);\n  }\n  };\n  store.setPropertyData(Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Day_2_classLit, 'dayOfWeek', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.days = value_0;\n  }\n  , getter:function(bean){\n    return bean.days;\n  }\n  };\n  store.setPropertyData(Lcom_vaadin_v7_shared_ui_calendar_CalendarState_2_classLit, 'days', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.description = value_0;\n  }\n  , getter:function(bean){\n    return bean.description;\n  }\n  };\n  store.setPropertyData(Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Event_2_classLit, 'description', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.endDate = value_0;\n  }\n  , getter:function(bean){\n    return bean.endDate;\n  }\n  };\n  store.setPropertyData(Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Action_2_classLit, 'endDate', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.eventCaptionAsHtml = booleanValue__Z__devirtual$(value_0);\n  }\n  , getter:function(bean){\n    return valueOf_82(bean.eventCaptionAsHtml);\n  }\n  };\n  store.setPropertyData(Lcom_vaadin_v7_shared_ui_calendar_CalendarState_2_classLit, 'eventCaptionAsHtml', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.eventSortOrder = value_0;\n  }\n  , getter:function(bean){\n    return bean.eventSortOrder;\n  }\n  };\n  store.setPropertyData(Lcom_vaadin_v7_shared_ui_calendar_CalendarState_2_classLit, 'eventSortOrder', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.events = value_0;\n  }\n  , getter:function(bean){\n    return bean.events;\n  }\n  };\n  store.setPropertyData(Lcom_vaadin_v7_shared_ui_calendar_CalendarState_2_classLit, 'events', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.firstDayOfWeek = value_0.intValue();\n  }\n  , getter:function(bean){\n    return valueOf_86(bean.firstDayOfWeek);\n  }\n  };\n  store.setPropertyData(Lcom_vaadin_v7_shared_ui_calendar_CalendarState_2_classLit, 'firstDayOfWeek', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.firstHourOfDay = value_0.intValue();\n  }\n  , getter:function(bean){\n    return valueOf_86(bean.firstHourOfDay);\n  }\n  };\n  store.setPropertyData(Lcom_vaadin_v7_shared_ui_calendar_CalendarState_2_classLit, 'firstHourOfDay', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.firstVisibleDayOfWeek = value_0.intValue();\n  }\n  , getter:function(bean){\n    return valueOf_86(bean.firstVisibleDayOfWeek);\n  }\n  };\n  store.setPropertyData(Lcom_vaadin_v7_shared_ui_calendar_CalendarState_2_classLit, 'firstVisibleDayOfWeek', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.format24H = booleanValue__Z__devirtual$(value_0);\n  }\n  , getter:function(bean){\n    return valueOf_82(bean.format24H);\n  }\n  };\n  store.setPropertyData(Lcom_vaadin_v7_shared_ui_calendar_CalendarState_2_classLit, 'format24H', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.iconKey = value_0;\n  }\n  , getter:function(bean){\n    return bean.iconKey;\n  }\n  };\n  store.setPropertyData(Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Action_2_classLit, 'iconKey', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.index_0 = value_0.intValue();\n  }\n  , getter:function(bean){\n    return valueOf_86(bean.index_0);\n  }\n  };\n  store.setPropertyData(Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Event_2_classLit, 'index', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.lastHourOfDay = value_0.intValue();\n  }\n  , getter:function(bean){\n    return valueOf_86(bean.lastHourOfDay);\n  }\n  };\n  store.setPropertyData(Lcom_vaadin_v7_shared_ui_calendar_CalendarState_2_classLit, 'lastHourOfDay', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.lastVisibleDayOfWeek = value_0.intValue();\n  }\n  , getter:function(bean){\n    return valueOf_86(bean.lastVisibleDayOfWeek);\n  }\n  };\n  store.setPropertyData(Lcom_vaadin_v7_shared_ui_calendar_CalendarState_2_classLit, 'lastVisibleDayOfWeek', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.localizedDateFormat = value_0;\n  }\n  , getter:function(bean){\n    return bean.localizedDateFormat;\n  }\n  };\n  store.setPropertyData(Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Day_2_classLit, 'localizedDateFormat', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.monthNames = value_0;\n  }\n  , getter:function(bean){\n    return bean.monthNames;\n  }\n  };\n  store.setPropertyData(Lcom_vaadin_v7_shared_ui_calendar_CalendarState_2_classLit, 'monthNames', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.now_0 = value_0;\n  }\n  , getter:function(bean){\n    return bean.now_0;\n  }\n  };\n  store.setPropertyData(Lcom_vaadin_v7_shared_ui_calendar_CalendarState_2_classLit, 'now', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.scroll_0 = value_0.intValue();\n  }\n  , getter:function(bean){\n    return valueOf_86(bean.scroll_0);\n  }\n  };\n  store.setPropertyData(Lcom_vaadin_v7_shared_ui_calendar_CalendarState_2_classLit, 'scroll', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.startDate = value_0;\n  }\n  , getter:function(bean){\n    return bean.startDate;\n  }\n  };\n  store.setPropertyData(Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Action_2_classLit, 'startDate', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.styleName = value_0;\n  }\n  , getter:function(bean){\n    return bean.styleName;\n  }\n  };\n  store.setPropertyData(Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Event_2_classLit, 'styleName', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.timeFrom = value_0;\n  }\n  , getter:function(bean){\n    return bean.timeFrom;\n  }\n  };\n  store.setPropertyData(Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Event_2_classLit, 'timeFrom', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.timeTo = value_0;\n  }\n  , getter:function(bean){\n    return bean.timeTo;\n  }\n  };\n  store.setPropertyData(Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Event_2_classLit, 'timeTo', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.week = value_0.intValue();\n  }\n  , getter:function(bean){\n    return valueOf_86(bean.week);\n  }\n  };\n  store.setPropertyData(Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Day_2_classLit, 'week', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.yearOfWeek = value_0.intValue();\n  }\n  , getter:function(bean){\n    return valueOf_86(bean.yearOfWeek);\n  }\n  };\n  store.setPropertyData(Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Day_2_classLit, 'yearOfWeek', data_0);\n}\n\ndefineClass(2390, 1, $intern_83);\n_.onSuccess_1 = function onSuccess_12(){\n  $load_1(this);\n  $setLoaded_0((!impl_5 && (impl_5 = new ConnectorBundleLoaderImpl) , impl_5), this.this$11.packageName);\n}\n;\nfunction ConnectorBundleLoaderImpl$8$1$1(){\n}\n\ndefineClass(2392, 1, $intern_115, ConnectorBundleLoaderImpl$8$1$1);\n_.invoke = function invoke_506(target, params){\n  return new VCalendar;\n}\n;\nvar Lcom_vaadin_client_metadata_ConnectorBundleLoaderImpl$8$1$1_2_classLit = createForClass('com.vaadin.client.metadata', 'ConnectorBundleLoaderImpl/8/1/1', 2392, Ljava_lang_Object_2_classLit);\nfunction ConnectorBundleLoaderImpl$8$1$2(){\n}\n\ndefineClass(2393, 1, $intern_115, ConnectorBundleLoaderImpl$8$1$2);\n_.invoke = function invoke_507(target, params){\n  return new CalendarConnector;\n}\n;\nvar Lcom_vaadin_client_metadata_ConnectorBundleLoaderImpl$8$1$2_2_classLit = createForClass('com.vaadin.client.metadata', 'ConnectorBundleLoaderImpl/8/1/2', 2393, Ljava_lang_Object_2_classLit);\nfunction ConnectorBundleLoaderImpl$8$1$3(){\n}\n\ndefineClass(2394, 1, $intern_115, ConnectorBundleLoaderImpl$8$1$3);\n_.invoke = function invoke_508(target, params){\n  return new CalendarState;\n}\n;\nvar Lcom_vaadin_client_metadata_ConnectorBundleLoaderImpl$8$1$3_2_classLit = createForClass('com.vaadin.client.metadata', 'ConnectorBundleLoaderImpl/8/1/3', 2394, Ljava_lang_Object_2_classLit);\nfunction ConnectorBundleLoaderImpl$8$1$4(){\n}\n\ndefineClass(2395, 1, $intern_115, ConnectorBundleLoaderImpl$8$1$4);\n_.invoke = function invoke_509(target, params){\n  return new CalendarState$Action;\n}\n;\nvar Lcom_vaadin_client_metadata_ConnectorBundleLoaderImpl$8$1$4_2_classLit = createForClass('com.vaadin.client.metadata', 'ConnectorBundleLoaderImpl/8/1/4', 2395, Ljava_lang_Object_2_classLit);\nfunction ConnectorBundleLoaderImpl$8$1$5(){\n}\n\ndefineClass(2396, 1, $intern_115, ConnectorBundleLoaderImpl$8$1$5);\n_.invoke = function invoke_510(target, params){\n  return new CalendarState$Day;\n}\n;\nvar Lcom_vaadin_client_metadata_ConnectorBundleLoaderImpl$8$1$5_2_classLit = createForClass('com.vaadin.client.metadata', 'ConnectorBundleLoaderImpl/8/1/5', 2396, Ljava_lang_Object_2_classLit);\nfunction ConnectorBundleLoaderImpl$8$1$6(){\n}\n\ndefineClass(2397, 1, $intern_115, ConnectorBundleLoaderImpl$8$1$6);\n_.invoke = function invoke_511(target, params){\n  return new CalendarState$Event;\n}\n;\nvar Lcom_vaadin_client_metadata_ConnectorBundleLoaderImpl$8$1$6_2_classLit = createForClass('com.vaadin.client.metadata', 'ConnectorBundleLoaderImpl/8/1/6', 2397, Ljava_lang_Object_2_classLit);\nfunction ConnectorBundleLoaderImpl$8$1$7(){\n}\n\ndefineClass(2398, 1, $intern_115, ConnectorBundleLoaderImpl$8$1$7);\n_.invoke = function invoke_512(target, params){\n  return new ConnectorBundleLoaderImpl$8$1$7$1;\n}\n;\nvar Lcom_vaadin_client_metadata_ConnectorBundleLoaderImpl$8$1$7_2_classLit = createForClass('com.vaadin.client.metadata', 'ConnectorBundleLoaderImpl/8/1/7', 2398, Ljava_lang_Object_2_classLit);\nfunction $deserialize_34(jsonValue){\n  var enumIdentifier;\n  enumIdentifier = $asString(jsonValue);\n  if ($equals_10('UNSORTED', enumIdentifier)) {\n    return $clinit_CalendarState$EventSortOrder() , UNSORTED;\n  }\n  if ($equals_10('START_DATE_DESC', enumIdentifier)) {\n    return $clinit_CalendarState$EventSortOrder() , START_DATE_DESC;\n  }\n  if ($equals_10('START_DATE_ASC', enumIdentifier)) {\n    return $clinit_CalendarState$EventSortOrder() , START_DATE_ASC;\n  }\n  if ($equals_10('DURATION_DESC', enumIdentifier)) {\n    return $clinit_CalendarState$EventSortOrder() , DURATION_DESC;\n  }\n  if ($equals_10('DURATION_ASC', enumIdentifier)) {\n    return $clinit_CalendarState$EventSortOrder() , DURATION_ASC;\n  }\n  return null;\n}\n\nfunction ConnectorBundleLoaderImpl$8$1$7$1(){\n}\n\ndefineClass(2399, 1, $intern_94, ConnectorBundleLoaderImpl$8$1$7$1);\n_.deserialize = function deserialize_35(type_0, jsonValue, connection){\n  return $deserialize_34(jsonValue);\n}\n;\n_.serialize = function serialize_35(value_0, connection){\n  var castedValue;\n  return castedValue = castTo(value_0, 472) , castedValue.name_0 != null?castedValue.name_0:'' + castedValue.ordinal;\n}\n;\nvar Lcom_vaadin_client_metadata_ConnectorBundleLoaderImpl$8$1$7$1_2_classLit = createForClass('com.vaadin.client.metadata', 'ConnectorBundleLoaderImpl/8/1/7/1', 2399, Ljava_lang_Object_2_classLit);\ndefineClass(515, 33, $intern_34);\n_.setTime_0 = function setTime_0(time){\n  $setTime_0(this, time);\n}\n;\nfunction $clinit_VCalendar(){\n  $clinit_VCalendar = emptyMethod;\n  DEFAULT_COMPARATOR = new VCalendar$EventDurationComparator(false);\n}\n\nfunction $addEventToMonthGrid(this$static, e, renderImmediately){\n  var cell, d, dayCells, eventAdded, eventMoving, inProgress, row, sdc, sdc$iterator, sdc$iterator0, timeCells, to, when;\n  when = e.start_0;\n  to = e.end;\n  eventAdded = false;\n  inProgress = false;\n  eventMoving = false;\n  dayCells = new ArrayList;\n  timeCells = new ArrayList;\n  for (row = 0; row < this$static.monthGrid.numRows; row++) {\n    if (eventAdded) {\n      break;\n    }\n    for (cell = 0; cell < this$static.monthGrid.numColumns; cell++) {\n      sdc = castTo($getWidget_0(this$static.monthGrid, row, cell), 317);\n      if ($isEventInDay(when, to, sdc.date) && $isEventInDayWithTime(when, to, sdc.date, e.endTime, e.allDay)) {\n        eventMoving || (eventMoving = !!sdc.moveEvent);\n        d = sub_1(fromDouble_0(e.endTime.jsdate.getTime()), fromDouble_0(e.startTime.jsdate.getTime()));\n        compare_1(d, 0) > 0 && compare_1(d, $intern_29) <= 0 && !e.allDay?(timeCells.array[timeCells.array.length] = sdc , true):(dayCells.array[dayCells.array.length] = sdc , true);\n        inProgress = true;\n        continue;\n      }\n       else if (inProgress) {\n        eventAdded = true;\n        inProgress = false;\n        break;\n      }\n    }\n  }\n  $updateEventSlotIndex(e, dayCells);\n  $updateEventSlotIndex(e, timeCells);\n  for (sdc$iterator0 = new ArrayList$1(dayCells); sdc$iterator0.i < sdc$iterator0.this$01.array.length;) {\n    sdc = castTo($next_7(sdc$iterator0), 317);\n    $addCalendarEvent(sdc, e);\n  }\n  for (sdc$iterator = new ArrayList$1(timeCells); sdc$iterator.i < sdc$iterator.this$01.array.length;) {\n    sdc = castTo($next_7(sdc$iterator), 317);\n    $addCalendarEvent(sdc, e);\n  }\n  renderImmediately && $reDrawAllMonthEvents(this$static, !eventMoving);\n}\n\nfunction $blockSelect(e){\n  e.onselectstart = function(){\n    return false;\n  }\n  ;\n  e.ondragstart = function(){\n    return false;\n  }\n  ;\n}\n\nfunction $getTimeFormat(this$static){\n  if (this$static.format) {\n    return this$static.time24format_date;\n  }\n  return this$static.time12format_date;\n}\n\nfunction $isDisabledOrReadOnly(this$static){\n  return this$static.disabled_0 || this$static.readOnly;\n}\n\nfunction $isEventInDay(eventWhen, eventTo, gridDate){\n  if (compare_8(fromDouble_0(eventWhen.jsdate.getTime()), fromDouble_0(gridDate.jsdate.getTime())) <= 0 && compare_8(fromDouble_0(eventTo.jsdate.getTime()), fromDouble_0(gridDate.jsdate.getTime())) >= 0) {\n    return true;\n  }\n  return false;\n}\n\nfunction $isEventInDayWithTime(from, to, date, endTime, isAllDay){\n  return isAllDay || !(to.jsdate.getDay() == date.jsdate.getDay() && from.jsdate.getDay() != to.jsdate.getDay() && endTime.jsdate.getHours() == 0 && endTime.jsdate.getMinutes() == 0 && endTime.jsdate.getSeconds() == 0);\n}\n\nfunction $isSlotEmpty(addedEvent, slotIndex, cells_0){\n  var e, sdc, sdc$iterator;\n  for (sdc$iterator = new ArrayList$1(cells_0); sdc$iterator.i < sdc$iterator.this$01.array.length;) {\n    sdc = castTo($next_7(sdc$iterator), 317);\n    e = sdc.events[slotIndex];\n    if (!!e && !equals_Ljava_lang_Object__Z__devirtual$(e, addedEvent)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction $reDrawAllMonthEvents(this$static, clearCells){\n  var cell, row, sdc;\n  for (row = 0; row < this$static.monthGrid.numRows; row++) {\n    for (cell = 0; cell < this$static.monthGrid.numColumns; cell++) {\n      sdc = castTo($getWidget_0(this$static.monthGrid, row, cell), 317);\n      $setHeightPX_0(sdc, sdc.intHeight + 1, clearCells);\n    }\n  }\n}\n\nfunction $recalculateHeights(this$static){\n  if (this$static.monthGrid) {\n    this$static.intHeight == -1?$addStyleDependentName(this$static.monthGrid, 'sizedheight'):$removeStyleDependentName(this$static.monthGrid, 'sizedheight');\n    $updateCellSizes(this$static.monthGrid, this$static.intWidth - $getOffsetWidth(this$static.weekToolbar), this$static.intHeight - $getOffsetHeight(this$static.nameToolbar));\n    $setHeightPX_1(this$static.weekToolbar, this$static.intHeight == -1?this$static.intHeight:this$static.intHeight - $getOffsetHeight(this$static.nameToolbar));\n  }\n   else \n    !!this$static.weekGrid && $setHeightPX_2(this$static.weekGrid, this$static.intHeight == -1?this$static.intHeight:this$static.intHeight - $getOffsetHeight(this$static.weeklyLongEvents) - $getOffsetHeight(this$static.dayToolbar));\n}\n\nfunction $recalculateWidths(this$static){\n  if (this$static.isWidthUndefined) {\n    $setWidthPX_0(this$static.dayToolbar, this$static.intWidth);\n    $setWidthPX_1(this$static.nameToolbar, this$static.intWidth);\n    if (this$static.monthGrid) {\n      this$static.intWidth == -1?$addStyleDependentName(this$static.monthGrid, 'sizedwidth'):$removeStyleDependentName(this$static.monthGrid, 'sizedwidth');\n    }\n     else if (this$static.weekGrid) {\n      $setWidthPX_2(this$static.weekGrid, this$static.intWidth);\n      $setWidthPX_3(this$static.weeklyLongEvents, this$static.weekGrid.width_0);\n    }\n  }\n   else {\n    $setWidthPX_1(this$static.nameToolbar, this$static.intWidth);\n    $setWidthPX_0(this$static.dayToolbar, this$static.intWidth);\n    if (this$static.monthGrid) {\n      $updateCellSizes(this$static.monthGrid, this$static.intWidth - $getOffsetWidth(this$static.weekToolbar), this$static.intHeight - $getOffsetHeight(this$static.nameToolbar));\n    }\n     else if (this$static.weekGrid) {\n      $setWidthPX_2(this$static.weekGrid, this$static.intWidth);\n      $setWidthPX_3(this$static.weeklyLongEvents, this$static.weekGrid.width_0);\n    }\n  }\n}\n\nfunction $removeMonthEvent(this$static, target){\n  var cell, row, sdc;\n  if (!!target && target.slotIndex >= 0) {\n    for (row = 0; row < this$static.monthGrid.numRows; row++) {\n      for (cell = 0; cell < this$static.monthGrid.numColumns; cell++) {\n        sdc = castTo($getWidget_0(this$static.monthGrid, row, cell), 317);\n        if (!sdc) {\n          return;\n        }\n        $removeEvent(sdc, target);\n      }\n    }\n  }\n}\n\nfunction $set24HFormat(this$static, format){\n  this$static.format = format;\n}\n\nfunction $setBackwardNavigationEnabled(this$static, enabled){\n  this$static.backwardNavigationEnabled = enabled;\n}\n\nfunction $setDayNames(this$static, names){\n  this$static.dayNames = names;\n}\n\nfunction $setDisabled_1(this$static, disabled){\n  this$static.disabled_0 = disabled;\n}\n\nfunction $setDropHandler(this$static, dropHandler){\n  this$static.dropHandler = dropHandler;\n}\n\nfunction $setEventCaptionAsHtml(this$static, eventCaptionAsHtml){\n  this$static.eventCaptionAsHtml = eventCaptionAsHtml;\n}\n\nfunction $setEventMoveAllowed(this$static, eventMoveAllowed){\n  this$static.eventMoveAllowed = eventMoveAllowed;\n}\n\nfunction $setEventResizeAllowed(this$static, eventResizeAllowed){\n  this$static.eventResizeAllowed = eventResizeAllowed;\n}\n\nfunction $setFirstDayNumber(this$static, dayNumber){\n  this$static.firstDay = dayNumber;\n}\n\nfunction $setFirstHourOfTheDay(this$static, hour){\n  this$static.firstHour = hour;\n}\n\nfunction $setForwardNavigationEnabled(this$static, enabled){\n  this$static.forwardNavigationEnabled = enabled;\n}\n\nfunction $setLastDayNumber(this$static, dayNumber){\n  this$static.lastDay = dayNumber;\n}\n\nfunction $setLastHourOfTheDay(this$static, hour){\n  this$static.lastHour = hour;\n}\n\nfunction $setListener(this$static, listener){\n  this$static.backwardListener = listener;\n}\n\nfunction $setListener_0(this$static, listener){\n  this$static.dateClickListener = listener;\n}\n\nfunction $setListener_1(this$static, listener){\n  this$static.eventClickListener = listener;\n}\n\nfunction $setListener_2(this$static, eventMovedListener){\n  this$static.eventMovedListener = eventMovedListener;\n}\n\nfunction $setListener_3(this$static, eventResizeListener){\n  this$static.eventResizeListener = eventResizeListener;\n}\n\nfunction $setListener_4(this$static, listener){\n  this$static.forwardListener = listener;\n}\n\nfunction $setListener_5(this$static, mouseEventListener){\n  this$static.mouseEventListener = mouseEventListener;\n}\n\nfunction $setListener_6(this$static, listener){\n  this$static.rangeSelectListener = listener;\n}\n\nfunction $setListener_7(this$static, scrollListener){\n  this$static.scrollListener = scrollListener;\n}\n\nfunction $setListener_8(this$static, listener){\n  this$static.weekClickListener = listener;\n}\n\nfunction $setMonthNames(this$static, names){\n  this$static.monthNames = names;\n}\n\nfunction $setRangeSelectAllowed(this$static, rangeSelectAllowed){\n  this$static.rangeSelectAllowed = rangeSelectAllowed;\n}\n\nfunction $setReadOnly_4(this$static, readOnly){\n  this$static.readOnly = readOnly;\n}\n\nfunction $setSizeForChildren(this$static, newWidth, newHeight){\n  this$static.intWidth = newWidth;\n  this$static.intHeight = newHeight;\n  this$static.isWidthUndefined = this$static.intWidth == -1;\n  $setVerticalSized_0(this$static.dayToolbar);\n  $setHorizontalSized_0(this$static.dayToolbar, this$static.isWidthUndefined);\n  $recalculateWidths(this$static);\n  $recalculateHeights(this$static);\n}\n\nfunction $setSortOrder_0(this$static, order){\n  !order?(this$static.eventSortOrder = ($clinit_CalendarState$EventSortOrder() , DURATION_DESC)):(this$static.eventSortOrder = order);\n}\n\nfunction $sortEvents(this$static, events){\n  var sorted, sorted_0;\n  if (($clinit_CalendarState$EventSortOrder() , DURATION_DESC) == this$static.eventSortOrder) {\n    return sorted_0 = castTo($toArray_2(events, initUnidimensionalArray(Lcom_vaadin_v7_client_ui_calendar_schedule_CalendarEvent_2_classLit, $intern_227, 441, events.array.length, 0, 1)), 714) , sort_1(sorted_0, DEFAULT_COMPARATOR) , sorted_0;\n  }\n   else if (UNSORTED != this$static.eventSortOrder) {\n    sorted = castTo($toArray_2(events, initUnidimensionalArray(Lcom_vaadin_v7_client_ui_calendar_schedule_CalendarEvent_2_classLit, $intern_227, 441, events.array.length, 0, 1)), 714);\n    switch (this$static.eventSortOrder.ordinal) {\n      case 4:\n        sort_1(sorted, new VCalendar$EventDurationComparator(true));\n        break;\n      case 2:\n        sort_1(sorted, new VCalendar$StartDateComparator(true));\n        break;\n      case 1:\n        sort_1(sorted, new VCalendar$StartDateComparator(false));\n    }\n    return sorted;\n  }\n  return castTo($toArray_2(events, initUnidimensionalArray(Lcom_vaadin_v7_client_ui_calendar_schedule_CalendarEvent_2_classLit, $intern_227, 441, events.array.length, 0, 1)), 714);\n}\n\nfunction $updateEventSlotIndex(e, cells_0){\n  var i_0, newSlot, sdc, sdc$iterator, slot;\n  if (cells_0.array.length == 0) {\n    return;\n  }\n  if (e.slotIndex == -1) {\n    newSlot = -1;\n    for (sdc$iterator = new ArrayList$1(cells_0); sdc$iterator.i < sdc$iterator.this$01.array.length;) {\n      sdc = castTo($next_7(sdc$iterator), 317);\n      slot = sdc.eventCount;\n      slot > newSlot && (newSlot = slot);\n    }\n    ++newSlot;\n    for (i_0 = 0; i_0 < newSlot; i_0++) {\n      if ($isSlotEmpty(e, i_0, cells_0)) {\n        newSlot = i_0;\n        break;\n      }\n    }\n    e.slotIndex = newSlot;\n  }\n}\n\nfunction $updateEventToMonthGrid(this$static, changedEvent){\n  $removeMonthEvent(this$static, changedEvent);\n  changedEvent.slotIndex = -1;\n  $addEventToMonthGrid(this$static, changedEvent, true);\n}\n\nfunction $updateEventsToMonthGrid(this$static, events){\n  var e, e$array, e$index, e$max;\n  for (e$array = $sortEvents(this$static, events) , e$index = 0 , e$max = e$array.length; e$index < e$max; ++e$index) {\n    e = e$array[e$index];\n    $addEventToMonthGrid(this$static, e, false);\n  }\n}\n\nfunction $updateEventsToWeekGrid(this$static, events){\n  var allDayLong, belowDayLong, e, e$index, e$iterator, e$max;\n  allDayLong = new ArrayList;\n  belowDayLong = new ArrayList;\n  for (e$index = 0 , e$max = events.length; e$index < e$max; ++e$index) {\n    e = events[e$index];\n    e.allDay?(allDayLong.array[allDayLong.array.length] = e , true):(belowDayLong.array[belowDayLong.array.length] = e , true);\n  }\n  $addEvents(this$static.weeklyLongEvents, allDayLong);\n  for (e$iterator = new ArrayList$1(belowDayLong); e$iterator.i < e$iterator.this$01.array.length;) {\n    e = castTo($next_7(e$iterator), 441);\n    $addEvent_0(this$static.weekGrid, e);\n  }\n}\n\nfunction $updateMonthGrid(this$static, daysCount, days, today){\n  var cell, columns, d, date, day, day$iterator, dayOfMonth, dayOfWeek, firstDayFound, lastDayFound, monthNameDrawn, pos, week, x_0, y_0, dateOfMonth, dateOfMonth_0;\n  columns = this$static.lastDay - this$static.firstDay + 1;\n  this$static.rows_0 = round_int($wnd.Math.ceil(daysCount / 7));\n  this$static.monthGrid = new MonthGrid(this$static, this$static.rows_0, columns);\n  $setEnabled_12(this$static.monthGrid, !(this$static.disabled_0 || this$static.readOnly));\n  $removeAllRows(this$static.weekToolbar);\n  pos = 0;\n  monthNameDrawn = true;\n  firstDayFound = false;\n  lastDayFound = false;\n  for (day$iterator = new ArrayList$1(days); day$iterator.i < day$iterator.this$01.array.length;) {\n    day = castTo($next_7(day$iterator), 796);\n    date = day.date;\n    d = $parse_1(this$static.dateformat_date, date, false);\n    dayOfWeek = day.dayOfWeek;\n    week = day.week;\n    dayOfMonth = d.jsdate.getDate();\n    if (dayOfMonth == 1) {\n      monthNameDrawn = false;\n      firstDayFound && (lastDayFound = true);\n      firstDayFound = true;\n    }\n    if (dayOfWeek < this$static.firstDay || dayOfWeek > this$static.lastDay) {\n      continue;\n    }\n    y_0 = pos / columns | 0;\n    x_0 = pos - y_0 * columns;\n    x_0 == 0 && daysCount > 7 && $addWeek(this$static.weekToolbar, week, day.yearOfWeek);\n    cell = new SimpleDayCell(this$static, y_0, x_0);\n    $setMonthGrid(cell, this$static.monthGrid);\n    dateOfMonth = d.jsdate.getDate();\n    cell.monthNameVisible?$setText_1(cell.caption_0, dateOfMonth + ' ' + cell.calendar.monthNames[d.jsdate.getMonth()]):$setText_1(cell.caption_0, '' + dateOfMonth);\n    cell.date = d;\n    $addDomHandler(cell, new VCalendar$1(this$static, cell), ($clinit_ContextMenuEvent() , $clinit_ContextMenuEvent() , TYPE_2));\n    firstDayFound?lastDayFound && $setStyleName_0(cell, getStylePrimaryName(($clinit_DOM() , cell.element_0)) + '-' + 'next-month', true):$setStyleName_0(cell, getStylePrimaryName(($clinit_DOM() , cell.element_0)) + '-' + 'prev-month', true);\n    if (dayOfMonth >= 1 && !monthNameDrawn) {\n      cell.monthNameVisible = true;\n      dateOfMonth_0 = cell.date.jsdate.getDate();\n      $setText_1(cell.caption_0, dateOfMonth_0 + ' ' + cell.calendar.monthNames[cell.date.jsdate.getMonth()]);\n      monthNameDrawn = true;\n    }\n    today.jsdate.getDate() == dayOfMonth && today.jsdate.getFullYear() - $intern_32 == d.jsdate.getFullYear() - $intern_32 && today.jsdate.getMonth() == d.jsdate.getMonth() && $setStyleName_0(cell, getStylePrimaryName(($clinit_DOM() , cell.element_0)) + '-' + 'today', true);\n    $setWidget(this$static.monthGrid, y_0, x_0, cell);\n    ++pos;\n  }\n}\n\nfunction $updateMonthView(this$static, firstDayOfWeek, today, daysInMonth, events, days){\n  var dayNames, daysPerWeek, firstDay, i_0, j, lastDay, realDayNames;\n  while (this$static.outer.children_0.size_0 > 0) {\n    $remove_1(this$static.outer, 0);\n  }\n  firstDay = this$static.firstDay;\n  lastDay = this$static.lastDay;\n  daysPerWeek = lastDay - firstDay + 1;\n  j = 0;\n  dayNames = this$static.dayNames;\n  realDayNames = initUnidimensionalArray(Ljava_lang_String_2_classLit, $intern_3, 2, daysPerWeek, 6, 1);\n  if (firstDayOfWeek == 2) {\n    for (i_0 = firstDay; i_0 < lastDay + 1; i_0++) {\n      i_0 == 7?(realDayNames[j++] = dayNames[0]):(realDayNames[j++] = dayNames[i_0]);\n    }\n  }\n   else {\n    for (i_0 = firstDay - 1; i_0 < lastDay; i_0++) {\n      realDayNames[j++] = dayNames[i_0];\n    }\n  }\n  $setDayNames_0(this$static.nameToolbar, realDayNames);\n  this$static.weeklyLongEvents = null;\n  this$static.weekGrid = null;\n  $updateMonthGrid(this$static, daysInMonth, days, today);\n  $add_4(this$static.outer, this$static.nameToolbar, ($clinit_DockPanel() , NORTH));\n  $add_4(this$static.outer, this$static.weekToolbar, WEST);\n  $updateCellHeights(this$static.weekToolbar);\n  $add_4(this$static.outer, this$static.monthGrid, CENTER_0);\n  $updateEventsToMonthGrid(this$static, events);\n}\n\nfunction $updateWeekGrid(this$static, days, today, realDayNames){\n  var d, date, day, day$iterator, dayOfMonth, dayOfWeek, isToday, localized_date_format;\n  $setFirstHour(this$static.weekGrid, this$static.firstHour);\n  $setLastHour(this$static.weekGrid, this$static.lastHour);\n  $updateTimeBar(this$static.weekGrid.timebar, this$static.format);\n  $clear_0(this$static.dayToolbar);\n  $addBackButton(this$static.dayToolbar);\n  $setVerticalSized_0(this$static.dayToolbar);\n  $setHorizontalSized_0(this$static.dayToolbar, this$static.isWidthUndefined);\n  $clearDates(this$static.weekGrid);\n  $setDisabled_5(this$static.weekGrid, this$static.disabled_0 || this$static.readOnly);\n  for (day$iterator = new ArrayList$1(days); day$iterator.i < day$iterator.this$01.array.length;) {\n    day = castTo($next_7(day$iterator), 796);\n    date = day.date;\n    localized_date_format = day.localizedDateFormat;\n    d = $parse_1(this$static.dateformat_date, date, false);\n    dayOfWeek = day.dayOfWeek;\n    if (dayOfWeek < this$static.firstDay || dayOfWeek > this$static.lastDay) {\n      continue;\n    }\n    isToday = false;\n    dayOfMonth = d.jsdate.getDate();\n    today.jsdate.getDate() == dayOfMonth && today.jsdate.getFullYear() - $intern_32 == d.jsdate.getFullYear() - $intern_32 && today.jsdate.getMonth() == d.jsdate.getMonth() && (isToday = true);\n    $add_19(this$static.dayToolbar, realDayNames[dayOfWeek - 1], date, localized_date_format, isToday?'today':null);\n    $addDate_0(this$static.weeklyLongEvents, d);\n    $addDate(this$static.weekGrid, d);\n    isToday && $setToday_0(this$static.weekGrid, d, today);\n  }\n  $addNextButton(this$static.dayToolbar);\n}\n\nfunction $updateWeekView(this$static, scroll_0, today, firstDayOfWeek, events, days){\n  var i_0, j, realDayNames;\n  while (this$static.outer.children_0.size_0 > 0) {\n    $remove_1(this$static.outer, 0);\n  }\n  this$static.monthGrid = null;\n  realDayNames = initUnidimensionalArray(Ljava_lang_String_2_classLit, $intern_3, 2, this$static.dayNames.length, 6, 1);\n  j = 0;\n  if (firstDayOfWeek == 2) {\n    for (i_0 = 1; i_0 < this$static.dayNames.length; i_0++) {\n      realDayNames[j++] = this$static.dayNames[i_0];\n    }\n    realDayNames[j] = this$static.dayNames[0];\n  }\n   else {\n    for (i_0 = 0; i_0 < this$static.dayNames.length; i_0++) {\n      realDayNames[j++] = this$static.dayNames[i_0];\n    }\n  }\n  this$static.weeklyLongEvents = new WeeklyLongEvents(this$static);\n  !this$static.weekGrid && (this$static.weekGrid = new WeekGrid(this$static, this$static.format));\n  $updateWeekGrid(this$static, days, today, realDayNames);\n  $updateEventsToWeekGrid(this$static, $sortEvents(this$static, events));\n  $add_4(this$static.outer, this$static.dayToolbar, ($clinit_DockPanel() , NORTH));\n  $add_4(this$static.outer, this$static.weeklyLongEvents, NORTH);\n  $add_4(this$static.outer, this$static.weekGrid, SOUTH);\n  $setVerticalScrollPosition_0(this$static.weekGrid, scroll_0);\n}\n\nfunction VCalendar(){\n  $clinit_VCalendar();\n  this.outer = new DockPanel;\n  this.nameToolbar = new SimpleDayToolbar;\n  this.dayToolbar = new DayToolbar(this);\n  this.dateformat_datetime = ($clinit_DateTimeFormat_0() , getFormat_0('yyyy-MM-dd HH:mm:ss', $getDateTimeFormatInfo(($clinit_LocaleInfo() , $clinit_LocaleInfo() , instance_1))));\n  this.dateformat_date = getFormat_0('yyyy-MM-dd', $getDateTimeFormatInfo((null , instance_1)));\n  this.time12format_date = getFormat_0('h:mm a', $getDateTimeFormatInfo((null , instance_1)));\n  this.time24format_date = getFormat_0('HH:mm', $getDateTimeFormatInfo((null , instance_1)));\n  this.eventSortOrder = ($clinit_CalendarState$EventSortOrder() , DURATION_DESC);\n  this.weekToolbar = new SimpleWeekToolbar(this);\n  $initWidget(this, this.outer);\n  setStylePrimaryName(($clinit_DOM() , this.element_0), 'v-calendar');\n  $blockSelect(this.element_0);\n}\n\nfunction areDatesEqualToSecond(date1, date2){\n  $clinit_VCalendar();\n  return date1.jsdate.getFullYear() - $intern_32 == date2.jsdate.getFullYear() - $intern_32 && date1.jsdate.getMonth() == date2.jsdate.getMonth() && date1.jsdate.getDay() == date2.jsdate.getDay() && date1.jsdate.getHours() == date2.jsdate.getHours() && date1.jsdate.getSeconds() == date2.jsdate.getSeconds();\n}\n\nfunction distributeSize(totalSize, numberOfCells, sizeModifier){\n  $clinit_VCalendar();\n  var cellSizeOverFlow, cellSizes, i_0, j, startingSize;\n  cellSizes = initUnidimensionalArray(I_classLit, $intern_7, 134, numberOfCells, 15, 1);\n  startingSize = totalSize / numberOfCells | 0;\n  cellSizeOverFlow = totalSize % numberOfCells;\n  for (i_0 = 0; i_0 < numberOfCells; i_0++) {\n    cellSizes[i_0] = startingSize + sizeModifier;\n  }\n  j = 0;\n  while (cellSizeOverFlow > 0) {\n    ++cellSizes[j];\n    --cellSizeOverFlow;\n    ++j;\n    j >= numberOfCells && (j = 0);\n  }\n  return cellSizes;\n}\n\nfunction isMidnight(date){\n  $clinit_VCalendar();\n  return date.jsdate.getHours() == 0 && date.jsdate.getMinutes() == 0 && date.jsdate.getSeconds() == 0;\n}\n\ndefineClass(122, $intern_64, {16:1, 13:1, 14:1, 12:1, 214:1, 17:1, 11:1, 10:1, 450:1, 122:1}, VCalendar);\n_.getDropHandler = function getDropHandler_0(){\n  return this.dropHandler;\n}\n;\n_.backwardNavigationEnabled = true;\n_.disabled_0 = false;\n_.eventCaptionAsHtml = false;\n_.eventMoveAllowed = true;\n_.eventResizeAllowed = true;\n_.firstDay = 0;\n_.firstHour = 0;\n_.format = false;\n_.forwardNavigationEnabled = true;\n_.intHeight = 0;\n_.intWidth = 0;\n_.isWidthUndefined = false;\n_.lastDay = 0;\n_.lastHour = 0;\n_.rangeSelectAllowed = true;\n_.readOnly = false;\n_.rows_0 = 0;\nvar DEFAULT_COMPARATOR;\nvar Lcom_vaadin_v7_client_ui_VCalendar_2_classLit = createForClass('com.vaadin.v7.client.ui', 'VCalendar', 122, Lcom_google_gwt_user_client_ui_Composite_2_classLit);\nfunction VCalendar$1(this$0, val$cell){\n  this.this$01 = this$0;\n  this.val$cell2 = val$cell;\n}\n\ndefineClass(2936, 1, $intern_123, VCalendar$1);\n_.onContextMenu = function onContextMenu_1(event_0){\n  if (this.this$01.mouseEventListener) {\n    !!event_0.nativeEvent && (event_0.nativeEvent.preventDefault() , undefined);\n    event_0.nativeEvent.stopPropagation();\n    $contextMenu(this.this$01.mouseEventListener, event_0, this.val$cell2);\n  }\n}\n;\nvar Lcom_vaadin_v7_client_ui_VCalendar$1_2_classLit = createForClass('com.vaadin.v7.client.ui', 'VCalendar/1', 2936, Ljava_lang_Object_2_classLit);\nfunction $compare_1(this$static, e1, e2){\n  var result;\n  if (e1.allDay != e2.allDay) {\n    if (e2.allDay) {\n      return 1;\n    }\n    return -1;\n  }\n  result = this$static.doCompare(e1, e2);\n  if (result == 0) {\n    return $compareTo_6(valueOf_86(e2.index_0), valueOf_86(e1.index_0));\n  }\n  return result;\n}\n\ndefineClass(3435, 1, {});\n_.compare = function compare_4(e1, e2){\n  return $compare_1(this, castTo(e1, 441), castTo(e2, 441));\n}\n;\n_.equals_0 = function equals_18(other){\n  return this === other;\n}\n;\nvar Lcom_vaadin_v7_client_ui_VCalendar$AbstractEventComparator_2_classLit = createForClass('com.vaadin.v7.client.ui', 'VCalendar/AbstractEventComparator', 3435, Ljava_lang_Object_2_classLit);\nfunction VCalendar$EventDurationComparator(ascending){\n  this.isAscending = ascending;\n}\n\nfunction doDurationCompare(e1, e2){\n  var d1, d2;\n  d1 = valueOf_87(sub_1(fromDouble_0(e1.endTime.jsdate.getTime()), fromDouble_0(e1.startTime.jsdate.getTime())));\n  d2 = valueOf_87(sub_1(fromDouble_0(e2.endTime.jsdate.getTime()), fromDouble_0(e2.startTime.jsdate.getTime())));\n  if (!$equals_9(d1, valueOf_87(0)) && !$equals_9(d2, valueOf_87(0))) {\n    return compare_8(d2.value_0, d1.value_0);\n  }\n  if ($equals_9(d2, valueOf_87(0)) && $equals_9(d1, valueOf_87(0))) {\n    return 0;\n  }\n   else if ($equals_9(d2, valueOf_87(0)) && gte_0(d1.value_0, $intern_29)) {\n    return -1;\n  }\n   else if ($equals_9(d2, valueOf_87(0)) && lt(d1.value_0, $intern_29)) {\n    return 1;\n  }\n   else if ($equals_9(d1, valueOf_87(0)) && gte_0(d2.value_0, $intern_29)) {\n    return 1;\n  }\n   else if ($equals_9(d1, valueOf_87(0)) && lt(d2.value_0, $intern_29)) {\n    return -1;\n  }\n  return compare_8(d2.value_0, d1.value_0);\n}\n\nfunction durationCompare(e1, e2, ascending){\n  var result;\n  result = doDurationCompare(e1, e2);\n  return ascending?-result:result;\n}\n\ndefineClass(1050, 3435, {}, VCalendar$EventDurationComparator);\n_.doCompare = function doCompare(e1, e2){\n  var result;\n  result = durationCompare(e1, e2, this.isAscending);\n  if (result == 0) {\n    return startDateCompare(e1, e2, this.isAscending);\n  }\n  return result;\n}\n;\n_.isAscending = false;\nvar Lcom_vaadin_v7_client_ui_VCalendar$EventDurationComparator_2_classLit = createForClass('com.vaadin.v7.client.ui', 'VCalendar/EventDurationComparator', 1050, Lcom_vaadin_v7_client_ui_VCalendar$AbstractEventComparator_2_classLit);\nfunction VCalendar$StartDateComparator(ascending){\n  this.isAscending = ascending;\n}\n\nfunction startDateCompare(e1, e2, ascending){\n  var result;\n  result = $compareTo_0(e1.startTime, e2.startTime);\n  return ascending?-result:result;\n}\n\ndefineClass(1051, 3435, {}, VCalendar$StartDateComparator);\n_.doCompare = function doCompare_0(e1, e2){\n  var result;\n  result = startDateCompare(e1, e2, this.isAscending);\n  if (result == 0) {\n    return durationCompare(e1, e2, this.isAscending);\n  }\n  return result;\n}\n;\n_.isAscending = false;\nvar Lcom_vaadin_v7_client_ui_VCalendar$StartDateComparator_2_classLit = createForClass('com.vaadin.v7.client.ui', 'VCalendar/StartDateComparator', 1051, Lcom_vaadin_v7_client_ui_VCalendar$AbstractEventComparator_2_classLit);\ndefineClass(517, 33, $intern_34);\n_.setTime_0 = function setTime_1(time){\n  $setTime_1(this, time);\n}\n;\nfunction $calendarDayListOf(days){\n  var d, day, day$iterator, list;\n  list = new ArrayList_0(days.size_1());\n  for (day$iterator = days.iterator(); day$iterator.hasNext_0();) {\n    day = castTo(day$iterator.next_1(), 862);\n    d = new CalendarDay(day.date, day.localizedDateFormat, day.dayOfWeek, day.week, day.yearOfWeek);\n    list.array[list.array.length] = d;\n  }\n  return list;\n}\n\nfunction $calendarEventListOf(this$static, events, format24h){\n  var calendarEvent, dateFrom, dateTo, event_0, event$iterator, list, timeFrom, timeTo;\n  list = new ArrayList_0(events.size_1());\n  for (event$iterator = events.iterator(); event$iterator.hasNext_0();) {\n    event_0 = castTo(event$iterator.next_1(), 773);\n    dateFrom = event_0.dateFrom;\n    dateTo = event_0.dateTo;\n    timeFrom = event_0.timeFrom;\n    timeTo = event_0.timeTo;\n    calendarEvent = new CalendarEvent;\n    $setAllDay(calendarEvent, event_0.allDay);\n    $setCaption_8(calendarEvent, event_0.caption_0);\n    $setStart(calendarEvent, $parse_1((!this$static.widget && (this$static.widget = $createWidget(this$static)) , castTo(this$static.widget, 122)).dateformat_date, dateFrom, false));\n    $setEnd(calendarEvent, $parse_1((!this$static.widget && (this$static.widget = $createWidget(this$static)) , castTo(this$static.widget, 122)).dateformat_date, dateTo, false));\n    calendarEvent.format24h = format24h;\n    $setStartTime(calendarEvent, $parse_1((!this$static.widget && (this$static.widget = $createWidget(this$static)) , castTo(this$static.widget, 122)).dateformat_datetime, dateFrom + ' ' + timeFrom, false));\n    $setEndTime(calendarEvent, $parse_1((!this$static.widget && (this$static.widget = $createWidget(this$static)) , castTo(this$static.widget, 122)).dateformat_datetime, dateTo + ' ' + timeTo, false));\n    $setStyleName_13(calendarEvent, event_0.styleName);\n    $setIndex_0(calendarEvent, event_0.index_0);\n    list.array[list.array.length] = calendarEvent;\n  }\n  return list;\n}\n\nfunction $getActionEndDate(this$static, actionKey){\n  var dateStr, formatter;\n  dateStr = castToString($getStringValue(this$static.actionMap, actionKey + '_e'));\n  formatter = ($clinit_DateTimeFormat_0() , getFormat_0('yyyy-MM-dd HH:mm:ss', $getDateTimeFormatInfo(($clinit_LocaleInfo() , $clinit_LocaleInfo() , instance_1))));\n  return $parse_1(formatter, dateStr, false);\n}\n\nfunction $getActionStartDate(this$static, actionKey){\n  var dateStr, formatter;\n  dateStr = castToString($getStringValue(this$static.actionMap, actionKey + '_s'));\n  formatter = ($clinit_DateTimeFormat_0() , getFormat_0('yyyy-MM-dd HH:mm:ss', $getDateTimeFormatInfo(($clinit_LocaleInfo() , $clinit_LocaleInfo() , instance_1))));\n  return $parse_1(formatter, dateStr, false);\n}\n\nfunction $getActionsBetween(this$static, start_0, end){\n  var a, actionEndDate, actionKey, actionStartDate, actions, i_0, id_0, ids, test0, test1, test2, test3;\n  actions = new ArrayList;\n  ids = new ArrayList;\n  for (i_0 = 0; i_0 < this$static.actionKeys.array.length; i_0++) {\n    actionKey = castToString($get_9(this$static.actionKeys, i_0));\n    id_0 = castToString($getStringValue(this$static.actionMap, actionKey + '_k'));\n    if ($indexOf_5(ids, id_0, 0) == -1) {\n      actionStartDate = $getActionStartDate(this$static, actionKey);\n      actionEndDate = $getActionEndDate(this$static, actionKey);\n      test0 = compare_8(fromDouble_0(actionStartDate.jsdate.getTime()), fromDouble_0(start_0.jsdate.getTime())) >= 0 && compare_8(fromDouble_0(actionEndDate.jsdate.getTime()), fromDouble_0(end.jsdate.getTime())) <= 0;\n      test1 = compare_8(fromDouble_0(actionEndDate.jsdate.getTime()), fromDouble_0(start_0.jsdate.getTime())) > 0 && compare_8(fromDouble_0(actionEndDate.jsdate.getTime()), fromDouble_0(end.jsdate.getTime())) <= 0;\n      test2 = compare_8(fromDouble_0(actionStartDate.jsdate.getTime()), fromDouble_0(start_0.jsdate.getTime())) >= 0 && compare_8(fromDouble_0(actionStartDate.jsdate.getTime()), fromDouble_0(end.jsdate.getTime())) < 0;\n      test3 = compare_8(fromDouble_0(start_0.jsdate.getTime()), fromDouble_0(actionStartDate.jsdate.getTime())) >= 0 && compare_8(fromDouble_0(end.jsdate.getTime()), fromDouble_0(actionEndDate.jsdate.getTime())) <= 0;\n      if (test0 || test1 || test2 || test3) {\n        a = new VCalendarAction(this$static, this$static.rpc, actionKey);\n        $setCaption(a, castToString($getStringValue(this$static.actionMap, actionKey + '_c')));\n        $setIconUrl(a, castToString($getStringValue(this$static.actionMap, actionKey + '_i')));\n        a.actionStartDate = start_0;\n        a.actionEndDate = end;\n        actions.array[actions.array.length] = a;\n        ids.array[ids.array.length] = id_0;\n      }\n    }\n  }\n  return castTo($toArray_2(actions, initUnidimensionalArray(Lcom_vaadin_client_ui_Action_2_classLit, $intern_183, 184, actions.array.length, 0, 1)), 288);\n}\n\nfunction $registerEventToolTips(this$static, events){\n  var e, e$iterator;\n  for (e$iterator = events.iterator(); e$iterator.hasNext_0();) {\n    e = castTo(e$iterator.next_1(), 773);\n    e.description != null && !$equals_10('', e.description)?$put_0(this$static.tooltips, valueOf_86(e.index_0), e.description):$remove_20(this$static.tooltips, valueOf_86(e.index_0));\n  }\n}\n\nfunction $updateActionMap_1(this$static, actions){\n  var action, action$iterator, id_0;\n  $reset_2(this$static.actionMap);\n  this$static.actionKeys.array = initUnidimensionalArray(Ljava_lang_Object_2_classLit, $intern_2, 1, 0, 5, 1);\n  if (!actions) {\n    return;\n  }\n  for (action$iterator = actions.iterator(); action$iterator.hasNext_0();) {\n    action = castTo(action$iterator.next_1(), 861);\n    id_0 = action.actionKey + '-' + action.startDate + '-' + action.endDate;\n    $putStringValue(this$static.actionMap, id_0 + '_k', action.actionKey);\n    $putStringValue(this$static.actionMap, id_0 + '_c', action.caption_0);\n    $putStringValue(this$static.actionMap, id_0 + '_s', action.startDate);\n    $putStringValue(this$static.actionMap, id_0 + '_e', action.endDate);\n    $add_22(this$static.actionKeys, id_0);\n    action.iconKey != null?$putStringValue(this$static.actionMap, id_0 + '_i', $getResourceUrl(this$static, action.iconKey)):$removeStringValue(this$static.actionMap, id_0 + '_i');\n  }\n  $clinit_Collections();\n  $sort_6(this$static.actionKeys, null);\n}\n\nfunction $updateEventsInView(this$static){\n  var days, dropHandler, events, state, state0;\n  state0 = (!this$static.state && (this$static.state = $createState(this$static)) , castTo(castTo(castTo(this$static.state, 6), 22), 217));\n  days = state0.days;\n  events = state0.events;\n  dropHandler = (!this$static.widget && (this$static.widget = $createWidget(this$static)) , castTo(this$static.widget, 122)).dropHandler;\n  if ((!this$static.state && (this$static.state = $createState(this$static)) , castTo(castTo(castTo(this$static.state, 6), 22), 217)).days.size_1() > 7) {\n    state = (!this$static.state && (this$static.state = $createState(this$static)) , castTo(castTo(castTo(this$static.state, 6), 22), 217));\n    $updateMonthView((!this$static.widget && (this$static.widget = $createWidget(this$static)) , castTo(this$static.widget, 122)), state.firstDayOfWeek, $parse_1((!this$static.widget && (this$static.widget = $createWidget(this$static)) , castTo(this$static.widget, 122)).dateformat_datetime, state.now_0, false), days.size_1(), $calendarEventListOf(this$static, events, state.format24H), $calendarDayListOf(days));\n    !!dropHandler && !instanceOf(dropHandler, 630) && $setDropHandler((!this$static.widget && (this$static.widget = $createWidget(this$static)) , castTo(this$static.widget, 122)), new CalendarMonthDropHandler(this$static));\n  }\n   else {\n    state = (!this$static.state && (this$static.state = $createState(this$static)) , castTo(castTo(castTo(this$static.state, 6), 22), 217));\n    $updateWeekView((!this$static.widget && (this$static.widget = $createWidget(this$static)) , castTo(this$static.widget, 122)), state.scroll_0, $parse_1((!this$static.widget && (this$static.widget = $createWidget(this$static)) , castTo(this$static.widget, 122)).dateformat_datetime, state.now_0, false), (days.size_1() , state.firstDayOfWeek), $calendarEventListOf(this$static, events, state.format24H), $calendarDayListOf(days));\n    !!dropHandler && !instanceOf(dropHandler, 631) && $setDropHandler((!this$static.widget && (this$static.widget = $createWidget(this$static)) , castTo(this$static.widget, 122)), new CalendarWeekDropHandler(this$static));\n  }\n}\n\nfunction $updateSizes_0(this$static){\n  var height, width_0;\n  height = $getOuterHeight(this$static.connection.layoutManager, $getElement((!this$static.widget && (this$static.widget = $createWidget(this$static)) , castTo(this$static.widget, 122))));\n  width_0 = $getOuterWidth(this$static.connection.layoutManager, $getElement((!this$static.widget && (this$static.widget = $createWidget(this$static)) , castTo(this$static.widget, 122))));\n  isUndefinedWidth_0((!this$static.state && (this$static.state = $createState(this$static)) , castTo(castTo(castTo(this$static.state, 6), 22), 217))) && (width_0 = -1);\n  isUndefinedHeight_0((!this$static.state && (this$static.state = $createState(this$static)) , castTo(castTo(castTo(this$static.state, 6), 22), 217))) && (height = -1);\n  $setSizeForChildren((!this$static.widget && (this$static.widget = $createWidget(this$static)) , castTo(this$static.widget, 122)), width_0, height);\n}\n\nfunction CalendarConnector(){\n  AbstractLegacyComponentConnector.call(this);\n  this.rpc = castTo(create_2(Lcom_vaadin_v7_shared_ui_calendar_CalendarServerRpc_2_classLit, this), 3481);\n  this.actionMap = new HashMap;\n  this.tooltips = new HashMap;\n  this.actionKeys = new ArrayList;\n  $setListener_0((!this.widget && (this.widget = $createWidget(this)) , castTo(this.widget, 122)), new CalendarConnector$2(this));\n  $setListener_4((!this.widget && (this.widget = $createWidget(this)) , castTo(this.widget, 122)), new CalendarConnector$3(this));\n  $setListener((!this.widget && (this.widget = $createWidget(this)) , castTo(this.widget, 122)), new CalendarConnector$4(this));\n  $setListener_6((!this.widget && (this.widget = $createWidget(this)) , castTo(this.widget, 122)), new CalendarConnector$5(this));\n  $setListener_8((!this.widget && (this.widget = $createWidget(this)) , castTo(this.widget, 122)), new CalendarConnector$6(this));\n  $setListener_2((!this.widget && (this.widget = $createWidget(this)) , castTo(this.widget, 122)), new CalendarConnector$7(this));\n  $setListener_3((!this.widget && (this.widget = $createWidget(this)) , castTo(this.widget, 122)), new CalendarConnector$8(this));\n  $setListener_7((!this.widget && (this.widget = $createWidget(this)) , castTo(this.widget, 122)), new CalendarConnector$9(this));\n  $setListener_1((!this.widget && (this.widget = $createWidget(this)) , castTo(this.widget, 122)), new CalendarConnector$10(this));\n  $setListener_5((!this.widget && (this.widget = $createWidget(this)) , castTo(this.widget, 122)), new CalendarConnector$11(this));\n}\n\ndefineClass(2391, 502, {8:1, 18:1, 129:1, 25:1, 32:1, 37:1, 28:1, 257:1, 44:1, 138:1, 249:1, 31:1, 3:1}, CalendarConnector);\n_.getState = function getState_262(){\n  return !this.state && (this.state = $createState(this)) , castTo(castTo(castTo(this.state, 6), 22), 217);\n}\n;\n_.getState_0 = function getState_263(){\n  return !this.state && (this.state = $createState(this)) , castTo(castTo(castTo(this.state, 6), 22), 217);\n}\n;\n_.getState_26 = function getState_264(){\n  return !this.state && (this.state = $createState(this)) , castTo(castTo(castTo(this.state, 6), 22), 217);\n}\n;\n_.getWidget_0 = function getWidget_96(){\n  return !this.widget && (this.widget = $createWidget(this)) , castTo(this.widget, 122);\n}\n;\n_.getActions = function getActions_4(){\n  var a, actionKey, actions, i_0;\n  actions = new ArrayList;\n  for (i_0 = 0; i_0 < this.actionKeys.array.length; i_0++) {\n    actionKey = castToString($get_9(this.actionKeys, i_0));\n    a = new VCalendarAction(this, this.rpc, actionKey);\n    $setCaption(a, castToString($getStringValue(this.actionMap, actionKey + '_c')));\n    $setIconUrl(a, castToString($getStringValue(this.actionMap, actionKey + '_i')));\n    $setActionStartDate(a, $getActionStartDate(this, actionKey));\n    $setActionEndDate(a, $getActionEndDate(this, actionKey));\n    actions.array[actions.array.length] = a;\n  }\n  return castTo($toArray_2(actions, initUnidimensionalArray(Lcom_vaadin_client_ui_Action_2_classLit, $intern_183, 184, actions.array.length, 0, 1)), 288);\n}\n;\n_.getClient = function getClient_4(){\n  return this.connection;\n}\n;\n_.getPaintableId = function getPaintableId_4(){\n  return this.id_0;\n}\n;\n_.getTooltipInfo = function getTooltipInfo_6(element){\n  var title_0, tooltipInfo, w;\n  tooltipInfo = null;\n  w = ($clinit_WidgetUtil() , findWidget_0(element, null, true));\n  if (instanceOf(w, 812)) {\n    tooltipInfo = new TooltipInfo;\n    title_0 = castToString($get_6(this.tooltips, castTo(w, 812).getTooltipKey()));\n    tooltipInfo.title_0 = title_0 != null?title_0:'';\n  }\n  !tooltipInfo && (tooltipInfo = new TooltipInfo_2((!this.state && (this.state = $createState(this)) , castTo(castTo(castTo(this.state, 6), 22), 217)).description, (!this.state && (this.state = $createState(this)) , castTo(castTo(castTo(this.state, 6), 22), 217)).descriptionContentMode, (!this.state && (this.state = $createState(this)) , castTo(castTo(castTo(this.state, 6), 22), 217)).errorMessage));\n  return tooltipInfo;\n}\n;\n_.hasTooltip_0 = function hasTooltip_8(){\n  return true;\n}\n;\n_.init_0 = function init_54(){\n  $registerRpc(this, Lcom_vaadin_v7_shared_ui_calendar_CalendarClientRpc_2_classLit, new CalendarConnector$1);\n  $registerDependency(this.connection.layoutManager, this, $getElement((!this.widget && (this.widget = $createWidget(this)) , castTo(this.widget, 122))));\n}\n;\n_.layout_0 = function layout_12(){\n  $updateSizes_0(this);\n}\n;\n_.onStateChanged = function onStateChanged_48(stateChangeEvent){\n  var days, dropHandler, events, oldOrder, reg, reg0, reg1, reg2, reg3, reg4, state, state0, widget;\n  $onStateChanged_0(this, stateChangeEvent);\n  state0 = (!this.state && (this.state = $createState(this)) , castTo(castTo(castTo(this.state, 6), 22), 217));\n  widget = (!this.widget && (this.widget = $createWidget(this)) , castTo(this.widget, 122));\n  $setForwardNavigationEnabled(widget, (reg0 = (!this.state && (this.state = $createState(this)) , castTo(castTo(castTo(this.state, 6), 22), 217)).registeredEventListeners , !!reg0 && reg0.contains_0('forward')));\n  $setBackwardNavigationEnabled(widget, (reg1 = (!this.state && (this.state = $createState(this)) , castTo(castTo(castTo(this.state, 6), 22), 217)).registeredEventListeners , !!reg1 && reg1.contains_0('backward')));\n  $set24HFormat(widget, state0.format24H);\n  $setDayNames(widget, state0.dayNames);\n  $setMonthNames(widget, state0.monthNames);\n  $setFirstDayNumber(widget, state0.firstVisibleDayOfWeek);\n  $setLastDayNumber(widget, state0.lastVisibleDayOfWeek);\n  $setFirstHourOfTheDay(widget, state0.firstHourOfDay);\n  $setLastHourOfTheDay(widget, state0.lastHourOfDay);\n  $setReadOnly_4(widget, state0.readOnly);\n  $setDisabled_1(widget, !state0.enabled);\n  $setRangeSelectAllowed(widget, (reg2 = (!this.state && (this.state = $createState(this)) , castTo(castTo(castTo(this.state, 6), 22), 217)).registeredEventListeners , !!reg2 && reg2.contains_0('rangeSelect')));\n  reg3 = (!this.state && (this.state = $createState(this)) , castTo(castTo(castTo(this.state, 6), 22), 217)).registeredEventListeners;\n  !!reg3 && reg3.contains_0('eventMove');\n  $setEventMoveAllowed(widget, (reg4 = (!this.state && (this.state = $createState(this)) , castTo(castTo(castTo(this.state, 6), 22), 217)).registeredEventListeners , !!reg4 && reg4.contains_0('eventMove')));\n  $setEventResizeAllowed(widget, (reg = (!this.state && (this.state = $createState(this)) , castTo(castTo(castTo(this.state, 6), 22), 217)).registeredEventListeners , !!reg && reg.contains_0('eventResize')));\n  $setEventCaptionAsHtml(widget, state0.eventCaptionAsHtml);\n  oldOrder = (!this.widget && (this.widget = $createWidget(this)) , castTo(this.widget, 122)).eventSortOrder;\n  equals_17(oldOrder, (!this.state && (this.state = $createState(this)) , castTo(castTo(castTo(this.state, 6), 22), 217)).eventSortOrder) || $setSortOrder_0((!this.widget && (this.widget = $createWidget(this)) , castTo(this.widget, 122)), (!this.state && (this.state = $createState(this)) , castTo(castTo(castTo(this.state, 6), 22), 217)).eventSortOrder);\n  $updateEventsInView(this);\n  days = state0.days;\n  events = state0.events;\n  dropHandler = (!this.widget && (this.widget = $createWidget(this)) , castTo(this.widget, 122)).dropHandler;\n  if ((!this.state && (this.state = $createState(this)) , castTo(castTo(castTo(this.state, 6), 22), 217)).days.size_1() > 7) {\n    state = (!this.state && (this.state = $createState(this)) , castTo(castTo(castTo(this.state, 6), 22), 217));\n    $updateMonthView((!this.widget && (this.widget = $createWidget(this)) , castTo(this.widget, 122)), state.firstDayOfWeek, $parse_1((!this.widget && (this.widget = $createWidget(this)) , castTo(this.widget, 122)).dateformat_datetime, state.now_0, false), days.size_1(), $calendarEventListOf(this, events, state.format24H), $calendarDayListOf(days));\n    !!dropHandler && !instanceOf(dropHandler, 630) && $setDropHandler((!this.widget && (this.widget = $createWidget(this)) , castTo(this.widget, 122)), new CalendarMonthDropHandler(this));\n  }\n   else {\n    state = (!this.state && (this.state = $createState(this)) , castTo(castTo(castTo(this.state, 6), 22), 217));\n    $updateWeekView((!this.widget && (this.widget = $createWidget(this)) , castTo(this.widget, 122)), state.scroll_0, $parse_1((!this.widget && (this.widget = $createWidget(this)) , castTo(this.widget, 122)).dateformat_datetime, state.now_0, false), (days.size_1() , state.firstDayOfWeek), $calendarEventListOf(this, events, state.format24H), $calendarDayListOf(days));\n    !!dropHandler && !instanceOf(dropHandler, 631) && $setDropHandler((!this.widget && (this.widget = $createWidget(this)) , castTo(this.widget, 122)), new CalendarWeekDropHandler(this));\n  }\n  $updateSizes_0(this);\n  $registerEventToolTips(this, state0.events);\n  $updateActionMap_1(this, state0.actions);\n}\n;\n_.onUnregister = function onUnregister_33(){\n  $onUnregister_0(this);\n  $unregisterDependency(this.connection.layoutManager, this, $getElement((!this.widget && (this.widget = $createWidget(this)) , castTo(this.widget, 122))));\n}\n;\n_.updateFromUIDL = function updateFromUIDL_11(uidl, client){\n  var child, childIterator, count;\n  childIterator = new UIDL$1(uidl);\n  while (count = childIterator.this$01.length - 2 , count > childIterator.index_0 + 1) {\n    child = castToJso($next_2(childIterator));\n    if ($equals_10('-ac', child[0])) {\n      !(!this.widget && (this.widget = $createWidget(this)) , castTo(this.widget, 122)).dropHandler && $setDropHandler((!this.widget && (this.widget = $createWidget(this)) , castTo(this.widget, 122)), (!this.state && (this.state = $createState(this)) , castTo(castTo(castTo(this.state, 6), 22), 217)).days.size_1() > 7?new CalendarMonthDropHandler(this):new CalendarWeekDropHandler(this));\n      $updateAcceptRules((!this.widget && (this.widget = $createWidget(this)) , castTo(this.widget, 122)).dropHandler, child);\n    }\n     else {\n      (!this.widget && (this.widget = $createWidget(this)) , castTo(this.widget, 122)).dropHandler = null;\n    }\n  }\n}\n;\nvar Lcom_vaadin_v7_client_ui_calendar_CalendarConnector_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar', 'CalendarConnector', 2391, Lcom_vaadin_v7_client_ui_AbstractLegacyComponentConnector_2_classLit);\nfunction CalendarConnector$1(){\n}\n\ndefineClass(2924, 1, {272:1, 3459:1, 3:1}, CalendarConnector$1);\n_.scroll_1 = function scroll_1(scrollPosition){\n}\n;\nvar Lcom_vaadin_v7_client_ui_calendar_CalendarConnector$1_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar', 'CalendarConnector/1', 2924, Ljava_lang_Object_2_classLit);\nfunction $eventClick_0(this$static, event_0){\n  $hasEventListener(this$static.this$01, 'eventClick') && $eventClick(this$static.this$01.rpc, event_0.index_0);\n}\n\nfunction CalendarConnector$10(this$0){\n  this.this$01 = this$0;\n}\n\ndefineClass(2933, 1, {}, CalendarConnector$10);\nvar Lcom_vaadin_v7_client_ui_calendar_CalendarConnector$10_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar', 'CalendarConnector/10', 2933, Ljava_lang_Object_2_classLit);\nfunction $contextMenu(this$static, event_0, widget){\n  var left, ne, top_0;\n  ne = event_0.nativeEvent;\n  left = (ne.clientX || 0) | 0;\n  top_0 = (ne.clientY || 0) | 0;\n  top_0 += $getScrollTop_0($doc);\n  left += $getScrollLeft_1($doc);\n  $showAt_0($getContextMenu(this$static.this$01.connection), new CalendarConnector$11$1(this$static, widget, ne), left, top_0);\n}\n\nfunction CalendarConnector$11(this$0){\n  this.this$01 = this$0;\n}\n\ndefineClass(2934, 1, {}, CalendarConnector$11);\nvar Lcom_vaadin_v7_client_ui_calendar_CalendarConnector$11_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar', 'CalendarConnector/11', 2934, Ljava_lang_Object_2_classLit);\nfunction CalendarConnector$11$1(this$1, val$widget, val$ne){\n  this.this$11 = this$1;\n  this.val$widget2 = val$widget;\n  this.val$ne3 = val$ne;\n}\n\ndefineClass(2935, 1, {257:1}, CalendarConnector$11$1);\n_.getActions = function getActions_5(){\n  var action, action$index, action$max, actions, cell, dayEvent, end, event_0, mel, slot, slotIndex, start_0;\n  if (instanceOf(this.val$widget2, 317)) {\n    cell = castTo(this.val$widget2, 317);\n    start_0 = new Date_2(cell.date.jsdate.getFullYear() - $intern_32, cell.date.jsdate.getMonth(), cell.date.jsdate.getDate(), 0, 0, 0);\n    end = new Date_2(cell.date.jsdate.getFullYear() - $intern_32, cell.date.jsdate.getMonth(), cell.date.jsdate.getDate(), 23, 59, 59);\n    return $getActionsBetween(this.this$11.this$01, start_0, end);\n  }\n   else if (instanceOf(this.val$widget2, 416)) {\n    mel = castTo(this.val$widget2, 416);\n    event_0 = mel.calendarEvent;\n    actions = $getActionsBetween(this.this$11.this$01, event_0.startTime, event_0.endTime);\n    for (action$index = 0 , action$max = actions.length; action$index < action$max; ++action$index) {\n      action = actions[action$index];\n      $setEvent(castTo(action, 644), event_0);\n    }\n    return actions;\n  }\n   else if (instanceOf(this.val$widget2, 296)) {\n    cell = castTo(this.val$widget2, 296);\n    slotIndex = ($clinit_DOM() , $getChildIndex(cell.element_0, $eventGetTarget(this.val$ne3)));\n    slot = castTo($get_9(cell.slots, slotIndex), 924);\n    return $getActionsBetween(this.this$11.this$01, slot.from, slot.to);\n  }\n   else if (instanceOf(this.val$widget2, 334)) {\n    dayEvent = castTo(this.val$widget2, 334);\n    event_0 = dayEvent.calendarEvent;\n    actions = $getActionsBetween(this.this$11.this$01, event_0.startTime, event_0.endTime);\n    for (action$index = 0 , action$max = actions.length; action$index < action$max; ++action$index) {\n      action = actions[action$index];\n      $setEvent(castTo(action, 644), event_0);\n    }\n    return actions;\n  }\n  return null;\n}\n;\n_.getClient = function getClient_5(){\n  return this.this$11.this$01.connection;\n}\n;\n_.getPaintableId = function getPaintableId_5(){\n  return this.this$11.this$01.id_0;\n}\n;\nvar Lcom_vaadin_v7_client_ui_calendar_CalendarConnector$11$1_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar', 'CalendarConnector/11/1', 2935, Ljava_lang_Object_2_classLit);\nfunction $dateClick_0(this$static, date){\n  !castTo($getWidget_1(this$static.this$01), 122).disabled_0 && $hasEventListener(this$static.this$01, 'dateClick') && $dateClick(this$static.this$01.rpc, date);\n}\n\nfunction CalendarConnector$2(this$0){\n  this.this$01 = this$0;\n}\n\ndefineClass(2925, 1, {}, CalendarConnector$2);\nvar Lcom_vaadin_v7_client_ui_calendar_CalendarConnector$2_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar', 'CalendarConnector/2', 2925, Ljava_lang_Object_2_classLit);\nfunction $forward(this$static){\n  $hasEventListener(this$static.this$01, 'forward') && $invoke(this$static.this$01.rpc.val$handler2, new Method(new Type(Lcom_vaadin_v7_shared_ui_calendar_CalendarServerRpc_2_classLit), 'forward'), stampJavaTypeInfo(getClassLiteralForArray(Ljava_lang_Object_2_classLit, 1), $intern_2, 1, 5, []));\n}\n\nfunction CalendarConnector$3(this$0){\n  this.this$01 = this$0;\n}\n\ndefineClass(2926, 1, {}, CalendarConnector$3);\nvar Lcom_vaadin_v7_client_ui_calendar_CalendarConnector$3_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar', 'CalendarConnector/3', 2926, Ljava_lang_Object_2_classLit);\nfunction $backward(this$static){\n  $hasEventListener(this$static.this$01, 'backward') && $invoke(this$static.this$01.rpc.val$handler2, new Method(new Type(Lcom_vaadin_v7_shared_ui_calendar_CalendarServerRpc_2_classLit), 'backward'), stampJavaTypeInfo(getClassLiteralForArray(Ljava_lang_Object_2_classLit, 1), $intern_2, 1, 5, []));\n}\n\nfunction CalendarConnector$4(this$0){\n  this.this$01 = this$0;\n}\n\ndefineClass(2927, 1, {}, CalendarConnector$4);\nvar Lcom_vaadin_v7_client_ui_calendar_CalendarConnector$4_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar', 'CalendarConnector/4', 2927, Ljava_lang_Object_2_classLit);\nfunction $rangeSelected(this$static, value_0){\n  $hasEventListener(this$static.this$01, 'rangeSelect') && $rangeSelect(this$static.this$01.rpc, value_0);\n}\n\nfunction CalendarConnector$5(this$0){\n  this.this$01 = this$0;\n}\n\ndefineClass(2928, 1, {}, CalendarConnector$5);\nvar Lcom_vaadin_v7_client_ui_calendar_CalendarConnector$5_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar', 'CalendarConnector/5', 2928, Ljava_lang_Object_2_classLit);\nfunction $weekClick_0(this$static, event_0){\n  !castTo($getWidget_1(this$static.this$01), 122).disabled_0 && $hasEventListener(this$static.this$01, 'weekClick') && $weekClick(this$static.this$01.rpc, event_0);\n}\n\nfunction CalendarConnector$6(this$0){\n  this.this$01 = this$0;\n}\n\ndefineClass(2929, 1, {}, CalendarConnector$6);\nvar Lcom_vaadin_v7_client_ui_calendar_CalendarConnector$6_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar', 'CalendarConnector/6', 2929, Ljava_lang_Object_2_classLit);\nfunction $eventMoved(this$static, event_0){\n  var sb;\n  if ($hasEventListener(this$static.this$01, 'eventMove')) {\n    sb = new StringBuilder;\n    $append_5(sb, formatClientSideDate(event_0.start_0));\n    sb.string += '-';\n    $append_5(sb, formatClientSideTime(event_0.startTime));\n    $eventMove(this$static.this$01.rpc, event_0.index_0, sb.string);\n  }\n}\n\nfunction CalendarConnector$7(this$0){\n  this.this$01 = this$0;\n}\n\ndefineClass(2930, 1, {}, CalendarConnector$7);\nvar Lcom_vaadin_v7_client_ui_calendar_CalendarConnector$7_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar', 'CalendarConnector/7', 2930, Ljava_lang_Object_2_classLit);\nfunction $eventResized(this$static, event_0){\n  var buffer, newEndDate, newStartDate;\n  if ($hasEventListener(this$static.this$01, 'eventResize')) {\n    buffer = new StringBuilder;\n    $append_5(buffer, formatClientSideDate(event_0.start_0));\n    buffer.string += '-';\n    $append_5(buffer, formatClientSideTime(event_0.startTime));\n    newStartDate = buffer.string;\n    buffer = new StringBuilder;\n    $append_5(buffer, formatClientSideDate(event_0.end));\n    buffer.string += '-';\n    $append_5(buffer, formatClientSideTime(event_0.endTime));\n    newEndDate = buffer.string;\n    $eventResize(this$static.this$01.rpc, event_0.index_0, newStartDate, newEndDate);\n  }\n}\n\nfunction CalendarConnector$8(this$0){\n  this.this$01 = this$0;\n}\n\ndefineClass(2931, 1, {}, CalendarConnector$8);\nvar Lcom_vaadin_v7_client_ui_calendar_CalendarConnector$8_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar', 'CalendarConnector/8', 2931, Ljava_lang_Object_2_classLit);\nfunction $scroll_1(this$static, scrollPosition){\n  $scroll_0(this$static.this$01.rpc, scrollPosition);\n}\n\nfunction CalendarConnector$9(this$0){\n  this.this$01 = this$0;\n}\n\ndefineClass(2932, 1, {}, CalendarConnector$9);\nvar Lcom_vaadin_v7_client_ui_calendar_CalendarConnector$9_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar', 'CalendarConnector/9', 2932, Ljava_lang_Object_2_classLit);\nfunction $setActionEndDate(this$static, actionEndDate){\n  this$static.actionEndDate = actionEndDate;\n}\n\nfunction $setActionStartDate(this$static, actionStartDate){\n  this$static.actionStartDate = actionStartDate;\n}\n\nfunction $setEvent(this$static, event_0){\n  this$static.event_0 = event_0;\n}\n\nfunction VCalendarAction(owner, rpc, key){\n  this.owner = owner;\n  this.dateformat_datetime = ($clinit_DateTimeFormat_0() , getFormat_0('yyyy-MM-dd HH:mm:ss', $getDateTimeFormatInfo(($clinit_LocaleInfo() , $clinit_LocaleInfo() , instance_1))));\n  this.rpc = rpc;\n  this.actionKey = key;\n}\n\ndefineClass(644, 184, {34:1, 107:1, 184:1, 644:1}, VCalendarAction);\n_.execute_1 = function execute_147(){\n  var endDate, startDate;\n  startDate = $format(this.dateformat_datetime, this.actionStartDate, null);\n  endDate = $format(this.dateformat_datetime, this.actionEndDate, null);\n  !this.event_0?$actionOnEmptyCell(this.rpc, $split_0(this.actionKey, '-', 0)[0], startDate, endDate):$actionOnEvent(this.rpc, $split_0(this.actionKey, '-', 0)[0], startDate, endDate, this.event_0.index_0);\n  $hide_1($getContextMenu(this.owner.getClient()), false, true, true);\n}\n;\n_.actionKey = '';\nvar Lcom_vaadin_v7_client_ui_calendar_VCalendarAction_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar', 'VCalendarAction', 644, Lcom_vaadin_client_ui_Action_2_classLit);\nfunction CalendarDay(date, localizedDateFormat, dayOfWeek, week, yearOfWeek){\n  this.date = date;\n  this.localizedDateFormat = localizedDateFormat;\n  this.dayOfWeek = dayOfWeek;\n  this.week = week;\n  this.yearOfWeek = yearOfWeek;\n}\n\ndefineClass(796, 1, {796:1}, CalendarDay);\n_.dayOfWeek = 0;\n_.week = 0;\n_.yearOfWeek = 0;\nvar Lcom_vaadin_v7_client_ui_calendar_schedule_CalendarDay_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar.schedule', 'CalendarDay', 796, Ljava_lang_Object_2_classLit);\nfunction $getRangeInMinutes(this$static){\n  return div_0(sub_1(fromDouble_0(this$static.endTime.jsdate.getTime()), fromDouble_0(this$static.startTime.jsdate.getTime())), $intern_28);\n}\n\nfunction $getTimeAsText(this$static){\n  return this$static.format24h?$format(this$static.dateformat_date24, this$static.startTime, null):$format(this$static.dateformat_date, this$static.startTime, null);\n}\n\nfunction $isTimeOnDifferentDays(this$static){\n  var isSeveralDays;\n  gt(sub_1(fromDouble_0(this$static.endTime.jsdate.getTime()), fromDouble_0(this$static.startTime.jsdate.getTime())), $intern_29)?(isSeveralDays = true):(isSeveralDays = $compareTo_0(this$static.start_0, this$static.end) != 0 && !(this$static.endTime.jsdate.getHours() == 0 && this$static.endTime.jsdate.getMinutes() == 0));\n  return isSeveralDays;\n}\n\nfunction $setAllDay(this$static, allDay){\n  this$static.allDay = allDay;\n}\n\nfunction $setCaption_8(this$static, caption){\n  this$static.caption_0 = caption;\n}\n\nfunction $setEnd(this$static, end){\n  this$static.end = end;\n}\n\nfunction $setEndTime(this$static, endTime){\n  this$static.endTime = endTime;\n}\n\nfunction $setIndex_0(this$static, index_0){\n  this$static.index_0 = index_0;\n}\n\nfunction $setStart(this$static, start_0){\n  this$static.start_0 = start_0;\n}\n\nfunction $setStartTime(this$static, startTime){\n  this$static.startTime = startTime;\n}\n\nfunction $setStyleName_13(this$static, style){\n  this$static.styleName = style;\n}\n\nfunction CalendarEvent(){\n  this.dateformat_date = ($clinit_DateTimeFormat_0() , getFormat_0('h:mm a', $getDateTimeFormatInfo(($clinit_LocaleInfo() , $clinit_LocaleInfo() , instance_1))));\n  this.dateformat_date24 = getFormat_0('H:mm', $getDateTimeFormatInfo((null , instance_1)));\n}\n\ndefineClass(441, 1, {441:1}, CalendarEvent);\n_.allDay = false;\n_.format24h = false;\n_.index_0 = 0;\n_.slotIndex = -1;\nvar Lcom_vaadin_v7_client_ui_calendar_schedule_CalendarEvent_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar.schedule', 'CalendarEvent', 441, Ljava_lang_Object_2_classLit);\ndefineClass(3192, 337, $intern_130);\n_.addBlurHandler = function addBlurHandler_8(handler){\n  return $addDomHandler(this, handler, ($clinit_BlurEvent() , $clinit_BlurEvent() , TYPE));\n}\n;\n_.addFocusHandler = function addFocusHandler_8(handler){\n  return $addDomHandler(this, handler, ($clinit_FocusEvent() , $clinit_FocusEvent() , TYPE_4));\n}\n;\n_.focus_0 = function focus_33(){\n  $clinit_FocusImpl();\n  $focus_0(($clinit_DOM() , this.element_0));\n}\n;\nvar Lcom_vaadin_v7_client_ui_calendar_schedule_FocusableComplexPanel_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar.schedule', 'FocusableComplexPanel', 3192, Lcom_google_gwt_user_client_ui_ComplexPanel_2_classLit);\nfunction $addEmphasisStyle(elementOver){\n  var originalStylename;\n  originalStylename = elementOver.className || '';\n  elementOver.className = originalStylename + ' dragemphasis' || '';\n}\n\nfunction $addEvent(this$static, dayEvent){\n  var dc, e, e$array, e$index, e$max, events, index_0, main;\n  main = ($clinit_DOM() , this$static.element_0);\n  index_0 = 0;\n  events = new ArrayList;\n  for (; index_0 < this$static.children_0.size_0; index_0++) {\n    dc = castTo($get_3(this$static.children_0, index_0), 334);\n    $setDisabled_4(dc, this$static.disabled_0);\n    $add_22(events, dc.calendarEvent);\n  }\n  $add_22(events, dayEvent.calendarEvent);\n  index_0 = 0;\n  for (e$array = $sortEvents(this$static.weekgrid.calendar, events) , e$index = 0 , e$max = e$array.length; e$index < e$max; ++e$index) {\n    e = e$array[e$index];\n    if (equals_Ljava_lang_Object__Z__devirtual$(e, dayEvent.calendarEvent)) {\n      break;\n    }\n    ++index_0;\n  }\n  $insert_0(this$static, dayEvent, main, index_0, true);\n}\n\nfunction $cancelRangeSelect(this$static){\n  releaseCapture(($clinit_DOM() , this$static.element_0));\n  $clinit_FocusImpl();\n  $blur(this$static.element_0);\n  $clearSelectionRange(this$static);\n}\n\nfunction $clearSelectionRange(this$static){\n  var c, i_0, main, nodes;\n  if (this$static.eventRangeStart > -1) {\n    main = ($clinit_DOM() , this$static.element_0);\n    nodes = main.childNodes;\n    for (i_0 = 0; i_0 <= 47; i_0++) {\n      c = nodes[i_0];\n      if (!c) {\n        continue;\n      }\n      $removeClassName(c, 'v-daterange');\n    }\n    this$static.eventRangeStart = -1;\n  }\n}\n\nfunction $drawDayEvents(this$static, groups){\n  var col, colCount, columns, d, eventIndex, eventIndex$iterator, eventWidth, freeSpaceCol, g, g$iterator, i_0, i$iterator, index_0, index$iterator, newOrderindex, order;\n  for (g$iterator = new ArrayList$1(groups); g$iterator.i < g$iterator.this$01.array.length;) {\n    g = castTo($next_7(g$iterator), 800);\n    colCount = 0;\n    order = new ArrayList;\n    columns = new HashMap;\n    for (eventIndex$iterator = new ArrayList$1(g.items_0); eventIndex$iterator.i < eventIndex$iterator.this$01.array.length;) {\n      eventIndex = castTo($next_7(eventIndex$iterator), 51);\n      d = castTo($getWidget(this$static, eventIndex.value_0), 334);\n      $setMoveWidth(d, this$static.width_0);\n      freeSpaceCol = $findFreeColumnSpaceOnLeft(this$static, new WeekGridMinuteTimeRange(d.calendarEvent.startTime, d.calendarEvent.endTime), order, columns);\n      if (freeSpaceCol >= 0) {\n        $put_0(columns, eventIndex, valueOf_86(freeSpaceCol));\n        newOrderindex = 0;\n        for (i$iterator = new ArrayList$1(order); i$iterator.i < i$iterator.this$01.array.length;) {\n          i_0 = castTo($next_7(i$iterator), 51);\n          if (castTo(getEntryValueOrNull($getEntry(columns.hashCodeMap, i_0)), 51).value_0 >= freeSpaceCol) {\n            newOrderindex = $indexOf_5(order, i_0, 0);\n            break;\n          }\n        }\n        checkCriticalPositionIndex(newOrderindex, order.array.length);\n        insertTo(order.array, newOrderindex, eventIndex);\n      }\n       else {\n        col = colCount++;\n        $put_0(columns, eventIndex, valueOf_86(col));\n        order.array[order.array.length] = eventIndex;\n      }\n    }\n    eventWidth = this$static.width_0 / colCount | 0;\n    for (index$iterator = new ArrayList$1(g.items_0); index$iterator.i < index$iterator.this$01.array.length;) {\n      index_0 = castTo($next_7(index$iterator), 51);\n      d = castTo($getWidget(this$static, index_0.value_0), 334);\n      ($clinit_DOM() , d.element_0).style['marginLeft'] = eventWidth * castTo(getEntryValueOrNull($getEntry(columns.hashCodeMap, index_0)), 51).value_0 + ($clinit_Style$Unit() , 'px');\n      d.element_0.style['width'] = eventWidth + 'px';\n      $setSlotHeightInPX(d, this$static.startingSlotHeight);\n    }\n  }\n}\n\nfunction $findFreeColumnSpaceOnLeft(this$static, dateRange, order, columns){\n  var col, d, eventIndex, eventIndex$iterator, freeSpot, nextRange, overlaps, skipIndex;\n  freeSpot = -1;\n  skipIndex = -1;\n  for (eventIndex$iterator = new ArrayList$1(order); eventIndex$iterator.i < eventIndex$iterator.this$01.array.length;) {\n    eventIndex = castTo($next_7(eventIndex$iterator), 51);\n    col = castTo(getEntryValueOrNull($getEntry(columns.hashCodeMap, eventIndex)), 51).value_0;\n    if (col == skipIndex) {\n      continue;\n    }\n    if (freeSpot != -1 && freeSpot != col) {\n      return freeSpot;\n    }\n    d = castTo($getWidget(this$static, eventIndex.value_0), 334);\n    nextRange = new WeekGridMinuteTimeRange(d.calendarEvent.startTime, d.calendarEvent.endTime);\n    overlaps = $compareTo_0(dateRange.start_0, nextRange.end) < 0 && $compareTo_0(dateRange.end, nextRange.start_0) > 0;\n    if (overlaps) {\n      skipIndex = col;\n      freeSpot = -1;\n    }\n     else {\n      freeSpot = col;\n    }\n  }\n  return freeSpot;\n}\n\nfunction $getOverlappingEvents(this$static, targetIndex){\n  var count, d, g, groupEnd, groupStart, i_0, nextRange, overlaps, target, targetRange;\n  g = new DateCellGroup(valueOf_86(targetIndex));\n  count = this$static.children_0.size_0;\n  target = castTo($get_3(this$static.children_0, targetIndex), 334);\n  targetRange = new WeekGridMinuteTimeRange(target.calendarEvent.startTime, target.calendarEvent.endTime);\n  groupStart = targetRange.start_0;\n  groupEnd = targetRange.end;\n  for (i_0 = 0; i_0 < count; i_0++) {\n    if (targetIndex == i_0) {\n      continue;\n    }\n    d = castTo($get_3(this$static.children_0, i_0), 334);\n    nextRange = new WeekGridMinuteTimeRange(d.calendarEvent.startTime, d.calendarEvent.endTime);\n    overlaps = $compareTo_0(targetRange.start_0, nextRange.end) < 0 && $compareTo_0(targetRange.end, nextRange.start_0) > 0;\n    if (overlaps) {\n      $add_18(g, valueOf_86(i_0));\n      $before(nextRange.start_0, targetRange.start_0) && (groupStart = targetRange.start_0);\n      $after(nextRange.end, targetRange.end) && (groupEnd = targetRange.end);\n    }\n  }\n  $setDateRange(g, new WeekGridMinuteTimeRange(groupStart, groupEnd));\n  return g;\n}\n\nfunction $getSlotIndex(this$static, slotElement){\n  var i_0;\n  for (i_0 = 0; i_0 < this$static.slotElements.length; i_0++) {\n    if (slotElement == this$static.slotElements[i_0]) {\n      return i_0;\n    }\n  }\n  throw toJs(new IllegalArgumentException_0('Element not found in this DateCell'));\n}\n\nfunction $recalculateCellHeights(this$static){\n  var i_0;\n  this$static.startingSlotHeight = this$static.height_0 / this$static.numberOfSlots | 0;\n  for (i_0 = 0; i_0 < this$static.slotElements.length; i_0++) {\n    this$static.slotElements[i_0].style['height'] = this$static.slotElementHeights[i_0] + ($clinit_Style$Unit() , 'px');\n  }\n  $updateEventCellsHeight(this$static);\n}\n\nfunction $recalculateEventPositions(this$static){\n  var dayEvent, i_0;\n  for (i_0 = 0; i_0 < this$static.children_0.size_0; i_0++) {\n    dayEvent = castTo($get_3(this$static.children_0, i_0), 334);\n    $updatePositionFor(this$static, dayEvent, this$static.date, dayEvent.calendarEvent);\n  }\n}\n\nfunction $recalculateEventWidths(this$static){\n  var count, curGroup, g, g$iterator, groups, handled, i_0, newGroup;\n  groups = new ArrayList;\n  count = this$static.children_0.size_0;\n  handled = new ArrayList;\n  for (i_0 = 0; i_0 < count; i_0++) {\n    if ($indexOf_5(handled, valueOf_86(i_0), 0) != -1) {\n      continue;\n    }\n    curGroup = $getOverlappingEvents(this$static, i_0);\n    $addAll_3(handled, curGroup.items_0);\n    newGroup = true;\n    if (curGroup.items_0.array.length != count) {\n      for (g$iterator = new ArrayList$1(groups); g$iterator.i < g$iterator.this$01.array.length;) {\n        g = castTo($next_7(g$iterator), 800);\n        if (doesOverlap(curGroup.range, g.range)) {\n          newGroup = false;\n          $updateGroup(g, curGroup);\n        }\n      }\n    }\n     else {\n      groups.array[groups.array.length] = curGroup;\n      break;\n    }\n    newGroup && (groups.array[groups.array.length] = curGroup , true);\n  }\n  $drawDayEvents(this$static, groups);\n}\n\nfunction $recalculateTimeBarPosition(this$static){\n  var h, m, pixelTop;\n  h = this$static.today.jsdate.getHours();\n  m = this$static.today.jsdate.getMinutes();\n  if (h >= this$static.firstHour && h <= this$static.lastHour) {\n    pixelTop = $getPixelTopFor(this$static.weekgrid, m + 60 * h);\n    this$static.todaybar.style['display'] = '';\n    this$static.todaybar.style['top'] = pixelTop + ($clinit_Style$Unit() , 'px');\n  }\n   else {\n    this$static.todaybar.style['display'] = ($clinit_Style$Display() , 'none');\n  }\n}\n\nfunction $removeEmphasisStyle(elementOver){\n  var originalStylename;\n  originalStylename = elementOver.className || '';\n  $setClassName(elementOver, $substring_1(originalStylename, 0, originalStylename.length - 13));\n}\n\nfunction $setDisabled_3(this$static, disabled){\n  this$static.disabled_0 = disabled;\n}\n\nfunction $setHeightPX(this$static, height, cellHeights){\n  this$static.height_0 = height;\n  this$static.slotElementHeights = cellHeights;\n  ($clinit_DOM() , this$static.element_0).style['height'] = height + 'px';\n  $recalculateCellHeights(this$static);\n  $recalculateEventPositions(this$static);\n  !!this$static.today && $recalculateTimeBarPosition(this$static);\n}\n\nfunction $setHorizontalSized(this$static, isHorizontalSized){\n  if (isHorizontalSized) {\n    $setStyleName_0(this$static, getStylePrimaryName(($clinit_DOM() , this$static.element_0)) + '-' + 'Hsized', true);\n    this$static.width_0 = $getPropertyInt(this$static.element_0, 'offsetWidth') - measureHorizontalBorder(this$static.element_0);\n    $updateEventCellsWidth(this$static);\n    $recalculateEventWidths(this$static);\n  }\n   else {\n    $setStyleName_0(this$static, getStylePrimaryName(($clinit_DOM() , this$static.element_0)) + '-' + 'Hsized', false);\n  }\n}\n\nfunction $setTimeBarWidth(this$static, timebarWidth){\n  this$static.todaybar.style['width'] = timebarWidth + ($clinit_Style$Unit() , 'px');\n}\n\nfunction $setToday(this$static, today, width_0){\n  var lastChild;\n  this$static.today = today;\n  $setStyleName_0(this$static, getStylePrimaryName(($clinit_DOM() , this$static.element_0)) + '-' + 'today', true);\n  lastChild = this$static.element_0.lastChild;\n  if ($equals_10(lastChild.className || '', 'v-calendar-current-time')) {\n    this$static.todaybar = lastChild;\n  }\n   else {\n    this$static.todaybar = $doc.createElement('div');\n    this$static.todaybar.className = 'v-calendar-current-time';\n    $appendChild(this$static.element_0, this$static.todaybar);\n  }\n  width_0 != -1 && (this$static.todaybar.style['width'] = width_0 + ($clinit_Style$Unit() , 'px') , undefined);\n}\n\nfunction $setVerticalSized(this$static, isVerticalSized){\n  if (isVerticalSized) {\n    $setStyleName_0(this$static, getStylePrimaryName(($clinit_DOM() , this$static.element_0)) + '-' + 'Vsized', true);\n    this$static.startingSlotHeight = (this$static.slotElements[0].offsetHeight || 0) | 0;\n    $updateEventCellsHeight(this$static);\n    $recalculateEventPositions(this$static);\n    !!this$static.today && $recalculateTimeBarPosition(this$static);\n  }\n   else {\n    $setStyleName_0(this$static, getStylePrimaryName(($clinit_DOM() , this$static.element_0)) + '-' + 'Vsized', false);\n  }\n}\n\nfunction $setWidthPX(this$static, cellWidth){\n  this$static.width_0 = cellWidth;\n  ($clinit_DOM() , this$static.element_0).style['width'] = cellWidth + 'px';\n  $recalculateEventWidths(this$static);\n}\n\nfunction $shouldDisplay(this$static, event_0){\n  var display, eventEnd, eventEndHours, eventStart, eventStartHours;\n  if ($isTimeOnDifferentDays(event_0)) {\n    display = true;\n  }\n   else {\n    eventStart = event_0.startTime;\n    eventEnd = event_0.endTime;\n    eventStartHours = eventStart.jsdate.getHours();\n    eventEndHours = eventEnd.jsdate.getHours();\n    !$equals_0(event_0.start_0, event_0.end) && event_0.endTime.jsdate.getHours() == 0 && event_0.endTime.jsdate.getMinutes() == 0 && (eventEndHours = 23);\n    display = !(eventEndHours < this$static.firstHour || eventStartHours > this$static.lastHour);\n  }\n  return display;\n}\n\nfunction $updateEventCellsHeight(this$static){\n  var widget, widget$iterator;\n  for (widget$iterator = new WidgetCollection$WidgetIterator(this$static.children_0); widget$iterator.index_0 < widget$iterator.this$01.size_0;) {\n    widget = $next_1(widget$iterator);\n    instanceOf(widget, 334) && $setSlotHeightInPX(castTo(widget, 334), this$static.startingSlotHeight);\n  }\n}\n\nfunction $updateEventCellsWidth(this$static){\n  var widget, widget$iterator;\n  for (widget$iterator = new WidgetCollection$WidgetIterator(this$static.children_0); widget$iterator.index_0 < widget$iterator.this$01.size_0;) {\n    widget = $next_1(widget$iterator);\n    instanceOf(widget, 334) && $setMoveWidth(castTo(widget, 334), this$static.width_0);\n  }\n}\n\nfunction $updateGroup(targetGroup, byGroup){\n  var index_0, index$iterator, newEnd, newStart;\n  newStart = targetGroup.range.start_0;\n  newEnd = targetGroup.range.end;\n  $before(byGroup.range.start_0, targetGroup.range.start_0) && (newStart = byGroup.range.end);\n  $after(byGroup.range.start_0, targetGroup.range.end) && (newStart = byGroup.range.start_0);\n  $setDateRange(targetGroup, new WeekGridMinuteTimeRange(newStart, newEnd));\n  for (index$iterator = new ArrayList$1(byGroup.items_0); index$iterator.i < index$iterator.this$01.array.length;) {\n    index_0 = castTo($next_7(index$iterator), 51);\n    $indexOf_5(targetGroup.items_0, index_0, 0) != -1 || $add_22(targetGroup.items_0, index_0);\n  }\n}\n\nfunction $updatePositionFor(this$static, dayEvent, targetDay, calendarEvent){\n  var fromDt, h, m, onDifferentDays, range, startFromMinutes, rangeInMinutesForDay;\n  if ($shouldDisplay(this$static, calendarEvent)) {\n    ($clinit_DOM() , dayEvent.element_0).style['display'] = '';\n    fromDt = calendarEvent.startTime;\n    h = fromDt.jsdate.getHours();\n    m = fromDt.jsdate.getMinutes();\n    range = ($isTimeOnDifferentDays(calendarEvent)?$compareTo_0(targetDay, calendarEvent.start_0) == 0?(rangeInMinutesForDay = sub_1(1440, div_0(sub_1(fromDouble_0(calendarEvent.startTime.jsdate.getTime()), fromDouble_0(calendarEvent.start_0.jsdate.getTime())), $intern_28))):$compareTo_0(targetDay, calendarEvent.end) == 0?(rangeInMinutesForDay = div_0(sub_1(fromDouble_0(calendarEvent.endTime.jsdate.getTime()), fromDouble_0(calendarEvent.end.jsdate.getTime())), $intern_28)):(rangeInMinutesForDay = 1440):(rangeInMinutesForDay = div_0(sub_1(fromDouble_0(calendarEvent.endTime.jsdate.getTime()), fromDouble_0(calendarEvent.startTime.jsdate.getTime())), $intern_28)) , rangeInMinutesForDay);\n    onDifferentDays = $isTimeOnDifferentDays(calendarEvent);\n    if (onDifferentDays) {\n      if ($compareTo_0(calendarEvent.start_0, targetDay) != 0) {\n        h = 0;\n        m = 0;\n      }\n    }\n    startFromMinutes = h * 60 + m;\n    $updatePosition_0(dayEvent, startFromMinutes, range);\n  }\n   else {\n    ($clinit_DOM() , dayEvent.element_0).style['display'] = ($clinit_Style$Display() , 'none');\n  }\n}\n\nfunction DateCell(parent_0, date){\n  var end, i_0, mainElement, slot, slotTime, start_0;\n  ComplexPanel.call(this);\n  this.slots = new ArrayList;\n  this.weekgrid = parent_0;\n  mainElement = ($clinit_DOM() , $doc.createElement('div'));\n  $setElement_0(this, mainElement);\n  this.element_0.tabIndex = 0;\n  this.date = date;\n  setStyleName(this.element_0, 'v-calendar-day-times', true);\n  this.handlers = new LinkedList;\n  this.firstHour = this.weekgrid.firstHour;\n  this.lastHour = this.weekgrid.lastHour;\n  this.numberOfSlots = (this.lastHour - this.firstHour + 1) * 2;\n  slotTime = fromDouble_0($wnd.Math.round((this.lastHour - this.firstHour + 1) * $intern_33 / this.numberOfSlots));\n  this.slotElements = initUnidimensionalArray(Lcom_google_gwt_core_client_JavaScriptObject_2_classLit, $intern_2, 0, this.numberOfSlots, 2, 1);\n  this.slotElementHeights = initUnidimensionalArray(I_classLit, $intern_7, 134, this.numberOfSlots, 15, 1);\n  this.slots.array = initUnidimensionalArray(Ljava_lang_Object_2_classLit, $intern_2, 1, 0, 5, 1);\n  start_0 = add_2(fromDouble_0(this.date.jsdate.getTime()), this.firstHour * $intern_33);\n  end = add_2(start_0, slotTime);\n  for (i_0 = 0; i_0 < this.numberOfSlots; i_0++) {\n    slot = new DateCell$DateCellSlot(new Date_3(start_0), new Date_3(end));\n    i_0 % 2 == 0?(slot.element_0.className = 'v-datecellslot-even' , undefined):(slot.element_0.className = 'v-datecellslot' , undefined);\n    sinkEvents_0(slot.element_0, 124);\n    $appendChild(mainElement, slot.element_0);\n    this.slotElements[i_0] = slot.element_0;\n    $add_22(this.slots, slot);\n    start_0 = end;\n    end = add_2(end, slotTime);\n  }\n  $maybeInitializeEventSystem();\n  $sinkEventsImpl(mainElement, 124);\n}\n\ndefineClass(296, 3192, {286:1, 78:1, 79:1, 85:1, 104:1, 139:1, 188:1, 708:1, 213:1, 16:1, 8:1, 13:1, 14:1, 12:1, 35:1, 38:1, 17:1, 36:1, 11:1, 10:1, 71:1, 296:1, 24:1}, DateCell);\n_.onAttach = function onAttach_19(){\n  $onAttach(this);\n  $add_24(this.handlers, $addHandler_1(this, this, ($clinit_MouseDownEvent() , $clinit_MouseDownEvent() , TYPE_9)));\n  $add_24(this.handlers, $addHandler_1(this, this, ($clinit_MouseUpEvent() , $clinit_MouseUpEvent() , TYPE_13)));\n  $add_24(this.handlers, $addHandler_1(this, this, ($clinit_MouseMoveEvent() , $clinit_MouseMoveEvent() , TYPE_10)));\n  $add_24(this.handlers, $addDomHandler(this, this, ($clinit_ContextMenuEvent() , $clinit_ContextMenuEvent() , TYPE_2)));\n  $add_24(this.handlers, $addDomHandler(this, this, ($clinit_KeyDownEvent() , $clinit_KeyDownEvent() , TYPE_5)));\n}\n;\n_.onContextMenu = function onContextMenu_3(event_0){\n  if (this.weekgrid.calendar.mouseEventListener) {\n    !!event_0.nativeEvent && (event_0.nativeEvent.preventDefault() , undefined);\n    event_0.nativeEvent.stopPropagation();\n    $contextMenu(this.weekgrid.calendar.mouseEventListener, event_0, this);\n  }\n}\n;\n_.onDetach = function onDetach_30(){\n  var handler, handler$iterator;\n  for (handler$iterator = $listIterator(this.handlers, 0); handler$iterator.currentNode != handler$iterator.this$01.tail;) {\n    handler = castTo($next_9(handler$iterator), 387);\n    handler.removeHandler();\n  }\n  $reset_3(this.handlers);\n  $onDetach(this);\n}\n;\n_.onKeyDown = function onKeyDown_26(event_0){\n  var keycode;\n  keycode = event_0.nativeEvent.keyCode | 0;\n  keycode == 27 && this.eventRangeStart > -1 && $cancelRangeSelect(this);\n}\n;\n_.onMouseDown = function onMouseDown_11(event_0){\n  var e;\n  if ($eventGetButton(event_0.nativeEvent) == 1) {\n    e = $eventGetTarget(event_0.nativeEvent);\n    if ((e.className || '').indexOf('reserved') != -1 || this.disabled_0 || !this.weekgrid.calendar.rangeSelectAllowed) {\n      this.eventRangeStart = -1;\n    }\n     else {\n      this.eventRangeStart = $getY(event_0);\n      this.eventRangeStop = this.eventRangeStart;\n      setCapture_0(($clinit_DOM() , this.element_0));\n      $clinit_FocusImpl();\n      $focus_0(this.element_0);\n    }\n  }\n}\n;\n_.onMouseMove = function onMouseMove_2(event_0){\n  var c, elemStart, elemStop, fromY, i_0, main, newY, nodes, toY;\n  if ($eventGetButton(event_0.nativeEvent) != 1) {\n    return;\n  }\n  if (this.eventRangeStart >= 0) {\n    newY = $getY(event_0);\n    if (newY < this.eventRangeStart) {\n      fromY = newY;\n      toY = this.eventRangeStart;\n    }\n     else {\n      fromY = this.eventRangeStart;\n      toY = newY;\n    }\n    main = ($clinit_DOM() , this.element_0);\n    this.eventRangeStop = newY;\n    nodes = main.childNodes;\n    for (i_0 = 0; i_0 < nodes.length; i_0++) {\n      c = nodes[i_0];\n      if (this.todaybar != c) {\n        elemStart = (c.offsetTop || 0) | 0;\n        elemStop = elemStart + this.startingSlotHeight;\n        elemStart >= fromY && elemStart <= toY?$addClassName(c, 'v-daterange'):elemStop >= fromY && elemStop <= toY?$addClassName(c, 'v-daterange'):elemStop >= fromY && elemStart <= toY?$addClassName(c, 'v-daterange'):$removeClassName(c, 'v-daterange');\n      }\n    }\n  }\n  !!event_0.nativeEvent && (event_0.nativeEvent.preventDefault() , undefined);\n}\n;\n_.onMouseUp = function onMouseUp_6(event_0){\n  var currentDate, dragDistance, element, endMinutes, i_0, isRangeElement, main, nodes, slotEnd, slotStart, startMinutes, temp, yr;\n  if ($eventGetButton(event_0.nativeEvent) != 1) {\n    return;\n  }\n  releaseCapture_0(($clinit_DOM() , this.element_0));\n  $clinit_FocusImpl();\n  $blur(this.element_0);\n  dragDistance = $wnd.Math.abs(this.eventRangeStart - $getY(event_0));\n  if (dragDistance > 0 && this.eventRangeStart >= 0) {\n    main = this.element_0;\n    if (this.eventRangeStart > this.eventRangeStop) {\n      this.eventRangeStop <= -1 && (this.eventRangeStop = 0);\n      temp = this.eventRangeStart;\n      this.eventRangeStart = this.eventRangeStop;\n      this.eventRangeStop = temp;\n    }\n    nodes = main.childNodes;\n    slotStart = -1;\n    slotEnd = -1;\n    for (i_0 = 0; i_0 < nodes.length; i_0++) {\n      element = nodes[i_0];\n      isRangeElement = (element.className || '').indexOf('v-daterange') != -1;\n      if (isRangeElement && slotStart == -1) {\n        slotStart = i_0;\n        slotEnd = i_0;\n      }\n       else if (isRangeElement) {\n        slotEnd = i_0;\n      }\n       else if (slotStart != -1 && slotEnd != -1) {\n        break;\n      }\n    }\n    $clearSelectionRange(this);\n    startMinutes = this.firstHour * 60 + slotStart * 30;\n    endMinutes = this.firstHour * 60 + (slotEnd + 1) * 30;\n    currentDate = this.date;\n    yr = currentDate.jsdate.getFullYear() - $intern_32 + $intern_32 + '-' + (currentDate.jsdate.getMonth() + 1) + '-' + currentDate.jsdate.getDate();\n    !!this.weekgrid.calendar.rangeSelectListener && $rangeSelected(this.weekgrid.calendar.rangeSelectListener, yr + ':' + startMinutes + ':' + endMinutes);\n    this.eventRangeStart = -1;\n  }\n   else {\n    this.eventRangeStart = -1;\n    $cancelRangeSelect(this);\n  }\n}\n;\n_.disabled_0 = false;\n_.eventRangeStart = -1;\n_.eventRangeStop = -1;\n_.firstHour = 0;\n_.height_0 = 0;\n_.lastHour = 0;\n_.numberOfSlots = 0;\n_.startingSlotHeight = 0;\n_.width_0 = 0;\nvar Lcom_vaadin_v7_client_ui_calendar_schedule_DateCell_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar.schedule', 'DateCell', 296, Lcom_vaadin_v7_client_ui_calendar_schedule_FocusableComplexPanel_2_classLit);\nfunction DateCell$DateCellSlot(from, to){\n  $setElement_0(this, ($clinit_DOM() , $doc.createElement('div')));\n  this.element_0.innerHTML = '&nbsp;';\n  this.from = from;\n  this.to = to;\n}\n\ndefineClass(924, 10, {16:1, 13:1, 14:1, 12:1, 17:1, 11:1, 10:1, 924:1}, DateCell$DateCellSlot);\nvar Lcom_vaadin_v7_client_ui_calendar_schedule_DateCell$DateCellSlot_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar.schedule', 'DateCell/DateCellSlot', 924, Lcom_google_gwt_user_client_ui_Widget_2_classLit);\nfunction $addEmptyEventCells(this$static, eventCount){\n  var i_0, dateCell;\n  for (i_0 = 0; i_0 < eventCount; i_0++) {\n    dateCell = new WeeklyLongEventsDateCell;\n    $addDomHandler(dateCell, this$static, ($clinit_MouseDownEvent() , $clinit_MouseDownEvent() , TYPE_9));\n    $addDomHandler(dateCell, this$static, ($clinit_MouseUpEvent() , $clinit_MouseUpEvent() , TYPE_13));\n    $add_1(this$static, dateCell, ($clinit_DOM() , this$static.element_0));\n  }\n}\n\nfunction $getDateCell(this$static, slotIndex){\n  this$static.children_0.size_0 - 1 >= slotIndex || $addEmptyEventCells(this$static, slotIndex - (this$static.children_0.size_0 - 1));\n  return castTo($get_3(this$static.children_0, slotIndex), 642);\n}\n\nfunction $setCalendar(this$static, calendar){\n  this$static.calendar = calendar;\n}\n\nfunction DateCellContainer(){\n  FlowPanel.call(this);\n  setStylePrimaryName(($clinit_DOM() , this.element_0), 'v-calendar-datecell');\n}\n\ndefineClass(704, 81, {188:1, 213:1, 16:1, 8:1, 13:1, 14:1, 12:1, 35:1, 38:1, 17:1, 36:1, 11:1, 10:1, 704:1, 24:1}, DateCellContainer);\n_.onMouseDown = function onMouseDown_12(event_0){\n  this.clickTargetWidget = castTo(event_0.source_0, 10);\n  event_0.nativeEvent.stopPropagation();\n}\n;\n_.onMouseUp = function onMouseUp_7(event_0){\n  var calendarEvent;\n  if (maskUndefined(event_0.source_0) === maskUndefined(this.clickTargetWidget) && instanceOf(this.clickTargetWidget, 642) && !$isDisabledOrReadOnly(this.calendar)) {\n    calendarEvent = castTo(this.clickTargetWidget, 642).calendarEvent;\n    !!this.calendar.eventClickListener && $eventClick_0(this.calendar.eventClickListener, calendarEvent);\n  }\n}\n;\nvar Lcom_vaadin_v7_client_ui_calendar_schedule_DateCellContainer_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar.schedule', 'DateCellContainer', 704, Lcom_google_gwt_user_client_ui_FlowPanel_2_classLit);\ndefineClass(3193, 106, {63:1, 89:1, 93:1, 99:1, 78:1, 57:1, 56:1, 64:1, 65:1, 67:1, 66:1, 68:1, 69:1, 70:1, 79:1, 91:1, 92:1, 90:1, 85:1, 104:1, 83:1, 97:1, 95:1, 96:1, 94:1, 98:1, 103:1, 102:1, 101:1, 100:1, 16:1, 13:1, 157:1, 14:1, 144:1, 112:1, 12:1, 17:1, 126:1, 87:1, 88:1, 11:1, 10:1, 71:1});\n_.addBlurHandler = function addBlurHandler_9(handler){\n  return $addDomHandler(this, handler, ($clinit_BlurEvent() , $clinit_BlurEvent() , TYPE));\n}\n;\n_.addFocusHandler = function addFocusHandler_9(handler){\n  return $addDomHandler(this, handler, ($clinit_FocusEvent() , $clinit_FocusEvent() , TYPE_4));\n}\n;\n_.focus_0 = function focus_34(){\n  $clinit_FocusImpl();\n  $focus_0(($clinit_DOM() , this.element_0));\n}\n;\nvar Lcom_vaadin_v7_client_ui_calendar_schedule_FocusableHTML_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar.schedule', 'FocusableHTML', 3193, Lcom_google_gwt_user_client_ui_HTML_2_classLit);\nfunction $calculateDateCellOffsetPx(this$static, dateOffset){\n  var dateCellOffset, dateWidths, i_0;\n  dateCellOffset = 0;\n  dateWidths = this$static.weekGrid.cellWidths;\n  if (dateWidths != null) {\n    for (i_0 = 0; i_0 < dateOffset; i_0++) {\n      dateCellOffset += dateWidths[i_0] + 1;\n    }\n  }\n   else {\n    dateCellOffset = dateOffset * $getDateCellWidth(this$static.weekGrid);\n  }\n  return dateCellOffset;\n}\n\nfunction $calculateStartFromMinute(this$static, startFromMinutes, from, to, dayOffset){\n  var eventStartAtDifferentDay, minutesOnPrevDay, newParent;\n  eventStartAtDifferentDay = from.jsdate.getDate() != to.jsdate.getDate();\n  if (eventStartAtDifferentDay) {\n    minutesOnPrevDay = div_0(sub_1(fromDouble_0((newParent = castTo($getWidget(this$static.weekGrid.content_0, (dayOffset / $getDateCellWidth(this$static.weekGrid) | 0) + 1), 296) , newParent.date).jsdate.getTime()), fromDouble_0(from.jsdate.getTime())), $intern_28);\n    startFromMinutes = neg_0(minutesOnPrevDay);\n  }\n  return startFromMinutes;\n}\n\nfunction $cancelMouseMove(this$static){\n  var dateCellWidth, dayOffset, range, s, startFromMinutes;\n  this$static.mouseMoveCanceled = true;\n  releaseCapture_0(($clinit_DOM() , this$static.element_0));\n  $clinit_FocusImpl();\n  $blur(this$static.element_0);\n  if (this$static.moveRegistration) {\n    $removeHandler_0(this$static.moveRegistration.real);\n    this$static.moveRegistration = null;\n  }\n  this$static.mouseMoveStarted = false;\n  $removeStyleDependentName(this$static.weekGrid.calendar, 'nresize');\n  $removeStyleDependentName(this$static.weekGrid.calendar, 'sresize');\n  s = this$static.element_0.style;\n  s['zIndex'] = '1';\n  dateCellWidth = $getDateCellWidth(this$static.weekGrid);\n  dayOffset = this$static.startXrelative / dateCellWidth | 0;\n  s['left'] = '';\n  $setStartTime(this$static.calendarEvent, this$static.startDatetimeFrom);\n  $setEndTime(this$static.calendarEvent, this$static.startDatetimeTo);\n  startFromMinutes = this$static.startDatetimeFrom.jsdate.getHours() * 60 + this$static.startDatetimeFrom.jsdate.getMinutes();\n  range = $getRangeInMinutes(this$static.calendarEvent);\n  startFromMinutes = $calculateStartFromMinute(this$static, startFromMinutes, this$static.startDatetimeFrom, this$static.startDatetimeTo, dayOffset);\n  compare_1(startFromMinutes, 0) < 0 && (range = add_2(range, startFromMinutes));\n  $updatePosition_0(this$static, startFromMinutes, range);\n  this$static.startY = -1;\n  this$static.startX = -1;\n  $recalculateEventWidths(castTo(this$static.parent_1, 296));\n}\n\nfunction $getDatesWidth(this$static){\n  var count;\n  if (this$static.weekGrid.width_0 == -1) {\n    count = this$static.weekGrid.content_0.children_0.size_0 - 1;\n    return count * $getDateCellWidth(this$static.weekGrid);\n  }\n  return this$static.weekGrid.width_0;\n}\n\nfunction $isTimeRangeTooSmall(start_0, end){\n  return gte_0(sub_1(end, start_0), $intern_228);\n}\n\nfunction $setDisabled_4(this$static, disabled){\n  this$static.disabled_0 = disabled;\n}\n\nfunction $setHeight_11(this$static, h){\n  if (h == -1) {\n    ($clinit_DOM() , this$static.element_0).style['height'] = '';\n    this$static.eventContent.style['height'] = '';\n  }\n   else {\n    ($clinit_DOM() , this$static.element_0).style['height'] = h + ($clinit_Style$Unit() , 'px');\n    this$static.eventContent.style['height'] = h - 2 + 'px';\n  }\n}\n\nfunction $setMoveWidth(this$static, width_0){\n  this$static.moveWidth = width_0 + 'px';\n}\n\nfunction $setSlotHeightInPX(this$static, slotHeight){\n  this$static.slotHeight = slotHeight;\n}\n\nfunction $updatePosition_0(this$static, startFromMinutes, durationInMinutes){\n  var heightMinutes, multiRowCaption, timeAsText, htmlOrText, innerHtml;\n  compare_1(startFromMinutes, 0) < 0 && (startFromMinutes = 0);\n  this$static.top_0 = $getPixelTopFor(this$static.weekGrid, toInt_0(startFromMinutes));\n  ($clinit_DOM() , this$static.element_0).style['top'] = this$static.top_0 + ($clinit_Style$Unit() , 'px');\n  if (compare_1(durationInMinutes, 0) > 0) {\n    heightMinutes = $getPixelLengthFor(this$static.weekGrid, toInt_0(startFromMinutes), toInt_0(durationInMinutes));\n    $setHeight_11(this$static, heightMinutes);\n  }\n   else {\n    $setHeight_11(this$static, -1);\n  }\n  multiRowCaption = compare_1(durationInMinutes, 30) > 0;\n  timeAsText = $getTimeAsText(this$static.calendarEvent);\n  this$static.dateCell.weekgrid.calendar.eventCaptionAsHtml?(htmlOrText = this$static.calendarEvent.caption_0):(htmlOrText = escapeHTML(this$static.calendarEvent.caption_0));\n  multiRowCaption?(innerHtml = '<span>' + timeAsText + '<\\/span><br />' + htmlOrText):(innerHtml = '<span>' + timeAsText + '<span>:<\\/span><\\/span> ' + htmlOrText);\n  $setInnerHTML(this$static.caption_0, innerHtml);\n  this$static.eventContent.innerHTML = '';\n}\n\nfunction DateCellDayEvent(dateCell, parent_0, event_0){\n  var s;\n  HTML.call(this);\n  ($clinit_DOM() , this.element_0).tabIndex = 0;\n  this.caption_0 = null;\n  this.calendarEvent = null;\n  this.startY = -1;\n  this.startX = -1;\n  this.dateCell = dateCell;\n  this.handlers = new LinkedList;\n  setStylePrimaryName(this.element_0, 'v-calendar-event');\n  this.calendarEvent = event_0;\n  this.weekGrid = parent_0;\n  s = this.element_0.style;\n  event_0.styleName.length > 0 && $addStyleDependentName(this, event_0.styleName);\n  s['position'] = ($clinit_Style$Position() , 'absolute');\n  this.caption_0 = $doc.createElement('div');\n  $addClassName(this.caption_0, 'v-calendar-event-caption');\n  $appendChild(this.element_0, this.caption_0);\n  this.eventContent = $doc.createElement('div');\n  $addClassName(this.eventContent, 'v-calendar-event-content');\n  $appendChild(this.element_0, this.eventContent);\n  if (this.weekGrid.calendar.eventResizeAllowed) {\n    this.topResizeBar = $doc.createElement('div');\n    this.bottomResizeBar = $doc.createElement('div');\n    $addClassName(this.topResizeBar, 'v-calendar-event-resizetop');\n    $addClassName(this.bottomResizeBar, 'v-calendar-event-resizebottom');\n    $appendChild(this.element_0, this.topResizeBar);\n    $appendChild(this.element_0, this.bottomResizeBar);\n  }\n  this.eventIndex = valueOf_86(event_0.index_0);\n}\n\ndefineClass(334, 3193, {286:1, 63:1, 89:1, 93:1, 99:1, 78:1, 57:1, 56:1, 64:1, 65:1, 67:1, 66:1, 68:1, 69:1, 70:1, 79:1, 91:1, 92:1, 90:1, 85:1, 104:1, 83:1, 97:1, 95:1, 96:1, 94:1, 98:1, 103:1, 102:1, 101:1, 100:1, 139:1, 188:1, 708:1, 213:1, 16:1, 8:1, 13:1, 157:1, 14:1, 144:1, 112:1, 12:1, 17:1, 126:1, 87:1, 88:1, 11:1, 10:1, 71:1, 334:1, 812:1}, DateCellDayEvent);\n_.getTooltipKey = function getTooltipKey(){\n  return this.eventIndex;\n}\n;\n_.onAttach = function onAttach_20(){\n  $onAttach(this);\n  $add_24(this.handlers, $addDomHandler(this, this, ($clinit_MouseDownEvent() , $clinit_MouseDownEvent() , TYPE_9)));\n  $add_24(this.handlers, $addDomHandler(this, this, ($clinit_MouseUpEvent() , $clinit_MouseUpEvent() , TYPE_13)));\n  $add_24(this.handlers, $addDomHandler(this, this, ($clinit_KeyDownEvent() , $clinit_KeyDownEvent() , TYPE_5)));\n  $add_24(this.handlers, $addDomHandler(this, this, ($clinit_ContextMenuEvent() , $clinit_ContextMenuEvent() , TYPE_2)));\n}\n;\n_.onContextMenu = function onContextMenu_4(event_0){\n  if (this.dateCell.weekgrid.calendar.mouseEventListener) {\n    !!event_0.nativeEvent && (event_0.nativeEvent.preventDefault() , undefined);\n    event_0.nativeEvent.stopPropagation();\n    $contextMenu(this.dateCell.weekgrid.calendar.mouseEventListener, event_0, this);\n  }\n}\n;\n_.onDetach = function onDetach_31(){\n  var handler, handler$iterator;\n  for (handler$iterator = $listIterator(this.handlers, 0); handler$iterator.currentNode != handler$iterator.this$01.tail;) {\n    handler = castTo($next_9(handler$iterator), 387);\n    handler.removeHandler();\n  }\n  $reset_3(this.handlers);\n  $onDetach(this);\n}\n;\n_.onKeyDown = function onKeyDown_27(event_0){\n  var keycode;\n  keycode = event_0.nativeEvent.keyCode | 0;\n  keycode == 27 && this.mouseMoveStarted && $cancelMouseMove(this);\n}\n;\n_.onMouseDown = function onMouseDown_13(event_0){\n  var s;\n  this.startX = (event_0.nativeEvent.clientX || 0) | 0;\n  this.startY = (event_0.nativeEvent.clientY || 0) | 0;\n  if (this.disabled_0 || $eventGetButton(event_0.nativeEvent) != 1) {\n    return;\n  }\n  this.clickTarget = $eventGetTarget(event_0.nativeEvent);\n  this.mouseMoveCanceled = false;\n  if (this.weekGrid.calendar.eventMoveAllowed || this.weekGrid.calendar.eventResizeAllowed && (this.clickTarget == this.topResizeBar || this.clickTarget == this.bottomResizeBar)) {\n    this.moveRegistration = $addDomHandler(this, this, ($clinit_MouseMoveEvent() , $clinit_MouseMoveEvent() , TYPE_10));\n    $clinit_FocusImpl();\n    $focus_0(($clinit_DOM() , this.element_0));\n    try {\n      this.startYrelative = round_int($getRelativeY(event_0, this.caption_0) % this.slotHeight);\n      this.startXrelative = ($getRelativeX(event_0, $getElement(this.weekGrid)) - $getOffsetWidth(this.weekGrid.timebar)) % $getDateCellWidth(this.weekGrid);\n    }\n     catch ($e0) {\n      $e0 = toJava($e0);\n      if (!instanceOf($e0, 50))\n        throw toJs($e0);\n    }\n    this.mouseMoveStarted = false;\n    s = this.element_0.style;\n    s['zIndex'] = '1000';\n    this.startDatetimeFrom = new Date_3(fromDouble_0(this.calendarEvent.startTime.jsdate.getTime()));\n    this.startDatetimeTo = new Date_3(fromDouble_0(this.calendarEvent.endTime.jsdate.getTime()));\n    setCapture_0(this.element_0);\n  }\n  this.weekGrid.calendar.eventResizeAllowed && (this.clickTarget == this.topResizeBar || this.clickTarget == this.bottomResizeBar) && (this.clickTarget == this.topResizeBar?$addStyleDependentName(this.weekGrid.calendar, 'nresize'):this.clickTarget == this.bottomResizeBar && $addStyleDependentName(this.weekGrid.calendar, 'sresize'));\n  event_0.nativeEvent.stopPropagation();\n  !!event_0.nativeEvent && (event_0.nativeEvent.preventDefault() , undefined);\n}\n;\n_.onMouseMove = function onMouseMove_3(event_0){\n  var currentX, currentY, dateCellCount, dateCellWidth, dayDiff, dayOffset, dayOffsetPx, daysMs, duration, from, halfHourDiff, moveX, moveY, newEndTime, newStartTime, oldEndTime, oldStartTime, parent_0, range, relativeX, s, startFromMinutes, to;\n  if (this.startY < 0 && this.startX < 0) {\n    return;\n  }\n  if (this.disabled_0) {\n    releaseCapture_0(($clinit_DOM() , this.element_0));\n    this.mouseMoveStarted = false;\n    this.startY = -1;\n    this.startX = -1;\n    $removeStyleDependentName(this.weekGrid.calendar, 'nresize');\n    $removeStyleDependentName(this.weekGrid.calendar, 'sresize');\n    return;\n  }\n  currentY = (event_0.nativeEvent.clientY || 0) | 0;\n  currentX = (event_0.nativeEvent.clientX || 0) | 0;\n  moveY = currentY - this.startY;\n  moveX = currentX - this.startX;\n  if (moveY < 5 && moveY > -6 && moveX < 5 && moveX > -6) {\n    return;\n  }\n  if (!this.mouseMoveStarted) {\n    $setWidth_0(this, this.moveWidth);\n    ($clinit_DOM() , this.element_0).style['marginLeft'] = ($clinit_Style$Unit() , '0.0px');\n    this.mouseMoveStarted = true;\n  }\n  parent_0 = castTo(this.parent_1.getParent(), 457);\n  relativeX = $getRelativeX(event_0, ($clinit_DOM() , parent_0.element_0)) - $getOffsetWidth(this.weekGrid.timebar);\n  moveY > 0?(halfHourDiff = (this.startYrelative + moveY) / this.slotHeight | 0):(halfHourDiff = (moveY - this.startYrelative) / this.slotHeight | 0);\n  dateCellWidth = $getDateCellWidth(this.weekGrid);\n  moveX >= 0?(dayDiff = (this.startXrelative + moveX) / dateCellWidth | 0):(dayDiff = (moveX - (dateCellWidth - this.startXrelative)) / dateCellWidth | 0);\n  dayOffset = relativeX / dateCellWidth | 0;\n  dateCellCount = this.weekGrid.content_0.children_0.size_0 - 1;\n  if (dayOffset >= dateCellCount) {\n    --dayOffset;\n    dayDiff = sub_1(dayDiff, 1);\n  }\n  dayOffsetPx = $calculateDateCellOffsetPx(this, dayOffset) + $getOffsetWidth(this.weekGrid.timebar);\n  if (relativeX < 0 || relativeX >= $getDatesWidth(this)) {\n    return;\n  }\n  s = this.element_0.style;\n  from = this.calendarEvent.startTime;\n  to = this.calendarEvent.endTime;\n  duration = sub_1(fromDouble_0(to.jsdate.getTime()), fromDouble_0(from.jsdate.getTime()));\n  if (!(this.weekGrid.calendar.eventResizeAllowed && (this.clickTarget == this.topResizeBar || this.clickTarget == this.bottomResizeBar)) && this.weekGrid.calendar.eventMoveAllowed) {\n    daysMs = mul_0(dayDiff, $intern_29);\n    from.setTime_0(add_2(fromDouble_0(this.startDatetimeFrom.jsdate.getTime()), daysMs));\n    from.setTime_0(add_2(fromDouble_0(from.jsdate.getTime()), mul_0($intern_228, halfHourDiff)));\n    to.setTime_0(add_2(fromDouble_0(from.jsdate.getTime()), duration));\n    $setStartTime(this.calendarEvent, from);\n    $setEndTime(this.calendarEvent, to);\n    $setStart(this.calendarEvent, new Date_3(fromDouble_0(from.jsdate.getTime())));\n    $setEnd(this.calendarEvent, new Date_3(fromDouble_0(to.jsdate.getTime())));\n    startFromMinutes = from.jsdate.getHours() * 60 + from.jsdate.getMinutes();\n    range = $getRangeInMinutes(this.calendarEvent);\n    startFromMinutes = $calculateStartFromMinute(this, startFromMinutes, from, to, dayOffsetPx);\n    compare_1(startFromMinutes, 0) < 0 && (range = add_2(range, startFromMinutes));\n    $updatePosition_0(this, startFromMinutes, range);\n    s['left'] = dayOffsetPx + ($clinit_Style$Unit() , 'px');\n    this.weekGrid.cellWidths != null?(s['width'] = this.weekGrid.cellWidths[dayOffset] + 'px' , undefined):$setWidth_0(this, this.moveWidth);\n  }\n   else if (this.clickTarget == this.topResizeBar) {\n    oldStartTime = fromDouble_0(this.startDatetimeFrom.jsdate.getTime());\n    newStartTime = add_2(oldStartTime, mul_0($intern_228, halfHourDiff));\n    $isTimeRangeTooSmall(newStartTime, fromDouble_0(this.startDatetimeTo.jsdate.getTime())) || (newStartTime = sub_1(fromDouble_0(this.startDatetimeTo.jsdate.getTime()), $intern_228));\n    from.setTime_0(newStartTime);\n    $setStartTime(this.calendarEvent, from);\n    $setStart(this.calendarEvent, new Date_3(fromDouble_0(from.jsdate.getTime())));\n    startFromMinutes = from.jsdate.getHours() * 60 + from.jsdate.getMinutes();\n    range = $getRangeInMinutes(this.calendarEvent);\n    $updatePosition_0(this, startFromMinutes, range);\n  }\n   else if (this.clickTarget == this.bottomResizeBar) {\n    oldEndTime = fromDouble_0(this.startDatetimeTo.jsdate.getTime());\n    newEndTime = add_2(oldEndTime, mul_0($intern_228, halfHourDiff));\n    $isTimeRangeTooSmall(fromDouble_0(this.startDatetimeFrom.jsdate.getTime()), newEndTime) || (newEndTime = add_2(fromDouble_0(this.startDatetimeFrom.jsdate.getTime()), $intern_228));\n    to.setTime_0(newEndTime);\n    $setEndTime(this.calendarEvent, to);\n    $setEnd(this.calendarEvent, new Date_3(fromDouble_0(to.jsdate.getTime())));\n    startFromMinutes = this.startDatetimeFrom.jsdate.getHours() * 60 + this.startDatetimeFrom.jsdate.getMinutes();\n    range = $getRangeInMinutes(this.calendarEvent);\n    startFromMinutes = $calculateStartFromMinute(this, startFromMinutes, from, to, dayOffsetPx);\n    compare_1(startFromMinutes, 0) < 0 && (range = add_2(range, startFromMinutes));\n    $updatePosition_0(this, startFromMinutes, range);\n  }\n}\n;\n_.onMouseUp = function onMouseUp_8(event_0){\n  var e, endX, endY, et, mouseMoved, s, xDiff, yDiff;\n  if (this.mouseMoveCanceled || $eventGetButton(event_0.nativeEvent) != 1) {\n    return;\n  }\n  releaseCapture_0(($clinit_DOM() , this.element_0));\n  $clinit_FocusImpl();\n  $blur(this.element_0);\n  if (this.moveRegistration) {\n    $removeHandler_0(this.moveRegistration.real);\n    this.moveRegistration = null;\n  }\n  endX = (event_0.nativeEvent.clientX || 0) | 0;\n  endY = (event_0.nativeEvent.clientY || 0) | 0;\n  xDiff = 0;\n  yDiff = 0;\n  if (this.startX != -1 && this.startY != -1) {\n    xDiff = this.startX - endX;\n    yDiff = this.startY - endY;\n  }\n  this.startX = -1;\n  this.startY = -1;\n  this.mouseMoveStarted = false;\n  s = this.element_0.style;\n  s['zIndex'] = '1';\n  if (this.weekGrid.calendar.eventResizeAllowed && (this.clickTarget == this.topResizeBar || this.clickTarget == this.bottomResizeBar)) {\n    $removeStyleDependentName(this.weekGrid.calendar, 'nresize');\n    $removeStyleDependentName(this.weekGrid.calendar, 'sresize');\n    !!this.weekGrid.calendar.eventResizeListener && $eventResized(this.weekGrid.calendar.eventResizeListener, this.calendarEvent);\n    $recalculateEventWidths(this.dateCell);\n  }\n   else {\n    mouseMoved = xDiff < -3 || xDiff > 3 || yDiff < -3 || yDiff > 3;\n    if (!$isDisabledOrReadOnly(this.weekGrid.calendar) && mouseMoved) {\n      $eventMoved_1(this.weekGrid, this);\n    }\n     else if (!this.weekGrid.calendar.disabled_0) {\n      et = $eventGetTarget(event_0.nativeEvent);\n      e = et;\n      (e == this.caption_0 || e == this.eventContent || $getParentElement(e) == this.caption_0) && !!this.weekGrid.calendar.eventClickListener && $eventClick_0(this.weekGrid.calendar.eventClickListener, this.calendarEvent);\n    }\n  }\n}\n;\n_.disabled_0 = false;\n_.mouseMoveCanceled = false;\n_.mouseMoveStarted = false;\n_.slotHeight = 0;\n_.startX = 0;\n_.startXrelative = 0;\n_.startY = 0;\n_.startYrelative = 0;\n_.top_0 = 0;\nvar Lcom_vaadin_v7_client_ui_calendar_schedule_DateCellDayEvent_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar.schedule', 'DateCellDayEvent', 334, Lcom_vaadin_v7_client_ui_calendar_schedule_FocusableHTML_2_classLit);\nfunction $add_18(this$static, index_0){\n  $add_22(this$static.items_0, index_0);\n}\n\nfunction $setDateRange(this$static, range){\n  this$static.range = range;\n}\n\nfunction DateCellGroup(index_0){\n  this.items_0 = new ArrayList;\n  $add_22(this.items_0, index_0);\n}\n\ndefineClass(800, 1, {800:1}, DateCellGroup);\nvar Lcom_vaadin_v7_client_ui_calendar_schedule_DateCellGroup_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar.schedule', 'DateCellGroup', 800, Ljava_lang_Object_2_classLit);\nfunction formatClientSideDate(date){\n  var dateformat_date;\n  dateformat_date = ($clinit_DateTimeFormat_0() , getFormat_0('yyyy-MM-dd', $getDateTimeFormatInfo(($clinit_LocaleInfo() , $clinit_LocaleInfo() , instance_1))));\n  return $format(dateformat_date, date, null);\n}\n\nfunction formatClientSideTime(date){\n  var dateformat_date;\n  dateformat_date = ($clinit_DateTimeFormat_0() , getFormat_0('HH-mm', $getDateTimeFormatInfo(($clinit_LocaleInfo() , $clinit_LocaleInfo() , instance_1))));\n  return $format(dateformat_date, date, null);\n}\n\nfunction $add_19(this$static, dayName, date, localized_date_format, extraClass){\n  var l;\n  l = new Label_1(dayName + ' ' + localized_date_format);\n  setStylePrimaryName(($clinit_DOM() , l.element_0), 'v-calendar-header-day');\n  extraClass != null && $setStyleName_0(l, getStylePrimaryName(l.element_0) + '-' + extraClass, true);\n  this$static.verticalSized && $setStyleName_0(l, getStylePrimaryName(l.element_0) + '-' + 'Vsized', true);\n  this$static.horizontalSized && $setStyleName_0(l, getStylePrimaryName(l.element_0) + '-' + 'Hsized', true);\n  $addDomHandler(l, new DayToolbar$1(this$static, date), ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));\n  $add_7(this$static, l);\n}\n\nfunction $addBackButton(this$static){\n  this$static.calendar.backwardNavigationEnabled || ($getElement(this$static.nextLabel).style['height'] = ($clinit_Style$Unit() , '0.0px') , undefined);\n  $add_7(this$static, this$static.backLabel);\n}\n\nfunction $addNextButton(this$static){\n  this$static.calendar.forwardNavigationEnabled || ($getElement(this$static.backLabel).style['height'] = ($clinit_Style$Unit() , '0.0px') , undefined);\n  $add_7(this$static, this$static.nextLabel);\n}\n\nfunction $setHorizontalSized_0(this$static, sized){\n  this$static.horizontalSized = sized;\n  $updateDayLabelSizedStyleNames(this$static);\n}\n\nfunction $setVerticalSized_0(this$static){\n  this$static.verticalSized = false;\n  $updateDayLabelSizedStyleNames(this$static);\n}\n\nfunction $setWidthPX_0(this$static, width_0){\n  this$static.width_0 = width_0 - 50 - 20;\n  if (this$static.children_0.size_0 == 0) {\n    return;\n  }\n  $updateCellWidths(this$static);\n}\n\nfunction $updateCellWidths(this$static){\n  var cellWidths, cellw, count, i_0, widget;\n  count = this$static.children_0.size_0;\n  if (count > 0) {\n    $setCellWidth(this$static, this$static.backLabel, '50px');\n    $setCellWidth(this$static, this$static.nextLabel, '20px');\n    $setCellHorizontalAlignment_0(this$static, this$static.nextLabel, ($clinit_HasHorizontalAlignment() , ALIGN_RIGHT));\n    cellw = this$static.width_0 / (count - 2) | 0;\n    if (cellw > 0) {\n      cellWidths = distributeSize(this$static.width_0, count - 2, 0);\n      for (i_0 = 1; i_0 < count - 1; i_0++) {\n        widget = $get_3(this$static.children_0, i_0);\n        $setCellWidth(this$static, widget, cellWidths[i_0 - 1] + 'px');\n        widget.setWidth(cellWidths[i_0 - 1] + 'px');\n      }\n    }\n  }\n}\n\nfunction $updateDayLabelSizedStyleNames(this$static){\n  var it;\n  it = new WidgetCollection$WidgetIterator(this$static.children_0);\n  while (it.index_0 < it.this$01.size_0) {\n    $updateWidgetSizedStyleName(this$static, $next_1(it));\n  }\n}\n\nfunction $updateWidgetSizedStyleName(this$static, w){\n  this$static.verticalSized?w.addStyleDependentName('Vsized'):$setStyleName_0(w, getStylePrimaryName(w.getStyleElement()) + '-' + 'VSized', false);\n  this$static.horizontalSized?w.addStyleDependentName('Hsized'):$setStyleName_0(w, getStylePrimaryName(w.getStyleElement()) + '-' + 'HSized', false);\n}\n\nfunction DayToolbar(vcalendar){\n  HorizontalPanel.call(this);\n  this.width_0 = 0;\n  this.calendar = vcalendar;\n  setStylePrimaryName(($clinit_DOM() , this.element_0), 'v-calendar-header-week');\n  this.backLabel = new Button;\n  $setStylePrimaryName(this.backLabel, 'v-calendar-back');\n  this.nextLabel = new Button;\n  $addDomHandler(this.nextLabel, this, ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));\n  $setStylePrimaryName(this.nextLabel, 'v-calendar-next');\n  $addDomHandler(this.backLabel, this, (null , TYPE_1));\n  this.table['border'] = '0';\n  this.table['cellSpacing'] = 0;\n}\n\ndefineClass(3189, 457, {46:1, 16:1, 8:1, 13:1, 14:1, 12:1, 35:1, 38:1, 457:1, 17:1, 36:1, 11:1, 10:1, 24:1}, DayToolbar);\n_.onClick = function onClick_77(event_0){\n  this.calendar.disabled_0 || (maskUndefined(event_0.source_0) === maskUndefined(this.nextLabel)?!!this.calendar.forwardListener && $forward(this.calendar.forwardListener):maskUndefined(event_0.source_0) === maskUndefined(this.backLabel) && !!this.calendar.backwardListener && $backward(this.calendar.backwardListener));\n}\n;\n_.horizontalSized = false;\n_.verticalSized = false;\n_.width_0 = 0;\nvar Lcom_vaadin_v7_client_ui_calendar_schedule_DayToolbar_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar.schedule', 'DayToolbar', 3189, Lcom_google_gwt_user_client_ui_HorizontalPanel_2_classLit);\nfunction DayToolbar$1(this$0, val$date){\n  this.this$01 = this$0;\n  this.val$date2 = val$date;\n}\n\ndefineClass(3190, 1, $intern_63, DayToolbar$1);\n_.onClick = function onClick_78(event_0){\n  !!this.this$01.calendar.dateClickListener && $dateClick_0(this.this$01.calendar.dateClickListener, this.val$date2);\n}\n;\nvar Lcom_vaadin_v7_client_ui_calendar_schedule_DayToolbar$1_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar.schedule', 'DayToolbar/1', 3190, Ljava_lang_Object_2_classLit);\ndefineClass(3274, 911, {63:1, 78:1, 57:1, 56:1, 64:1, 65:1, 67:1, 66:1, 68:1, 69:1, 70:1, 79:1, 85:1, 104:1, 16:1, 13:1, 14:1, 12:1, 35:1, 38:1, 17:1, 36:1, 11:1, 10:1, 71:1, 24:1});\n_.addBlurHandler = function addBlurHandler_10(handler){\n  return $addDomHandler(this, handler, ($clinit_BlurEvent() , $clinit_BlurEvent() , TYPE));\n}\n;\n_.addFocusHandler = function addFocusHandler_10(handler){\n  return $addDomHandler(this, handler, ($clinit_FocusEvent() , $clinit_FocusEvent() , TYPE_4));\n}\n;\n_.focus_0 = function focus_35(){\n  $clinit_FocusImpl();\n  $focus_0(($clinit_DOM() , this.element_0));\n}\n;\nvar Lcom_vaadin_v7_client_ui_calendar_schedule_FocusableGrid_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar.schedule', 'FocusableGrid', 3274, Lcom_google_gwt_user_client_ui_Grid_2_classLit);\nfunction $renderCaption(this$static){\n  var html, textOrHtml;\n  html = new StringBuilder;\n  this$static.calendar.eventCaptionAsHtml?(textOrHtml = this$static.caption_0):(textOrHtml = escapeHTML(this$static.caption_0));\n  if (this$static.caption_0 != null && !!this$static.time) {\n    html.string += '<span class=\"v-calendar-event-time\">';\n    $append_5(html, $format($getTimeFormat(this$static.calendar), this$static.time, null));\n    html.string += '<\\/span> ';\n    html.string += '' + textOrHtml;\n  }\n   else if (this$static.caption_0 != null) {\n    html.string += '' + textOrHtml;\n  }\n   else if (this$static.time) {\n    html.string += '<span class=\"v-calendar-event-time\">';\n    $append_5(html, $format($getTimeFormat(this$static.calendar), this$static.time, null));\n    html.string += '<\\/span>';\n  }\n  $setHTML_2(this$static, html.string);\n}\n\nfunction $setCalendar_0(this$static, calendar){\n  this$static.calendar = calendar;\n}\n\nfunction $setCaption_9(this$static, caption){\n  this$static.caption_0 = caption;\n  $renderCaption(this$static);\n}\n\nfunction $setEventIndex(this$static, index_0){\n  this$static.eventIndex = valueOf_86(index_0);\n}\n\nfunction MonthEventLabel(){\n  HTML.call(this);\n  this.timeSpecificEvent = false;\n  setStylePrimaryName(($clinit_DOM() , this.element_0), 'v-calendar-event');\n  $addDomHandler(this, new MonthEventLabel$1(this), ($clinit_ContextMenuEvent() , $clinit_ContextMenuEvent() , TYPE_2));\n}\n\ndefineClass(416, 106, {63:1, 89:1, 93:1, 99:1, 57:1, 56:1, 64:1, 65:1, 67:1, 66:1, 68:1, 69:1, 70:1, 91:1, 92:1, 90:1, 83:1, 97:1, 95:1, 96:1, 94:1, 98:1, 103:1, 102:1, 101:1, 100:1, 16:1, 13:1, 157:1, 14:1, 144:1, 112:1, 12:1, 17:1, 126:1, 87:1, 88:1, 11:1, 10:1, 812:1, 416:1}, MonthEventLabel);\n_.getTooltipKey = function getTooltipKey_0(){\n  return this.eventIndex;\n}\n;\n_.setHTML = function setHTML_10(html){\n  throw toJs(new UnsupportedOperationException_0('Use setCaption() and setTime() instead'));\n}\n;\n_.timeSpecificEvent = false;\nvar Lcom_vaadin_v7_client_ui_calendar_schedule_MonthEventLabel_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar.schedule', 'MonthEventLabel', 416, Lcom_google_gwt_user_client_ui_HTML_2_classLit);\nfunction MonthEventLabel$1(this$0){\n  this.this$01 = this$0;\n}\n\ndefineClass(3326, 1, $intern_123, MonthEventLabel$1);\n_.onContextMenu = function onContextMenu_5(event_0){\n  $contextMenu(this.this$01.calendar.mouseEventListener, event_0, this.this$01);\n  event_0.nativeEvent.stopPropagation();\n  !!event_0.nativeEvent && (event_0.nativeEvent.preventDefault() , undefined);\n}\n;\nvar Lcom_vaadin_v7_client_ui_calendar_schedule_MonthEventLabel$1_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar.schedule', 'MonthEventLabel/1', 3326, Ljava_lang_Object_2_classLit);\nfunction $cancelRangeSelection(this$static){\n  var cell, row, sdc;\n  if (!!this$static.selectionStart_0 && !!this$static.selectionEnd) {\n    for (row = 0; row < this$static.numRows; row++) {\n      for (cell = 0; cell < this$static.numColumns; cell++) {\n        sdc = ($checkCellBounds(this$static, row, cell) , castTo($getWidgetImpl(this$static, row, cell), 317));\n        if (!sdc) {\n          return;\n        }\n        $setStyleName_0(sdc, getStylePrimaryName(($clinit_DOM() , sdc.element_0)) + '-' + 'selected', false);\n      }\n    }\n  }\n  $clinit_FocusImpl();\n  $blur(($clinit_DOM() , this$static.element_0));\n  this$static.selectionStart_0 = null;\n}\n\nfunction $getDayCellIndex(this$static, dayCell){\n  var cells_0, i_0, j, rows_0, sdc;\n  rows_0 = this$static.numRows;\n  cells_0 = this$static.numColumns;\n  for (i_0 = 0; i_0 < rows_0; i_0++) {\n    for (j = 0; j < cells_0; j++) {\n      sdc = ($checkCellBounds(this$static, i_0, j) , castTo($getWidgetImpl(this$static, i_0, j), 317));\n      if (dayCell == sdc) {\n        return i_0 * cells_0 + j;\n      }\n    }\n  }\n  return -1;\n}\n\nfunction $setEnabled_12(this$static, enabled){\n  this$static.enabled = enabled;\n}\n\nfunction $setSelectionEnd(this$static, simpleDayCell){\n  this$static.selectionEnd = simpleDayCell;\n  $updateSelection_0(this$static);\n}\n\nfunction $setSelectionReady(this$static){\n  var endDate, startDate, temp, value_0;\n  if (!!this$static.selectionStart_0 && !!this$static.selectionEnd) {\n    startDate = this$static.selectionStart_0.date;\n    endDate = this$static.selectionEnd.date;\n    if (compare_8(fromDouble_0(startDate.jsdate.getTime()), fromDouble_0(endDate.jsdate.getTime())) > 0) {\n      temp = startDate;\n      startDate = endDate;\n      endDate = temp;\n    }\n    if (this$static.calendar.rangeSelectListener) {\n      value_0 = $format(this$static.calendar.dateformat_date, startDate, null) + 'TO' + $format(this$static.calendar.dateformat_date, endDate, null);\n      $rangeSelected(this$static.calendar.rangeSelectListener, value_0);\n    }\n    this$static.selectionStart_0 = null;\n    this$static.selectionEnd = null;\n    $clinit_FocusImpl();\n    $blur(($clinit_DOM() , this$static.element_0));\n  }\n}\n\nfunction $setSelectionStart(this$static, simpleDayCell){\n  if (!this$static.rangeSelectDisabled && this$static.enabled) {\n    this$static.selectionStart_0 = simpleDayCell;\n    $clinit_FocusImpl();\n    $focus_0(($clinit_DOM() , this$static.element_0));\n  }\n}\n\nfunction $updateCellSizes(this$static, totalWidthPX, totalHeightPX){\n  var cellHeight, cellWidth, cells_0, heightRemainder, i_0, j, rows_0, sdc, setHeight, setWidth, widthRemainder;\n  setHeight = totalHeightPX > 0;\n  setWidth = totalWidthPX > 0;\n  rows_0 = this$static.numRows;\n  cells_0 = this$static.numColumns;\n  cellWidth = (totalWidthPX / cells_0 | 0) - 1;\n  widthRemainder = totalWidthPX % cells_0;\n  cellHeight = totalHeightPX / rows_0 | 0;\n  heightRemainder = totalHeightPX % rows_0;\n  for (i_0 = 0; i_0 < rows_0; i_0++) {\n    for (j = 0; j < cells_0; j++) {\n      sdc = ($checkCellBounds(this$static, i_0, j) , castTo($getWidgetImpl(this$static, i_0, j), 317));\n      if (setWidth) {\n        if (widthRemainder > 0) {\n          ($clinit_DOM() , sdc.element_0).style['width'] = cellWidth + 1 + 'px';\n          --widthRemainder;\n        }\n         else {\n          ($clinit_DOM() , sdc.element_0).style['width'] = cellWidth + 'px';\n        }\n      }\n      setHeight?heightRemainder > 0?$setHeightPX_0(sdc, cellHeight + 1, true):$setHeightPX_0(sdc, cellHeight, true):$setHeightPX_0(sdc, -1, true);\n    }\n    --heightRemainder;\n  }\n}\n\nfunction $updateSelection_0(this$static){\n  var cell, d, endDate, row, sdc, startDate;\n  if (!this$static.selectionStart_0) {\n    return;\n  }\n  if (!!this$static.selectionStart_0 && !!this$static.selectionEnd) {\n    startDate = this$static.selectionStart_0.date;\n    endDate = this$static.selectionEnd.date;\n    for (row = 0; row < this$static.numRows; row++) {\n      for (cell = 0; cell < this$static.numColumns; cell++) {\n        sdc = ($checkCellBounds(this$static, row, cell) , castTo($getWidgetImpl(this$static, row, cell), 317));\n        if (!sdc) {\n          return;\n        }\n        d = sdc.date;\n        compare_8(fromDouble_0(startDate.jsdate.getTime()), fromDouble_0(d.jsdate.getTime())) <= 0 && compare_8(fromDouble_0(endDate.jsdate.getTime()), fromDouble_0(d.jsdate.getTime())) >= 0?$setStyleName_0(sdc, getStylePrimaryName(($clinit_DOM() , sdc.element_0)) + '-' + 'selected', true):compare_8(fromDouble_0(startDate.jsdate.getTime()), fromDouble_0(d.jsdate.getTime())) >= 0 && compare_8(fromDouble_0(endDate.jsdate.getTime()), fromDouble_0(d.jsdate.getTime())) <= 0?$setStyleName_0(sdc, getStylePrimaryName(($clinit_DOM() , sdc.element_0)) + '-' + 'selected', true):$setStyleName_0(sdc, getStylePrimaryName(($clinit_DOM() , sdc.element_0)) + '-' + 'selected', false);\n      }\n    }\n  }\n}\n\nfunction MonthGrid(parent_0, rows_0, columns){\n  Grid.call(this, rows_0, columns);\n  ($clinit_DOM() , this.element_0).tabIndex = 0;\n  this.enabled = true;\n  this.calendar = parent_0;\n  this.tableElem['cellSpacing'] = 0;\n  this.tableElem['cellPadding'] = 0;\n  setStylePrimaryName(this.element_0, 'v-calendar-month');\n  this.keyDownHandler = $addDomHandler(this, this, ($clinit_KeyDownEvent() , $clinit_KeyDownEvent() , TYPE_5));\n}\n\ndefineClass(3275, 3274, {63:1, 78:1, 57:1, 56:1, 64:1, 65:1, 67:1, 66:1, 68:1, 69:1, 70:1, 79:1, 85:1, 104:1, 139:1, 16:1, 8:1, 13:1, 14:1, 12:1, 35:1, 38:1, 17:1, 36:1, 11:1, 10:1, 71:1, 24:1}, MonthGrid);\n_.onKeyDown = function onKeyDown_28(event_0){\n  var keycode;\n  keycode = event_0.nativeEvent.keyCode | 0;\n  27 == keycode && !!this.selectionStart_0 && $cancelRangeSelection(this);\n}\n;\n_.onUnload = function onUnload_6(){\n  $removeHandler_0(this.keyDownHandler.real);\n}\n;\n_.enabled = false;\n_.rangeSelectDisabled = false;\nvar Lcom_vaadin_v7_client_ui_calendar_schedule_MonthGrid_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar.schedule', 'MonthGrid', 3275, Lcom_vaadin_v7_client_ui_calendar_schedule_FocusableGrid_2_classLit);\nfunction $addCalendarEvent(this$static, e){\n  var i_0, slot;\n  ++this$static.eventCount;\n  slot = e.slotIndex;\n  if (slot == -1) {\n    for (i_0 = 0; i_0 < this$static.events.length; i_0++) {\n      if (!this$static.events[i_0]) {\n        this$static.events[i_0] = e;\n        e.slotIndex = i_0;\n        break;\n      }\n    }\n  }\n   else {\n    this$static.events[slot] = e;\n  }\n}\n\nfunction $cancelEventDrag(this$static, w){\n  var index_0;\n  if (this$static.moveRegistration) {\n    !this$static.moveEvent && (this$static.moveEvent = (index_0 = $indexOf(this$static.children_0, w) , this$static.events[index_0 - 1]));\n    $setStart(this$static.moveEvent, this$static.dndSourceDateFrom);\n    $setEnd(this$static.moveEvent, this$static.dndSourceDateTo);\n    $setStartTime(this$static.moveEvent, this$static.dndSourceStartDateTime);\n    $setEndTime(this$static.moveEvent, this$static.dndSourceEndDateTime);\n    $updateEventToMonthGrid(this$static.calendar, this$static.moveEvent);\n    releaseCapture_0(($clinit_DOM() , this$static.element_0));\n    $removeHandler_0(this$static.moveRegistration.real);\n    this$static.moveRegistration = null;\n    $removeHandler_0(this$static.keyDownHandler.real);\n    this$static.keyDownHandler = null;\n    $clinit_FocusImpl();\n    $blur(this$static.element_0);\n    this$static.monthEventMouseDown = false;\n    this$static.startY = -1;\n    this$static.startX = -1;\n    this$static.moveEvent = null;\n    this$static.labelMouseDown = false;\n    this$static.clickedWidget = null;\n  }\n}\n\nfunction $createMonthEventLabel(this$static, e){\n  var eventDiv, from, fromCompareToDate, fromDatetime, rangeInMillis, timeEvent, to, toCompareToDate;\n  rangeInMillis = sub_1(fromDouble_0(e.endTime.jsdate.getTime()), fromDouble_0(e.startTime.jsdate.getTime()));\n  timeEvent = compare_1(rangeInMillis, $intern_29) <= 0 && !e.allDay;\n  fromDatetime = e.startTime;\n  eventDiv = new MonthEventLabel;\n  $setStyleName_0(eventDiv, getStylePrimaryName(($clinit_DOM() , eventDiv.element_0)) + '-' + 'month', true);\n  $addDomHandler(eventDiv, this$static, ($clinit_MouseDownEvent() , $clinit_MouseDownEvent() , TYPE_9));\n  $addDomHandler(eventDiv, this$static, ($clinit_MouseUpEvent() , $clinit_MouseUpEvent() , TYPE_13));\n  $setCalendar_0(eventDiv, this$static.calendar);\n  $setEventIndex(eventDiv, e.index_0);\n  eventDiv.calendarEvent = e;\n  if (timeEvent) {\n    eventDiv.timeSpecificEvent = true;\n    e.styleName != null && $addStyleDependentName(eventDiv, e.styleName);\n    $setCaption_9(eventDiv, e.caption_0);\n    eventDiv.time = fromDatetime;\n    $renderCaption(eventDiv);\n  }\n   else {\n    eventDiv.timeSpecificEvent = false;\n    from = e.start_0;\n    to = e.end;\n    e.styleName.length > 0?$addStyleName(eventDiv, 'month-event ' + e.styleName):setStyleName(eventDiv.element_0, 'month-event', true);\n    fromCompareToDate = $compareTo_0(from, this$static.date);\n    toCompareToDate = $compareTo_0(to, this$static.date);\n    $setStyleName_0(eventDiv, getStylePrimaryName(eventDiv.element_0) + '-' + 'all-day', true);\n    if (fromCompareToDate == 0) {\n      $setStyleName_0(eventDiv, getStylePrimaryName(eventDiv.element_0) + '-' + 'start', true);\n      $setCaption_9(eventDiv, e.caption_0);\n    }\n     else if (fromCompareToDate < 0 && this$static.cell == 0) {\n      $setStyleName_0(eventDiv, getStylePrimaryName(eventDiv.element_0) + '-' + 'continued-from', true);\n      $setCaption_9(eventDiv, e.caption_0);\n    }\n    toCompareToDate == 0?$setStyleName_0(eventDiv, getStylePrimaryName(eventDiv.element_0) + '-' + 'end', true):toCompareToDate > 0 && this$static.cell + 1 == this$static.monthGrid.numColumns && $setStyleName_0(eventDiv, getStylePrimaryName(eventDiv.element_0) + '-' + 'continued-to', true);\n    e.styleName != null && $addStyleDependentName(eventDiv, e.styleName + '-all-day');\n  }\n  return eventDiv;\n}\n\nfunction $eventMoved_0(this$static, e){\n  $updateEventToMonthGrid(this$static.calendar, e);\n  !!this$static.calendar.eventMovedListener && $eventMoved(this$static.calendar.eventMovedListener, e);\n}\n\nfunction $reDraw(this$static, clear_0){\n  $setHeightPX_0(this$static, this$static.intHeight + 1, clear_0);\n}\n\nfunction $removeEvent(this$static, targetEvent){\n  var e, slot;\n  slot = targetEvent.slotIndex;\n  if (slot < 0) {\n    return false;\n  }\n  e = this$static.events[slot];\n  if (equals_Ljava_lang_Object__Z__devirtual$(targetEvent, e)) {\n    this$static.events[slot] = null;\n    --this$static.eventCount;\n    $reDraw(this$static, !this$static.moveEvent);\n    return true;\n  }\n  return false;\n}\n\nfunction $setDates(this$static, e, start_0, end, shift_0, isDateTime){\n  var currentEnd, currentStart, duration;\n  if (isDateTime) {\n    currentStart = e.startTime;\n    currentEnd = e.endTime;\n  }\n   else {\n    currentStart = e.start_0;\n    currentEnd = e.end;\n  }\n  duration = sub_1(fromDouble_0(currentEnd.jsdate.getTime()), fromDouble_0(currentStart.jsdate.getTime()));\n  isDateTime?start_0.setTime_0(add_2(fromDouble_0(this$static.dndSourceStartDateTime.jsdate.getTime()), shift_0)):start_0.setTime_0(add_2(fromDouble_0(this$static.dndSourceDateFrom.jsdate.getTime()), shift_0));\n  end.setTime_0(add_2(fromDouble_0(start_0.jsdate.getTime()), duration));\n}\n\nfunction $setHeightPX_0(this$static, px, clear_0){\n  var i_0, slots;\n  px < 0?(this$static.intHeight = $getPropertyInt(($clinit_DOM() , this$static.element_0), 'offsetHeight') - 1):(this$static.intHeight = px - 1);\n  if (this$static.intHeight == -1) {\n    return;\n  }\n  if (clear_0) {\n    while (this$static.children_0.size_0 > 1) {\n      $remove_2(this$static, $get_3(this$static.children_0, 1));\n    }\n  }\n  slots = 0;\n  if (this$static.scrollable) {\n    for (i_0 = 0; i_0 < this$static.events.length; i_0++) {\n      !!this$static.events[i_0] && (slots = i_0 + 1);\n    }\n    $setHeight_0(this$static, this$static.intHeight + 'px');\n  }\n   else {\n    $clinit_DOM();\n    this$static.element_0.removeAttribute('height');\n    slots = (this$static.intHeight - $getOffsetHeight(this$static.caption_0) - BOTTOMSPACERHEIGHT) / EVENTHEIGHT | 0;\n    slots > 10 && (slots = 10);\n  }\n  $updateEvents(this$static, slots, clear_0);\n}\n\nfunction $setMonthGrid(this$static, monthGrid){\n  this$static.monthGrid = monthGrid;\n}\n\nfunction $startCalendarEventDrag(this$static, event_0, w){\n  var e, index_0;\n  this$static.moveRegistration = $addDomHandler(this$static, this$static, ($clinit_MouseMoveEvent() , $clinit_MouseMoveEvent() , TYPE_10));\n  this$static.startX = (event_0.nativeEvent.clientX || 0) | 0;\n  this$static.startY = (event_0.nativeEvent.clientY || 0) | 0;\n  this$static.startYrelative = $getRelativeY(event_0, $getElement(w.parent_1)) % (this$static.intHeight + 1);\n  this$static.startXrelative = $getRelativeX(event_0, $getElement(w.parent_1)) % ($getPropertyInt(($clinit_DOM() , this$static.element_0), 'offsetWidth') - 1);\n  e = (index_0 = $indexOf(this$static.children_0, w) , this$static.events[index_0 - 1]);\n  this$static.dndSourceDateFrom = new Date_3(fromDouble_0(e.start_0.jsdate.getTime()));\n  this$static.dndSourceDateTo = new Date_3(fromDouble_0(e.end.jsdate.getTime()));\n  this$static.dndSourceStartDateTime = new Date_3(fromDouble_0(e.startTime.jsdate.getTime()));\n  this$static.dndSourceEndDateTime = new Date_3(fromDouble_0(e.endTime.jsdate.getTime()));\n  setCapture_0(this$static.element_0);\n  this$static.keyDownHandler = $addDomHandler(this$static, new SimpleDayCell$1(this$static, w), ($clinit_KeyDownEvent() , $clinit_KeyDownEvent() , TYPE_5));\n  $clinit_FocusImpl();\n  $focus_0(this$static.element_0);\n}\n\nfunction $updateDragPosition(this$static, w, dayDiff, weekDiff){\n  var index_0;\n  if (dayDiff == this$static.prevDayDiff && weekDiff == this$static.prevWeekDiff) {\n    return;\n  }\n  this$static.prevDayDiff = dayDiff;\n  this$static.prevWeekDiff = weekDiff;\n  !this$static.moveEvent && (this$static.moveEvent = (index_0 = $indexOf(this$static.children_0, w) , this$static.events[index_0 - 1]));\n  $updateEventToMonthGrid(this$static.calendar, this$static.moveEvent);\n}\n\nfunction $updateEvents(this$static, slots, clear_0){\n  var e, eventsAdded, i_0, more, newHeight, remainingSpace, slot, w;\n  eventsAdded = 0;\n  for (i_0 = 0; i_0 < slots; i_0++) {\n    e = this$static.events[i_0];\n    if (!e) {\n      slot = new HTML;\n      ($clinit_DOM() , slot.element_0).className = 'v-calendar-spacer';\n      if (clear_0) {\n        $add_1(this$static, slot, this$static.element_0);\n      }\n       else {\n        $remove_2(this$static, $get_3(this$static.children_0, i_0 + 1));\n        $insert_0(this$static, slot, this$static.element_0, i_0 + 1, true);\n      }\n    }\n     else {\n      ++eventsAdded;\n      if (clear_0) {\n        $add_5(this$static, $createMonthEventLabel(this$static, e));\n      }\n       else {\n        w = $get_3(this$static.children_0, i_0 + 1);\n        if (!instanceOf(w, 416)) {\n          $remove_2(this$static, $get_3(this$static.children_0, i_0 + 1));\n          $insert_1(this$static, $createMonthEventLabel(this$static, e), i_0 + 1);\n        }\n      }\n    }\n  }\n  remainingSpace = this$static.intHeight - (slots * EVENTHEIGHT + BOTTOMSPACERHEIGHT + $getOffsetHeight(this$static.caption_0));\n  newHeight = remainingSpace + BOTTOMSPACERHEIGHT;\n  newHeight < 0 && (newHeight = EVENTHEIGHT);\n  $setHeight_0(this$static.bottomspacer, newHeight + 'px');\n  clear_0 && $add_5(this$static, this$static.bottomspacer);\n  more = this$static.eventCount - eventsAdded;\n  if (more > 0) {\n    !this$static.bottomSpacerMouseDownHandler && (this$static.bottomSpacerMouseDownHandler = $addDomHandler(this$static.bottomspacer, this$static, ($clinit_MouseDownEvent() , $clinit_MouseDownEvent() , TYPE_9)));\n    $setStyleName(this$static.bottomspacer, 'v-calendar-bottom-spacer');\n    $setText_1(this$static.bottomspacer, '+ ' + more);\n  }\n   else {\n    if (!this$static.scrollable && !!this$static.bottomSpacerMouseDownHandler) {\n      $removeHandler_0(this$static.bottomSpacerMouseDownHandler.real);\n      this$static.bottomSpacerMouseDownHandler = null;\n    }\n    if (this$static.scrollable) {\n      $setText_1(this$static.bottomspacer, '[ - ]');\n    }\n     else {\n      $setStyleName(this$static.bottomspacer, 'v-calendar-bottom-spacer-empty');\n      $setText_1(this$static.bottomspacer, '');\n    }\n  }\n}\n\nfunction SimpleDayCell(calendar, row, cell){\n  FocusableFlowPanel.call(this);\n  this.events = initUnidimensionalArray(Lcom_vaadin_v7_client_ui_calendar_schedule_CalendarEvent_2_classLit, $intern_227, 441, 10, 0, 1);\n  this.eventCount = 0;\n  this.startX = -1;\n  this.startY = -1;\n  this.prevDayDiff = 0;\n  this.prevWeekDiff = 0;\n  this.scrollable = false;\n  this.calendar = calendar;\n  this.row = row;\n  this.cell = cell;\n  setStylePrimaryName(($clinit_DOM() , this.element_0), 'v-calendar-month-day');\n  this.caption_0 = new Label;\n  this.bottomspacer = new HTML;\n  $setStyleName(this.bottomspacer, 'v-calendar-bottom-spacer-empty');\n  $setWidth_0(this.bottomspacer, '3em');\n  $setStyleName(this.caption_0, 'v-calendar-day-number');\n  $add_5(this, this.caption_0);\n  $add_5(this, this.bottomspacer);\n  $addDomHandler(this.caption_0, this, ($clinit_MouseDownEvent() , $clinit_MouseDownEvent() , TYPE_9));\n  $addDomHandler(this.caption_0, this, ($clinit_MouseUpEvent() , $clinit_MouseUpEvent() , TYPE_13));\n}\n\ndefineClass(317, 1061, {78:1, 79:1, 85:1, 104:1, 188:1, 708:1, 646:1, 213:1, 16:1, 8:1, 13:1, 14:1, 12:1, 35:1, 38:1, 17:1, 36:1, 11:1, 10:1, 71:1, 317:1, 24:1}, SimpleDayCell);\n_.onAttach = function onAttach_21(){\n  $onAttach(this);\n  this.mouseUpRegistration = $addDomHandler(this, this, ($clinit_MouseUpEvent() , $clinit_MouseUpEvent() , TYPE_13));\n  this.mouseDownRegistration = $addDomHandler(this, this, ($clinit_MouseDownEvent() , $clinit_MouseDownEvent() , TYPE_9));\n  this.mouseOverRegistration = $addDomHandler(this, this, ($clinit_MouseOverEvent() , $clinit_MouseOverEvent() , TYPE_12));\n}\n;\n_.onDetach = function onDetach_32(){\n  $removeHandler_0(this.mouseUpRegistration.real);\n  $removeHandler_0(this.mouseDownRegistration.real);\n  $removeHandler_0(this.mouseOverRegistration.real);\n  $onDetach(this);\n}\n;\n_.onLoad_0 = function onLoad_21(){\n  BOTTOMSPACERHEIGHT = $getOffsetHeight(this.bottomspacer);\n  EVENTHEIGHT = BOTTOMSPACERHEIGHT;\n}\n;\n_.onMouseDown = function onMouseDown_14(event_0){\n  var grid, w;\n  if (this.calendar.disabled_0 || $eventGetButton(event_0.nativeEvent) != 1) {\n    return;\n  }\n  w = castTo(event_0.source_0, 10);\n  this.clickedWidget = w;\n  if (instanceOf(w, 416)) {\n    this.monthEventMouseDown = true;\n    this.calendar.eventMoveAllowed && $startCalendarEventDrag(this, event_0, castTo(w, 416));\n  }\n   else if (w == this.bottomspacer) {\n    this.scrollable?(this.scrollable = false , $setStyleName_0(this, getStylePrimaryName(($clinit_DOM() , this.element_0)) + '-' + 'scrollable', false)):(this.scrollable = true , $setStyleName_0(this, getStylePrimaryName(($clinit_DOM() , this.element_0)) + '-' + 'scrollable', true));\n    $setHeightPX_0(this, this.intHeight + 1, true);\n  }\n   else if (instanceOf(w, 126)) {\n    this.labelMouseDown = true;\n  }\n   else if (w == this && !this.scrollable) {\n    grid = this.monthGrid;\n    if (grid.enabled && this.calendar.rangeSelectAllowed) {\n      $setSelectionStart(grid, this);\n      grid.selectionEnd = this;\n      $updateSelection_0(grid);\n    }\n  }\n  event_0.nativeEvent.stopPropagation();\n  !!event_0.nativeEvent && (event_0.nativeEvent.preventDefault() , undefined);\n}\n;\n_.onMouseMove = function onMouseMove_4(event_0){\n  var currentX, currentY, dateCellHeigth, dateCellWidth, dayDiff, daysMs, e, e0, e1, end, from, index_0, moveX, moveY, parent_0, relativeX, relativeY, start_0, to, w, weekDiff, weeksMs;\n  if (instanceOf(this.clickedWidget, 416) && !this.monthEventMouseDown || this.startY < 0 && this.startX < 0) {\n    return;\n  }\n  w = castTo(this.clickedWidget, 416);\n  if ($isDisabledOrReadOnly(this.calendar)) {\n    releaseCapture_0(($clinit_DOM() , this.element_0));\n    this.monthEventMouseDown = false;\n    this.startY = -1;\n    this.startX = -1;\n    return;\n  }\n  currentY = (event_0.nativeEvent.clientY || 0) | 0;\n  currentX = (event_0.nativeEvent.clientX || 0) | 0;\n  moveY = currentY - this.startY;\n  moveX = currentX - this.startX;\n  if (moveY < 5 && moveY > -6 && moveX < 5 && moveX > -6) {\n    return;\n  }\n  dateCellWidth = $getPropertyInt(($clinit_DOM() , this.element_0), 'offsetWidth') - 1;\n  dateCellHeigth = this.intHeight + 1;\n  parent_0 = $getElement(this.monthGrid);\n  relativeX = (e0 = event_0.nativeEvent , ((e0.clientX || 0) | 0) - $getAbsoluteLeft(parent_0) + $getScrollLeft_0(parent_0) + $getScrollLeft_1(parent_0.ownerDocument));\n  relativeY = (e1 = event_0.nativeEvent , ((e1.clientY || 0) | 0) - $getAbsoluteTop(parent_0) + ((parent_0.scrollTop || 0) | 0) + $getScrollTop_0(parent_0.ownerDocument));\n  moveY > 0?(weekDiff = (this.startYrelative + moveY) / dateCellHeigth | 0):(weekDiff = (moveY - (dateCellHeigth - this.startYrelative)) / dateCellHeigth | 0);\n  moveX >= 0?(dayDiff = (this.startXrelative + moveX) / dateCellWidth | 0):(dayDiff = (moveX - (dateCellWidth - this.startXrelative)) / dateCellWidth | 0);\n  if (relativeY < 0 || relativeY >= this.calendar.monthGrid.numRows * dateCellHeigth || relativeX < 0 || relativeX >= this.calendar.monthGrid.numColumns * dateCellWidth) {\n    return;\n  }\n  e = this.moveEvent;\n  !e && (e = (index_0 = $indexOf(this.children_0, w) , this.events[index_0 - 1]));\n  from = e.start_0;\n  to = e.end;\n  daysMs = mul_0(dayDiff, $intern_29);\n  weeksMs = mul_0(weekDiff, 604800000);\n  $setDates(this, e, from, to, add_2(weeksMs, daysMs), false);\n  e.start_0 = from;\n  e.end = to;\n  if (w.timeSpecificEvent) {\n    start_0 = new Date_0;\n    end = new Date_0;\n    $setDates(this, e, start_0, end, add_2(weeksMs, daysMs), true);\n    e.startTime = start_0;\n    e.endTime = end;\n  }\n   else {\n    $setStartTime(e, new Date_3(fromDouble_0(from.jsdate.getTime())));\n    $setEndTime(e, new Date_3(fromDouble_0(to.jsdate.getTime())));\n  }\n  $updateDragPosition(this, w, dayDiff, weekDiff);\n}\n;\n_.onMouseOver = function onMouseOver_5(event_0){\n  !!event_0.nativeEvent && (event_0.nativeEvent.preventDefault() , undefined);\n  $setSelectionEnd(this.monthGrid, this);\n}\n;\n_.onMouseUp = function onMouseUp_9(event_0){\n  var clickedDate, e, endX, endY, index_0, mel, w, xDiff, yDiff;\n  if ($eventGetButton(event_0.nativeEvent) != 1) {\n    return;\n  }\n  w = castTo(event_0.source_0, 10);\n  if (this.moveRegistration) {\n    releaseCapture_0(($clinit_DOM() , this.element_0));\n    $removeHandler_0(this.moveRegistration.real);\n    this.moveRegistration = null;\n    $removeHandler_0(this.keyDownHandler.real);\n    this.keyDownHandler = null;\n  }\n  if (w == this.bottomspacer && this.monthEventMouseDown)\n  ;\n  else if (instanceOf(this.clickedWidget, 416) && this.monthEventMouseDown) {\n    mel = castTo(this.clickedWidget, 416);\n    endX = (event_0.nativeEvent.clientX || 0) | 0;\n    endY = (event_0.nativeEvent.clientY || 0) | 0;\n    xDiff = 0;\n    yDiff = 0;\n    if (this.startX != -1 && this.startY != -1) {\n      xDiff = this.startX - endX;\n      yDiff = this.startY - endY;\n    }\n    this.startX = -1;\n    this.startY = -1;\n    this.prevDayDiff = 0;\n    this.prevWeekDiff = 0;\n    if (xDiff < -3 || xDiff > 3 || yDiff < -3 || yDiff > 3) {\n      $eventMoved_0(this, this.moveEvent);\n    }\n     else if (this.calendar.eventClickListener) {\n      e = (index_0 = $indexOf(this.children_0, mel) , this.events[index_0 - 1]);\n      $eventClick_0(this.calendar.eventClickListener, e);\n    }\n    this.moveEvent = null;\n  }\n   else if (w == this) {\n    $setSelectionReady(this.monthGrid);\n  }\n   else if (instanceOf(w, 126) && this.labelMouseDown) {\n    clickedDate = $format(this.calendar.dateformat_date, this.date, null);\n    !!this.calendar.dateClickListener && $dateClick_0(this.calendar.dateClickListener, clickedDate);\n  }\n  this.monthEventMouseDown = false;\n  this.labelMouseDown = false;\n  this.clickedWidget = null;\n}\n;\n_.cell = 0;\n_.eventCount = 0;\n_.intHeight = 0;\n_.labelMouseDown = false;\n_.monthEventMouseDown = false;\n_.monthNameVisible = false;\n_.prevDayDiff = 0;\n_.prevWeekDiff = 0;\n_.row = 0;\n_.scrollable = false;\n_.startX = 0;\n_.startXrelative = 0;\n_.startY = 0;\n_.startYrelative = 0;\nvar BOTTOMSPACERHEIGHT = -1, EVENTHEIGHT = -1;\nvar Lcom_vaadin_v7_client_ui_calendar_schedule_SimpleDayCell_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar.schedule', 'SimpleDayCell', 317, Lcom_vaadin_client_ui_FocusableFlowPanel_2_classLit);\nfunction SimpleDayCell$1(this$0, val$w){\n  this.this$01 = this$0;\n  this.val$w2 = val$w;\n}\n\ndefineClass(3296, 1, $intern_141, SimpleDayCell$1);\n_.onKeyDown = function onKeyDown_29(event_0){\n  (event_0.nativeEvent.keyCode | 0) == 27 && $cancelEventDrag(this.this$01, this.val$w2);\n}\n;\nvar Lcom_vaadin_v7_client_ui_calendar_schedule_SimpleDayCell$1_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar.schedule', 'SimpleDayCell/1', 3296, Ljava_lang_Object_2_classLit);\nfunction $setDayNames_0(this$static, dayNames){\n  var i_0, l;\n  $clear_0(this$static);\n  for (i_0 = 0; i_0 < dayNames.length; i_0++) {\n    l = new Label_1(dayNames[i_0]);\n    setStylePrimaryName(($clinit_DOM() , l.element_0), 'v-calendar-header-day');\n    $add_7(this$static, l);\n  }\n  $updateCellWidth(this$static);\n}\n\nfunction $setWidthPX_1(this$static, width_0){\n  this$static.width_0 = width_0;\n  this$static.isWidthUndefined = width_0 == -1;\n  width_0 == -1?$setStyleName_0(this$static, getStylePrimaryName(($clinit_DOM() , this$static.element_0)) + '-' + 'Hsized', true):$setStyleName_0(this$static, getStylePrimaryName(($clinit_DOM() , this$static.element_0)) + '-' + 'Hsized', false);\n  if (!this$static.isWidthUndefined) {\n    $setWidth_0(this$static, this$static.width_0 + 'px');\n    if (this$static.children_0.size_0 == 0) {\n      return;\n    }\n  }\n  $updateCellWidth(this$static);\n}\n\nfunction $updateCellWidth(this$static){\n  var cellw, i_0, td, w, widget, widgetCount;\n  cellw = -1;\n  widgetCount = this$static.children_0.size_0;\n  if (widgetCount <= 0) {\n    return;\n  }\n  if (this$static.isWidthUndefined) {\n    widget = $get_3(this$static.children_0, 0);\n    w = ($clinit_DOM() , widget.element_0).style['width'];\n    w.length > 2 && (cellw = __parseAndValidateInt($substring_1(w, 0, w.length - 2), 10));\n  }\n   else {\n    cellw = this$static.width_0 / this$static.children_0.size_0 | 0;\n  }\n  if (cellw > 0) {\n    for (i_0 = 0; i_0 < this$static.children_0.size_0; i_0++) {\n      widget = $get_3(this$static.children_0, i_0);\n      td = $getWidgetTd(this$static, widget);\n      !!td && (td['width'] = cellw + 'px' , undefined);\n    }\n  }\n}\n\nfunction SimpleDayToolbar(){\n  HorizontalPanel.call(this);\n  this.width_0 = 0;\n  this.isWidthUndefined = false;\n  setStylePrimaryName(($clinit_DOM() , this.element_0), 'v-calendar-header-month');\n}\n\ndefineClass(3188, 457, $intern_226, SimpleDayToolbar);\n_.isWidthUndefined = false;\n_.width_0 = 0;\nvar Lcom_vaadin_v7_client_ui_calendar_schedule_SimpleDayToolbar_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar.schedule', 'SimpleDayToolbar', 3188, Lcom_google_gwt_user_client_ui_HorizontalPanel_2_classLit);\nfunction $addWeek(this$static, week, year){\n  var l, rowCount;\n  l = new WeekLabel(week + '', week, year);\n  $addDomHandler(l, this$static, ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));\n  rowCount = $getDOMRowCount(this$static.bodyElem);\n  $insertRow(this$static, rowCount);\n  $setWidget(this$static, rowCount, 0, l);\n  $updateCellHeights(this$static);\n}\n\nfunction $setHeightPX_1(this$static, intHeight){\n  this$static.isHeightUndefined = intHeight == -1;\n  intHeight == -1?$setStyleName_0(this$static, getStylePrimaryName(($clinit_DOM() , this$static.element_0)) + '-' + 'Vsized', true):$setStyleName_0(this$static, getStylePrimaryName(($clinit_DOM() , this$static.element_0)) + '-' + 'Vsized', false);\n  this$static.height_0 = intHeight;\n  $updateCellHeights(this$static);\n}\n\nfunction $updateCellHeights(this$static){\n  var cellheight, i_0, remainder, rowCount;\n  if (this$static.isHeightUndefined) {\n    for (i_0 = 0; i_0 < $getDOMRowCount(this$static.bodyElem); i_0++) {\n      ($checkCellBounds(this$static, i_0, 0) , $getWidgetImpl(this$static, i_0, 0)).setHeight('');\n      $getElement(($checkCellBounds(this$static, i_0, 0) , $getWidgetImpl(this$static, i_0, 0))).style['lineHeight'] = '';\n    }\n  }\n   else {\n    rowCount = $getDOMRowCount(this$static.bodyElem);\n    if (rowCount == 0) {\n      return;\n    }\n    cellheight = (this$static.height_0 / rowCount | 0) - 1;\n    remainder = this$static.height_0 % rowCount;\n    cellheight < 0 && (cellheight = 0);\n    for (i_0 = 0; i_0 < rowCount; i_0++) {\n      remainder > 0?($checkCellBounds(this$static, i_0, 0) , $getWidgetImpl(this$static, i_0, 0)).setHeight(cellheight + 1 + 'px'):($checkCellBounds(this$static, i_0, 0) , $getWidgetImpl(this$static, i_0, 0)).setHeight(cellheight + 'px');\n      $getElement(($checkCellBounds(this$static, i_0, 0) , $getWidgetImpl(this$static, i_0, 0))).style['lineHeight'] = cellheight + 'px';\n      --remainder;\n    }\n  }\n}\n\nfunction SimpleWeekToolbar(parent_0){\n  FlexTable.call(this);\n  this.calendar = parent_0;\n  this.tableElem['cellSpacing'] = 0;\n  this.tableElem['cellPadding'] = 0;\n  ($clinit_DOM() , this.element_0).className = 'v-calendar-week-numbers';\n}\n\ndefineClass(3117, 248, $intern_143, SimpleWeekToolbar);\n_.onClick = function onClick_79(event_0){\n  var wl;\n  wl = castTo(event_0.source_0, 912);\n  !!this.calendar.weekClickListener && $weekClick_0(this.calendar.weekClickListener, wl.year + 'w' + wl.week);\n}\n;\n_.height_0 = 0;\n_.isHeightUndefined = false;\nvar Lcom_vaadin_v7_client_ui_calendar_schedule_SimpleWeekToolbar_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar.schedule', 'SimpleWeekToolbar', 3117, Lcom_google_gwt_user_client_ui_FlexTable_2_classLit);\nfunction $addDate(this$static, d){\n  var dc;\n  dc = new DateCell(this$static, d);\n  $setDisabled_3(dc, this$static.disabled_0);\n  $setHorizontalSized(dc, this$static.horizontalScrollEnabled || this$static.width_0 < 0);\n  $setVerticalSized(dc, this$static.verticalScrollEnabled);\n  $add_7(this$static.content_0, dc);\n}\n\nfunction $addEvent_0(this$static, e){\n  var comp, comp2, dateCount, dc, dcDate, from, i_0, toTime, main, dayEvent;\n  dateCount = this$static.content_0.children_0.size_0;\n  from = e.start_0;\n  toTime = e.endTime;\n  for (i_0 = 1; i_0 < dateCount; i_0++) {\n    dc = castTo($getWidget(this$static.content_0, i_0), 296);\n    dcDate = dc.date;\n    comp = compare_8(fromDouble_0(dcDate.jsdate.getTime()), fromDouble_0(from.jsdate.getTime()));\n    comp2 = compare_8(fromDouble_0(dcDate.jsdate.getTime()), fromDouble_0(toTime.jsdate.getTime()));\n    (comp >= 0 && comp2 < 0 || comp == 0 && comp2 == 0 && ($clinit_VCalendar() , areDatesEqualToSecond(e.startTime, e.endTime) && isMidnight(e.endTime))) && (main = ($clinit_DOM() , dc.element_0) , dayEvent = new DateCellDayEvent(dc, dc.weekgrid, e) , $setSlotHeightInPX(dayEvent, dc.startingSlotHeight) , $setDisabled_4(dayEvent, dc.disabled_0) , dc.startingSlotHeight > 0 && $updatePositionFor(dc, dayEvent, dcDate, e) , $add_1(dc, dayEvent, main) , undefined);\n  }\n}\n\nfunction $clearDates(this$static){\n  while (this$static.content_0.children_0.size_0 > 1) {\n    $remove_1(this$static.content_0, 1);\n  }\n  this$static.dateCellOfToday = null;\n}\n\nfunction $eventMoved_1(this$static, dayEvent){\n  var left, newParent, previousParent, s, se;\n  s = ($clinit_DOM() , dayEvent.element_0).style;\n  left = __parseAndValidateInt($substring_1(s['left'], 0, s['left'].length - 2), 10);\n  previousParent = castTo(dayEvent.parent_1, 296);\n  newParent = castTo($getWidget(this$static.content_0, (left / $getDateCellWidth(this$static) | 0) + 1), 296);\n  se = dayEvent.calendarEvent;\n  $remove_2(previousParent, dayEvent);\n  $addEvent(newParent, dayEvent);\n  equals_Ljava_lang_Object__Z__devirtual$(previousParent, newParent) || $recalculateEventWidths(previousParent);\n  $recalculateEventWidths(newParent);\n  !!this$static.calendar.eventMovedListener && $eventMoved(this$static.calendar.eventMovedListener, se);\n}\n\nfunction $getDateCellIndex(this$static, dateCell){\n  return $getWidgetIndex(this$static.content_0, dateCell) - 1;\n}\n\nfunction $getDateCellWidth(this$static){\n  var cellWidth, count, firstWidget;\n  count = this$static.content_0.children_0.size_0 - 1;\n  if (count <= 0) {\n    return -1;\n  }\n  if (this$static.width_0 == -1) {\n    firstWidget = $getWidget(this$static.content_0, 1);\n    cellWidth = (($clinit_DOM() , firstWidget.element_0).offsetWidth || 0) | 0;\n  }\n   else {\n    cellWidth = this$static.width_0 / count | 0;\n  }\n  return cellWidth;\n}\n\nfunction $getPixelLengthFor(this$static, startFromMinutes, durationInMinutes){\n  var currentSlot, durationInSlots, endHourInMinutes, endOverFlowTime, firstHourInMinutes, lastFullSlot, lastSlotHeight, pixelLength, shownHeightInMinutes, slotsTillEvent, startOverFlowTime;\n  pixelLength = 0;\n  firstHourInMinutes = this$static.firstHour * 60;\n  endHourInMinutes = this$static.lastHour * 60;\n  if (firstHourInMinutes > startFromMinutes) {\n    durationInMinutes = durationInMinutes - (firstHourInMinutes - startFromMinutes);\n    startFromMinutes = 0;\n  }\n   else {\n    startFromMinutes -= firstHourInMinutes;\n  }\n  shownHeightInMinutes = endHourInMinutes - firstHourInMinutes + 60;\n  durationInMinutes = $wnd.Math.min(durationInMinutes, shownHeightInMinutes - startFromMinutes);\n  slotsTillEvent = startFromMinutes / 30 | 0;\n  startOverFlowTime = 30 - startFromMinutes % 30;\n  if (startOverFlowTime == 30) {\n    startOverFlowTime = 0;\n    currentSlot = slotsTillEvent;\n  }\n   else {\n    currentSlot = slotsTillEvent + 1;\n  }\n  if (startOverFlowTime > 0) {\n    durationInSlots = (durationInMinutes - startOverFlowTime) / 30 | 0;\n    endOverFlowTime = (durationInMinutes - startOverFlowTime) % 30;\n  }\n   else {\n    durationInSlots = durationInMinutes / 30 | 0;\n    endOverFlowTime = durationInMinutes % 30;\n  }\n  if (startOverFlowTime > 0 && currentSlot < this$static.cellHeights.length) {\n    lastSlotHeight = this$static.cellHeights[currentSlot] + this$static.dateCellBorder;\n    pixelLength += round_int(lastSlotHeight / 30 * startOverFlowTime);\n  }\n  lastFullSlot = currentSlot + durationInSlots;\n  for (; currentSlot < lastFullSlot && currentSlot < this$static.cellHeights.length; currentSlot++) {\n    pixelLength += this$static.cellHeights[currentSlot] + this$static.dateCellBorder;\n  }\n  if (endOverFlowTime > 0 && currentSlot < this$static.cellHeights.length) {\n    lastSlotHeight = this$static.cellHeights[currentSlot] + this$static.dateCellBorder;\n    pixelLength += round_int(lastSlotHeight / 30 * endOverFlowTime);\n  }\n  if (endOverFlowTime < 0) {\n    lastSlotHeight = this$static.cellHeights[currentSlot] + this$static.dateCellBorder;\n    pixelLength += round_int(lastSlotHeight / 30 * endOverFlowTime);\n  }\n  return pixelLength;\n}\n\nfunction $getPixelTopFor(this$static, startFromMinutes){\n  var firstHourInMinutes, lastSlotHeight, overFlowTime, pixelsToTop, slotIndex, slotsTillEvent;\n  pixelsToTop = 0;\n  slotIndex = 0;\n  firstHourInMinutes = this$static.firstHour * 60;\n  firstHourInMinutes > startFromMinutes?(startFromMinutes = 0):(startFromMinutes -= firstHourInMinutes);\n  slotsTillEvent = startFromMinutes / 30 | 0;\n  overFlowTime = startFromMinutes % 30;\n  if (slotsTillEvent > 0) {\n    for (slotIndex = 0; slotIndex < slotsTillEvent; slotIndex++) {\n      pixelsToTop += this$static.cellHeights[slotIndex] + this$static.dateCellBorder;\n    }\n  }\n  if (overFlowTime > 0) {\n    lastSlotHeight = this$static.cellHeights[slotIndex] + this$static.dateCellBorder;\n    pixelsToTop = round_int(pixelsToTop + lastSlotHeight / 30 * overFlowTime);\n  }\n  return pixelsToTop;\n}\n\nfunction $setDisabled_5(this$static, disabled){\n  this$static.disabled_0 = disabled;\n}\n\nfunction $setFirstHour(this$static, firstHour){\n  this$static.firstHour = firstHour;\n  $setFirstHour_0(this$static.timebar, firstHour);\n}\n\nfunction $setHeightPX_2(this$static, intHeight){\n  this$static.height_0 = intHeight;\n  $setVerticalScroll(this$static, this$static.height_0 <= -1);\n  if (!this$static.verticalScrollEnabled && this$static.height_0 > 0) {\n    $setHeight_0(this$static.content_0, this$static.height_0 + 'px');\n    $setHeight_0(this$static, this$static.height_0 + 'px');\n    this$static.wrapper.setHeight(this$static.height_0 + 'px');\n    $removeStyleDependentName(this$static.wrapper, 'Vsized');\n    $updateCellHeights_0(this$static);\n    $setCellHeights(this$static.timebar, this$static.cellHeights);\n    $setHeightPX_3(this$static.timebar, this$static.height_0);\n  }\n   else if (this$static.verticalScrollEnabled) {\n    $updateCellHeights_0(this$static);\n    this$static.wrapper.addStyleDependentName('Vsized');\n    $setCellHeights(this$static.timebar, this$static.cellHeights);\n    $setHeightPX_3(this$static.timebar, this$static.height_0);\n  }\n}\n\nfunction $setLastHour(this$static, lastHour){\n  this$static.lastHour = lastHour;\n  $setLastHour_0(this$static.timebar, lastHour);\n}\n\nfunction $setToday_0(this$static, todayDate, todayTimestamp){\n  var count, dc, i_0;\n  count = this$static.content_0.children_0.size_0;\n  if (count > 1) {\n    for (i_0 = 1; i_0 < count; i_0++) {\n      dc = castTo($getWidget(this$static.content_0, i_0), 296);\n      eq(fromDouble_0(dc.date.jsdate.getTime()), fromDouble_0(todayDate.jsdate.getTime())) && (this$static.verticalScrollEnabled?$setToday(dc, todayTimestamp, -1):$setToday(dc, todayTimestamp, $getPropertyInt(($clinit_DOM() , this$static.element_0), 'offsetWidth')));\n      this$static.dateCellOfToday = dc;\n    }\n  }\n}\n\nfunction $setVerticalScroll(this$static, isVerticalScrollEnabled){\n  var scrollPanel, simplePanel;\n  if (isVerticalScrollEnabled && !this$static.verticalScrollEnabled) {\n    this$static.verticalScrollEnabled = true;\n    this$static.horizontalScrollEnabled = false;\n    this$static.wrapper.remove_1(this$static.content_0);\n    scrollPanel = new ScrollPanel;\n    setStylePrimaryName(($clinit_DOM() , scrollPanel.element_0), 'v-calendar-week-wrapper');\n    $setWidget_0(scrollPanel, this$static.content_0);\n    $addScrollHandler(scrollPanel, new WeekGrid$1(this$static, scrollPanel));\n    $setWidget_0(this$static, scrollPanel);\n    this$static.wrapper = scrollPanel;\n  }\n   else if (!isVerticalScrollEnabled && this$static.verticalScrollEnabled) {\n    this$static.verticalScrollEnabled = false;\n    this$static.horizontalScrollEnabled = false;\n    this$static.wrapper.remove_1(this$static.content_0);\n    simplePanel = new SimplePanel;\n    setStylePrimaryName(($clinit_DOM() , simplePanel.element_0), 'v-calendar-week-wrapper');\n    $setWidget_0(simplePanel, this$static.content_0);\n    $setWidget_0(this$static, simplePanel);\n    this$static.wrapper = simplePanel;\n  }\n}\n\nfunction $setVerticalScrollPosition_0(this$static, verticalScrollPosition){\n  this$static.verticalScrollEnabled && $setVerticalScrollPosition(castTo(this$static.wrapper, 923), verticalScrollPosition);\n}\n\nfunction $setWidthPX_2(this$static, width_0){\n  if (this$static.horizontalScrollEnabled) {\n    $updateCellWidths_0(this$static);\n    this$static.wrapper.setWidth($getOffsetWidth(this$static.content_0) + getNativeScrollbarSize() + 'px');\n    this$static.width_0 = $getOffsetWidth(this$static.content_0) - $getOffsetWidth(this$static.timebar);\n  }\n   else {\n    this$static.width_0 = width_0 == -1?-1:width_0 - $getOffsetWidth(this$static.timebar);\n    this$static.verticalScrollEnabled && width_0 != -1 && (this$static.width_0 = this$static.width_0 - getNativeScrollbarSize());\n    $updateCellWidths_0(this$static);\n  }\n}\n\nfunction $updateCellHeights_0(this$static){\n  var count, dateHeight, dc, first, i_0;\n  if (this$static.verticalScrollEnabled) {\n    count = this$static.content_0.children_0.size_0;\n    if (count > 1) {\n      first = castTo($getWidget(this$static.content_0, 1), 296);\n      this$static.dateCellBorder = measureVerticalBorder(first.slotElements[0]);\n      dateHeight = ($getPropertyInt(($clinit_DOM() , first.element_0), 'offsetHeight') / first.numberOfSlots | 0) - this$static.dateCellBorder;\n      this$static.cellHeights = initUnidimensionalArray(I_classLit, $intern_7, 134, 48, 15, 1);\n      fill(this$static.cellHeights, dateHeight);\n      for (i_0 = 1; i_0 < count; i_0++) {\n        dc = castTo($getWidget(this$static.content_0, i_0), 296);\n        $setVerticalSized(dc, this$static.verticalScrollEnabled);\n      }\n    }\n  }\n   else {\n    count = this$static.content_0.children_0.size_0;\n    if (count > 1) {\n      first = castTo($getWidget(this$static.content_0, 1), 296);\n      this$static.dateCellBorder = measureVerticalBorder(first.slotElements[0]);\n      this$static.cellHeights = distributeSize(this$static.height_0, first.numberOfSlots, -this$static.dateCellBorder);\n      for (i_0 = 1; i_0 < count; i_0++) {\n        dc = castTo($getWidget(this$static.content_0, i_0), 296);\n        $setHeightPX(dc, this$static.height_0, this$static.cellHeights);\n      }\n    }\n  }\n}\n\nfunction $updateCellWidths_0(this$static){\n  var count, datesWidth, dc, i_0;\n  if (!this$static.horizontalScrollEnabled && this$static.width_0 != -1) {\n    count = this$static.content_0.children_0.size_0;\n    datesWidth = this$static.width_0;\n    if (datesWidth > 0 && count > 1) {\n      this$static.cellWidths = distributeSize(datesWidth, count - 1, -1);\n      for (i_0 = 1; i_0 < count; i_0++) {\n        dc = castTo($getWidget(this$static.content_0, i_0), 296);\n        $setHorizontalSized(dc, this$static.horizontalScrollEnabled || this$static.width_0 < 0);\n        $setWidthPX(dc, this$static.cellWidths[i_0 - 1]);\n        !!dc.today && $setTimeBarWidth(dc, $getPropertyInt(($clinit_DOM() , this$static.element_0), 'offsetWidth'));\n      }\n    }\n  }\n   else {\n    count = this$static.content_0.children_0.size_0;\n    if (count > 1) {\n      for (i_0 = 1; i_0 < count; i_0++) {\n        dc = castTo($getWidget(this$static.content_0, i_0), 296);\n        $setHorizontalSized(dc, this$static.horizontalScrollEnabled || this$static.width_0 < 0);\n      }\n    }\n  }\n}\n\nfunction WeekGrid(parent_0, format24h){\n  SimplePanel.call(this);\n  this.width_0 = 0;\n  this.height_0 = 0;\n  this.calendar = parent_0;\n  this.content_0 = new HorizontalPanel;\n  this.timebar = new WeekGrid$Timebar(format24h);\n  $add_7(this.content_0, this.timebar);\n  this.wrapper = new SimplePanel;\n  this.wrapper.setStylePrimaryName('v-calendar-week-wrapper');\n  $add_6(this.wrapper, this.content_0);\n  $setWidget_0(this, this.wrapper);\n}\n\ndefineClass(3271, 73, $intern_67, WeekGrid);\n_.dateCellBorder = 0;\n_.disabled_0 = false;\n_.firstHour = 0;\n_.height_0 = 0;\n_.horizontalScrollEnabled = false;\n_.lastHour = 0;\n_.verticalScrollEnabled = false;\n_.width_0 = 0;\nvar Lcom_vaadin_v7_client_ui_calendar_schedule_WeekGrid_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar.schedule', 'WeekGrid', 3271, Lcom_google_gwt_user_client_ui_SimplePanel_2_classLit);\nfunction WeekGrid$1(this$0, val$scrollPanel){\n  this.this$01 = this$0;\n  this.val$scrollPanel2 = val$scrollPanel;\n}\n\ndefineClass(3273, 1, $intern_163, WeekGrid$1);\n_.onScroll = function onScroll_11(event_0){\n  !!this.this$01.calendar.scrollListener && $scroll_1(this.this$01.calendar.scrollListener, $getVerticalScrollPosition(this.val$scrollPanel2));\n}\n;\nvar Lcom_vaadin_v7_client_ui_calendar_schedule_WeekGrid$1_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar.schedule', 'WeekGrid/1', 3273, Ljava_lang_Object_2_classLit);\nfunction $clinit_WeekGrid$Timebar(){\n  $clinit_WeekGrid$Timebar = emptyMethod;\n  timesFor12h = stampJavaTypeInfo(getClassLiteralForArray(I_classLit, 1), $intern_7, 134, 15, [12, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]);\n}\n\nfunction $clear_5(this$static){\n  while (($clinit_DOM() , this$static.element_0).childNodes.length > 0) {\n    $removeChild(this$static.element_0, this$static.element_0.childNodes[0]);\n  }\n}\n\nfunction $createTimeBar(this$static, format24h){\n  var amStop, ampm, delimiter, dts, e, i_0, pmStart;\n  setStylePrimaryName(($clinit_DOM() , this$static.element_0), 'v-calendar-times');\n  e = $doc.createElement('div');\n  e.className = 'v-calendar-time';\n  e.textContent = '';\n  $appendChild(this$static.element_0, e);\n  dts = new DateTimeService;\n  if (format24h) {\n    for (i_0 = this$static.firstHour + 1; i_0 <= this$static.lastHour; i_0++) {\n      e = $doc.createElement('div');\n      e.className = 'v-calendar-time';\n      delimiter = $getClockDelimeter(dts);\n      e.innerHTML = '<span>' + i_0 + '<\\/span>' + delimiter + '00' || '';\n      $appendChild(this$static.element_0, e);\n    }\n  }\n   else {\n    ampm = stampJavaTypeInfo(getClassLiteralForArray(Ljava_lang_String_2_classLit, 1), $intern_3, 2, 6, ['AM', 'PM']);\n    amStop = this$static.lastHour < 11?this$static.lastHour:11;\n    pmStart = this$static.firstHour > 11?this$static.firstHour % 11:0;\n    if (this$static.firstHour < 12) {\n      for (i_0 = this$static.firstHour + 1; i_0 <= amStop; i_0++) {\n        e = $doc.createElement('div');\n        e.className = 'v-calendar-time';\n        $setInnerHTML(e, '<span>' + timesFor12h[i_0] + '<\\/span>' + ' ' + ampm[0]);\n        $appendChild(this$static.element_0, e);\n      }\n    }\n    if (this$static.lastHour > 11) {\n      for (i_0 = pmStart; i_0 < this$static.lastHour - 11; i_0++) {\n        e = $doc.createElement('div');\n        e.className = 'v-calendar-time';\n        $setInnerHTML(e, '<span>' + timesFor12h[i_0] + '<\\/span>' + ' ' + ampm[1]);\n        $appendChild(this$static.element_0, e);\n      }\n    }\n  }\n}\n\nfunction $setCellHeights(this$static, cellHeights){\n  this$static.slotCellHeights = cellHeights;\n}\n\nfunction $setFirstHour_0(this$static, firstHour){\n  this$static.firstHour = firstHour;\n}\n\nfunction $setHeightPX_3(this$static, pixelHeight){\n  this$static.height_0 = pixelHeight;\n  if (pixelHeight > -1) {\n    $setHeight_0(this$static, this$static.height_0 + 7 + 'px');\n    $setStyleName_0(this$static, getStylePrimaryName(($clinit_DOM() , this$static.element_0)) + '-' + 'Vsized', false);\n    $updateChildHeights(this$static);\n  }\n   else {\n    $setStyleName_0(this$static, getStylePrimaryName(($clinit_DOM() , this$static.element_0)) + '-' + 'Vsized', true);\n    $updateChildHeights(this$static);\n  }\n}\n\nfunction $setLastHour_0(this$static, lastHour){\n  this$static.lastHour = lastHour;\n}\n\nfunction $updateChildHeights(this$static){\n  var cellHeights, childCount, e, hoursPerDay, i_0, i0, j, slotHeightPosition, slotsPerHour;\n  childCount = ($clinit_DOM() , this$static.element_0).childNodes.length;\n  if (this$static.height_0 != -1) {\n    hoursPerDay = this$static.lastHour - this$static.firstHour + 1;\n    slotsPerHour = this$static.slotCellHeights.length / hoursPerDay | 0;\n    cellHeights = initUnidimensionalArray(I_classLit, $intern_7, 134, this$static.slotCellHeights.length / slotsPerHour | 0, 15, 1);\n    slotHeightPosition = 0;\n    for (i0 = 0; i0 < cellHeights.length; i0++) {\n      for (j = slotHeightPosition; j < slotHeightPosition + slotsPerHour; j++) {\n        cellHeights[i0] += this$static.slotCellHeights[j] + 1;\n      }\n      slotHeightPosition += slotsPerHour;\n    }\n    for (i_0 = 0; i_0 < childCount; i_0++) {\n      e = $getChild(this$static.element_0, i_0);\n      e.style['height'] = cellHeights[i_0] + ($clinit_Style$Unit() , 'px');\n    }\n  }\n   else {\n    for (i_0 = 0; i_0 < childCount; i_0++) {\n      e = $getChild(this$static.element_0, i_0);\n      e.style['height'] = '';\n    }\n  }\n}\n\nfunction $updateTimeBar(this$static, format24h){\n  $clear_5(this$static);\n  $createTimeBar(this$static, format24h);\n}\n\nfunction WeekGrid$Timebar(format24h){\n  $clinit_WeekGrid$Timebar();\n  HTML.call(this);\n  $createTimeBar(this, format24h);\n}\n\ndefineClass(3272, 106, $intern_69, WeekGrid$Timebar);\n_.firstHour = 0;\n_.height_0 = 0;\n_.lastHour = 0;\nvar timesFor12h;\nvar Lcom_vaadin_v7_client_ui_calendar_schedule_WeekGrid$Timebar_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar.schedule', 'WeekGrid/Timebar', 3272, Lcom_google_gwt_user_client_ui_HTML_2_classLit);\nfunction WeekGridMinuteTimeRange(start_0, end){\n  this.start_0 = new Date_3(fromDouble_0(start_0.jsdate.getTime()));\n  this.end = new Date_3(fromDouble_0(end.jsdate.getTime()));\n  $setSeconds(this.start_0, 0);\n  $setSeconds(this.end, 0);\n}\n\nfunction doesOverlap(a, b){\n  var overlaps;\n  overlaps = $compareTo_0(a.start_0, b.end) < 0 && $compareTo_0(a.end, b.start_0) > 0;\n  return overlaps;\n}\n\ndefineClass(643, 1, {}, WeekGridMinuteTimeRange);\nvar Lcom_vaadin_v7_client_ui_calendar_schedule_WeekGridMinuteTimeRange_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar.schedule', 'WeekGridMinuteTimeRange', 643, Ljava_lang_Object_2_classLit);\nfunction WeekLabel(string, week2, year2){\n  Label_1.call(this, string);\n  setStylePrimaryName(($clinit_DOM() , this.element_0), 'v-calendar-week-number');\n  this.week = week2;\n  this.year = year2;\n}\n\ndefineClass(912, 126, {63:1, 89:1, 93:1, 99:1, 57:1, 56:1, 64:1, 65:1, 67:1, 66:1, 68:1, 69:1, 70:1, 91:1, 92:1, 90:1, 83:1, 97:1, 95:1, 96:1, 94:1, 98:1, 103:1, 102:1, 101:1, 100:1, 16:1, 13:1, 14:1, 112:1, 12:1, 17:1, 126:1, 87:1, 88:1, 11:1, 10:1, 912:1}, WeekLabel);\n_.week = 0;\n_.year = 0;\nvar Lcom_vaadin_v7_client_ui_calendar_schedule_WeekLabel_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar.schedule', 'WeekLabel', 912, Lcom_google_gwt_user_client_ui_Label_2_classLit);\nfunction $addDate_0(this$static, d){\n  var dcc;\n  dcc = new DateCellContainer;\n  dcc.date = d;\n  $setCalendar(dcc, this$static.calendar);\n  $add_7(this$static, dcc);\n}\n\nfunction $addEvent_1(this$static, calendarEvent){\n  var comp, comp2, dateCount, dc, dcDate, eventLabel, extraStyle, from, i_0, started, to;\n  $updateEventSlot(this$static, calendarEvent);\n  dateCount = this$static.children_0.size_0;\n  from = calendarEvent.start_0;\n  to = calendarEvent.end;\n  started = false;\n  for (i_0 = 0; i_0 < dateCount; i_0++) {\n    dc = castTo($get_3(this$static.children_0, i_0), 704);\n    dcDate = dc.date;\n    comp = compare_8(fromDouble_0(dcDate.jsdate.getTime()), fromDouble_0(from.jsdate.getTime()));\n    comp2 = compare_8(fromDouble_0(dcDate.jsdate.getTime()), fromDouble_0(to.jsdate.getTime()));\n    eventLabel = $getDateCell(dc, calendarEvent.slotIndex);\n    setStylePrimaryName(($clinit_DOM() , eventLabel.element_0), 'v-calendar-event');\n    if (comp >= 0 && comp2 <= 0) {\n      eventLabel.calendarEvent = calendarEvent;\n      $setStyleName_0(eventLabel, getStylePrimaryName(eventLabel.element_0) + '-' + 'all-day', true);\n      comp == 0 && $setStyleName_0(eventLabel, getStylePrimaryName(eventLabel.element_0) + '-' + 'start', true);\n      comp2 == 0 && $setStyleName_0(eventLabel, getStylePrimaryName(eventLabel.element_0) + '-' + 'end', true);\n      !started && comp > 0 && comp2 <= 0?$setStyleName_0(eventLabel, getStylePrimaryName(eventLabel.element_0) + '-' + 'continued-from', true):i_0 == dateCount - 1 && $setStyleName_0(eventLabel, getStylePrimaryName(eventLabel.element_0) + '-' + 'continued-to', true);\n      extraStyle = calendarEvent.styleName;\n      extraStyle != null && extraStyle.length > 0 && $setStyleName_0(eventLabel, getStylePrimaryName(eventLabel.element_0) + '-' + (extraStyle + '-all-day'), true);\n      if (!started) {\n        this$static.calendar.eventCaptionAsHtml?$setHTML_2(eventLabel, calendarEvent.caption_0):$setText_1(eventLabel, calendarEvent.caption_0);\n        started = true;\n      }\n    }\n  }\n}\n\nfunction $addEvents(this$static, events){\n  var e, e$iterator;\n  for (e$iterator = new ArrayList$1(events); e$iterator.i < e$iterator.this$01.array.length;) {\n    e = castTo($next_7(e$iterator), 441);\n    $addEvent_1(this$static, e);\n  }\n}\n\nfunction $isSlotFree(this$static, slot, start_0, end){\n  var comp, comp2, dateCount, dc, dcDate, i_0;\n  dateCount = this$static.children_0.size_0;\n  for (i_0 = 0; i_0 < dateCount; i_0++) {\n    dc = castTo($get_3(this$static.children_0, i_0), 704);\n    dcDate = dc.date;\n    comp = compare_8(fromDouble_0(dcDate.jsdate.getTime()), fromDouble_0(start_0.jsdate.getTime()));\n    comp2 = compare_8(fromDouble_0(dcDate.jsdate.getTime()), fromDouble_0(end.jsdate.getTime()));\n    if (comp >= 0 && comp2 <= 0) {\n      if (dc.children_0.size_0 - 1 >= slot && !!castTo($get_3(dc.children_0, slot), 642).calendarEvent) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nfunction $setWidthPX_3(this$static, width_0){\n  if (this$static.children_0.size_0 == 0) {\n    return;\n  }\n  this$static.undefinedWidth = width_0 < 0;\n  $updateCellWidths_1(this$static);\n}\n\nfunction $updateCellWidths_1(this$static){\n  var cellWidth, cells_0, dc, i_0;\n  cells_0 = this$static.children_0.size_0;\n  if (cells_0 <= 0) {\n    return;\n  }\n  cellWidth = -1;\n  this$static.undefinedWidth && (cellWidth = $getDateCellWidth(this$static.calendar.weekGrid) - measureVerticalBorder(castTo($getWidget(this$static.calendar.weekGrid.content_0, 1), 296).slotElements[0]));\n  for (i_0 = 0; i_0 < cells_0; i_0++) {\n    dc = castTo($get_3(this$static.children_0, i_0), 704);\n    this$static.undefinedWidth?(($clinit_DOM() , dc.element_0).style['width'] = cellWidth + 'px' , undefined):$setWidth_0(dc, this$static.calendar.weekGrid.cellWidths[i_0] + 'px');\n  }\n}\n\nfunction $updateEventSlot(this$static, e){\n  var foundFreeSlot, slot;\n  foundFreeSlot = false;\n  slot = 0;\n  while (!foundFreeSlot) {\n    if ($isSlotFree(this$static, slot, e.start_0, e.end)) {\n      e.slotIndex = slot;\n      foundFreeSlot = true;\n    }\n     else {\n      ++slot;\n    }\n  }\n}\n\nfunction WeeklyLongEvents(calendar){\n  HorizontalPanel.call(this);\n  setStylePrimaryName(($clinit_DOM() , this.element_0), 'v-calendar-weekly-longevents');\n  this.calendar = calendar;\n}\n\ndefineClass(3270, 457, {16:1, 13:1, 14:1, 12:1, 35:1, 38:1, 457:1, 17:1, 36:1, 11:1, 10:1, 812:1, 24:1}, WeeklyLongEvents);\n_.getTooltipKey = function getTooltipKey_1(){\n  return null;\n}\n;\n_.undefinedWidth = false;\nvar Lcom_vaadin_v7_client_ui_calendar_schedule_WeeklyLongEvents_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar.schedule', 'WeeklyLongEvents', 3270, Lcom_google_gwt_user_client_ui_HorizontalPanel_2_classLit);\nfunction WeeklyLongEventsDateCell(){\n  HTML.call(this);\n}\n\ndefineClass(642, 106, {63:1, 89:1, 93:1, 99:1, 57:1, 56:1, 64:1, 65:1, 67:1, 66:1, 68:1, 69:1, 70:1, 91:1, 92:1, 90:1, 83:1, 97:1, 95:1, 96:1, 94:1, 98:1, 103:1, 102:1, 101:1, 100:1, 16:1, 13:1, 157:1, 14:1, 144:1, 112:1, 12:1, 17:1, 126:1, 87:1, 88:1, 11:1, 10:1, 812:1, 642:1}, WeeklyLongEventsDateCell);\n_.getTooltipKey = function getTooltipKey_2(){\n  if (this.calendarEvent) {\n    return valueOf_86(this.calendarEvent.index_0);\n  }\n  return null;\n}\n;\nvar Lcom_vaadin_v7_client_ui_calendar_schedule_WeeklyLongEventsDateCell_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar.schedule', 'WeeklyLongEventsDateCell', 642, Lcom_google_gwt_user_client_ui_HTML_2_classLit);\nfunction CalendarDropHandler(connector){\n  VAbstractDropHandler.call(this);\n  this.calendarConnector = connector;\n}\n\ndefineClass(1081, 685, {});\n_.getConnector = function getConnector_2(){\n  return this.calendarConnector;\n}\n;\n_.getApplicationConnection = function getApplicationConnection_2(){\n  return this.calendarConnector.connection;\n}\n;\nvar Lcom_vaadin_v7_client_ui_calendar_schedule_dd_CalendarDropHandler_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar.schedule.dd', 'CalendarDropHandler', 1081, Lcom_vaadin_client_ui_dd_VAbstractDropHandler_2_classLit);\nfunction $deEmphasis_1(this$static){\n  if (!!this$static.currentTargetElement && !!this$static.currentTargetDay) {\n    $removeStyleDependentName(this$static.currentTargetDay, 'dragemphasis');\n    this$static.currentTargetElement = null;\n  }\n}\n\nfunction $dragAccepted_1(this$static, drag){\n  $deEmphasis_1(this$static);\n  this$static.currentTargetElement = $getElementOver(drag);\n  this$static.currentTargetDay = ($clinit_WidgetUtil() , castTo(findWidget_0(this$static.currentTargetElement, Lcom_vaadin_v7_client_ui_calendar_schedule_SimpleDayCell_2_classLit, true), 317));\n  !!this$static.currentTargetElement && !!this$static.currentTargetDay && $addStyleDependentName(this$static.currentTargetDay, 'dragemphasis');\n}\n\nfunction $isLocationValid(this$static, elementOver){\n  var monthGridElement;\n  monthGridElement = $getElement(castTo($getWidget_1(this$static.calendarConnector), 122).monthGrid);\n  return $clinit_DOM() , monthGridElement.contains(elementOver);\n}\n\nfunction CalendarMonthDropHandler(connector){\n  CalendarDropHandler.call(this, connector);\n}\n\ndefineClass(630, 1081, {630:1}, CalendarMonthDropHandler);\n_.dragAccepted = function dragAccepted_2(drag){\n  $dragAccepted_1(this, drag);\n}\n;\n_.dragEnter = function dragEnter_3(drag){\n}\n;\n_.dragLeave = function dragLeave_3(drag){\n  $deEmphasis_1(this);\n}\n;\n_.dragOver = function dragOver_3(drag){\n  $isLocationValid(this, $getElementOver(drag)) && $validate(this, new CalendarMonthDropHandler$1(this, drag), drag);\n}\n;\n_.drop = function drop_4(drag){\n  var dayIndex;\n  if ($isLocationValid(this, $getElementOver(drag))) {\n    dayIndex = $getDayCellIndex(castTo($getWidget_1(this.calendarConnector), 122).monthGrid, this.currentTargetDay);\n    $putStringValue(drag.dropDetails, 'dropDayIndex', valueOf_86(dayIndex));\n    $deEmphasis_1(this);\n    return $drop_3(this, drag);\n  }\n   else {\n    $deEmphasis_1(this);\n    return false;\n  }\n}\n;\nvar Lcom_vaadin_v7_client_ui_calendar_schedule_dd_CalendarMonthDropHandler_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar.schedule.dd', 'CalendarMonthDropHandler', 630, Lcom_vaadin_v7_client_ui_calendar_schedule_dd_CalendarDropHandler_2_classLit);\nfunction CalendarMonthDropHandler$1(this$0, val$drag){\n  this.this$01 = this$0;\n  this.val$drag2 = val$drag;\n}\n\ndefineClass(3191, 1, {}, CalendarMonthDropHandler$1);\n_.accepted_0 = function accepted_8(event_0){\n  $dragAccepted_1(this.this$01, this.val$drag2);\n}\n;\nvar Lcom_vaadin_v7_client_ui_calendar_schedule_dd_CalendarMonthDropHandler$1_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar.schedule.dd', 'CalendarMonthDropHandler/1', 3191, Ljava_lang_Object_2_classLit);\nfunction $deEmphasis_2(this$static){\n  if (this$static.currentTargetElement) {\n    $removeEmphasisStyle(($clinit_DOM() , this$static.currentTargetElement));\n    this$static.currentTargetElement = null;\n  }\n}\n\nfunction $dragAccepted_2(this$static, drag){\n  $deEmphasis_2(this$static);\n  this$static.currentTargetElement = $getElementOver(drag);\n  this$static.currentTargetDay = ($clinit_WidgetUtil() , castTo(findWidget_0(this$static.currentTargetElement, Lcom_vaadin_v7_client_ui_calendar_schedule_DateCell_2_classLit, true), 296));\n  $addEmphasisStyle(($clinit_DOM() , this$static.currentTargetElement));\n}\n\nfunction $isLocationValid_0(this$static, elementOver){\n  var timeBarElement, todayBarElement, weekGridElement;\n  weekGridElement = $getElement(castTo($getWidget_1(this$static.calendarConnector), 122).weekGrid);\n  timeBarElement = $getElement(castTo($getWidget_1(this$static.calendarConnector), 122).weekGrid.timebar);\n  todayBarElement = null;\n  !!castTo($getWidget_1(this$static.calendarConnector), 122).weekGrid.dateCellOfToday && (todayBarElement = castTo($getWidget_1(this$static.calendarConnector), 122).weekGrid.dateCellOfToday.todaybar);\n  return $clinit_DOM() , weekGridElement.contains(elementOver) && !timeBarElement.contains(elementOver) && todayBarElement != elementOver && ($clinit_WidgetUtil() , !findWidget_0(elementOver, Lcom_vaadin_v7_client_ui_calendar_schedule_DateCellDayEvent_2_classLit, true));\n}\n\nfunction CalendarWeekDropHandler(connector){\n  CalendarDropHandler.call(this, connector);\n}\n\ndefineClass(631, 1081, {631:1}, CalendarWeekDropHandler);\n_.dragAccepted = function dragAccepted_3(drag){\n  $dragAccepted_2(this, drag);\n}\n;\n_.dragEnter = function dragEnter_4(drag){\n}\n;\n_.dragLeave = function dragLeave_4(drag){\n  $deEmphasis_2(this);\n}\n;\n_.dragOver = function dragOver_4(drag){\n  $isLocationValid_0(this, $getElementOver(drag)) && $validate(this, new CalendarWeekDropHandler$1(this, drag), drag);\n}\n;\n_.drop = function drop_5(drag){\n  var slotIndex, dayIndex;\n  if ($isLocationValid_0(this, $getElementOver(drag))) {\n    slotIndex = $getSlotIndex(this.currentTargetDay, this.currentTargetElement);\n    dayIndex = $getDateCellIndex(castTo($getWidget_1(this.calendarConnector), 122).weekGrid, this.currentTargetDay);\n    $putStringValue(drag.dropDetails, 'dropDayIndex', valueOf_86(dayIndex));\n    $putStringValue(drag.dropDetails, 'dropSlotIndex', valueOf_86(slotIndex));\n    $deEmphasis_2(this);\n    return $drop_3(this, drag);\n  }\n   else {\n    $deEmphasis_2(this);\n    return false;\n  }\n}\n;\nvar Lcom_vaadin_v7_client_ui_calendar_schedule_dd_CalendarWeekDropHandler_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar.schedule.dd', 'CalendarWeekDropHandler', 631, Lcom_vaadin_v7_client_ui_calendar_schedule_dd_CalendarDropHandler_2_classLit);\nfunction CalendarWeekDropHandler$1(this$0, val$drag){\n  this.this$01 = this$0;\n  this.val$drag2 = val$drag;\n}\n\ndefineClass(3194, 1, {}, CalendarWeekDropHandler$1);\n_.accepted_0 = function accepted_9(event_0){\n  $dragAccepted_2(this.this$01, this.val$drag2);\n}\n;\nvar Lcom_vaadin_v7_client_ui_calendar_schedule_dd_CalendarWeekDropHandler$1_2_classLit = createForClass('com.vaadin.v7.client.ui.calendar.schedule.dd', 'CalendarWeekDropHandler/1', 3194, Ljava_lang_Object_2_classLit);\nfunction CalendarState(){\n  AbstractLegacyComponentState.call(this);\n  this.eventSortOrder = ($clinit_CalendarState$EventSortOrder() , DURATION_DESC);\n}\n\ndefineClass(217, 22, {6:1, 39:1, 22:1, 217:1, 3:1}, CalendarState);\n_.eventCaptionAsHtml = false;\n_.firstDayOfWeek = 0;\n_.firstHourOfDay = 0;\n_.firstVisibleDayOfWeek = 1;\n_.format24H = false;\n_.lastHourOfDay = 23;\n_.lastVisibleDayOfWeek = 7;\n_.scroll_0 = 0;\nvar Lcom_vaadin_v7_shared_ui_calendar_CalendarState_2_classLit = createForClass('com.vaadin.v7.shared.ui.calendar', 'CalendarState', 217, Lcom_vaadin_v7_shared_AbstractLegacyComponentState_2_classLit);\nfunction CalendarState$Action(){\n}\n\ndefineClass(861, 1, {861:1, 3:1}, CalendarState$Action);\nvar Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Action_2_classLit = createForClass('com.vaadin.v7.shared.ui.calendar', 'CalendarState/Action', 861, Ljava_lang_Object_2_classLit);\nfunction CalendarState$Day(){\n}\n\ndefineClass(862, 1, {862:1, 3:1}, CalendarState$Day);\n_.dayOfWeek = 0;\n_.week = 0;\n_.yearOfWeek = 0;\nvar Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Day_2_classLit = createForClass('com.vaadin.v7.shared.ui.calendar', 'CalendarState/Day', 862, Ljava_lang_Object_2_classLit);\nfunction CalendarState$Event(){\n}\n\ndefineClass(773, 1, {773:1, 3:1}, CalendarState$Event);\n_.allDay = false;\n_.index_0 = 0;\nvar Lcom_vaadin_v7_shared_ui_calendar_CalendarState$Event_2_classLit = createForClass('com.vaadin.v7.shared.ui.calendar', 'CalendarState/Event', 773, Ljava_lang_Object_2_classLit);\nfunction $clinit_CalendarState$EventSortOrder(){\n  $clinit_CalendarState$EventSortOrder = emptyMethod;\n  UNSORTED = new CalendarState$EventSortOrder('UNSORTED', 0);\n  START_DATE_DESC = new CalendarState$EventSortOrder('START_DATE_DESC', 1);\n  START_DATE_ASC = new CalendarState$EventSortOrder('START_DATE_ASC', 2);\n  DURATION_DESC = new CalendarState$EventSortOrder('DURATION_DESC', 3);\n  DURATION_ASC = new CalendarState$EventSortOrder('DURATION_ASC', 4);\n}\n\nfunction CalendarState$EventSortOrder(enum$name, enum$ordinal){\n  Enum.call(this, enum$name, enum$ordinal);\n}\n\nfunction valueOf_69(name_0){\n  $clinit_CalendarState$EventSortOrder();\n  return valueOf(($clinit_CalendarState$EventSortOrder$Map() , $MAP_67), name_0);\n}\n\nfunction values_68(){\n  $clinit_CalendarState$EventSortOrder();\n  return stampJavaTypeInfo(getClassLiteralForArray(Lcom_vaadin_v7_shared_ui_calendar_CalendarState$EventSortOrder_2_classLit, 1), $intern_2, 472, 0, [UNSORTED, START_DATE_DESC, START_DATE_ASC, DURATION_DESC, DURATION_ASC]);\n}\n\ndefineClass(472, 15, {472:1, 3:1, 26:1, 15:1}, CalendarState$EventSortOrder);\nvar DURATION_ASC, DURATION_DESC, START_DATE_ASC, START_DATE_DESC, UNSORTED;\nvar Lcom_vaadin_v7_shared_ui_calendar_CalendarState$EventSortOrder_2_classLit = createForEnum('com.vaadin.v7.shared.ui.calendar', 'CalendarState/EventSortOrder', 472, Ljava_lang_Enum_2_classLit, values_68, valueOf_69);\nfunction $clinit_CalendarState$EventSortOrder$Map(){\n  $clinit_CalendarState$EventSortOrder$Map = emptyMethod;\n  $MAP_67 = createValueOfMap(($clinit_CalendarState$EventSortOrder() , stampJavaTypeInfo(getClassLiteralForArray(Lcom_vaadin_v7_shared_ui_calendar_CalendarState$EventSortOrder_2_classLit, 1), $intern_2, 472, 0, [UNSORTED, START_DATE_DESC, START_DATE_ASC, DURATION_DESC, DURATION_ASC])));\n}\n\nvar $MAP_67;\nfunction fill(a, val){\n  fill0(a, a.length, val);\n}\n\nfunction fill0(a, toIndex, val){\n  var i_0;\n  for (i_0 = 0; i_0 < toIndex; ++i_0) {\n    a[i_0] = val;\n  }\n}\n\n$entry(onLoad)(8);\n\n//# sourceURL=com.stpl.app.v8.AppWidgetSet-8.js\n")
