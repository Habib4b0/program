<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE xml>
<sql>

	<entity id="getRSItemsCheckAllQuery">
		<query> 
            <![CDATA[  
            UPDATE IMTD_RS_DETAILS SET CHECK_RECORD = ? WHERE USERS_SID = ?  AND SESSION_ID = ?    
           
 ]]>
		</query>
	</entity>

	<entity id="getRsDetailsDeleteQuery">
		<query> 
            <![CDATA[  
                   	DECLARE @RS_MODEL_SID INT = ? 
                    DELETE FROM RS_DETAILS WHERE RS_MODEL_SID = @RS_MODEL_SID;
                    UPDATE RS_MODEL SET INBOUND_STATUS ='D' WHERE RS_MODEL_SID = @RS_MODEL_SID;
 ]]>
		</query>
	</entity>
	<entity id="getnotesTabDeleteQuery">
		<query> 
            <![CDATA[  
            	DECLARE @RS_MODEL_SID INT = ? 
                DELETE FROM MASTER_DATA_FILES WHERE MASTER_TABLE_SID=@RS_MODEL_SID   AND MASTER_TABLE_NAME='RS_MODEL';
 ]]>
		</query>
	</entity>
	<entity id="getRsModelUpdateQuery">
		<query> 
            <![CDATA[ 
	DECLARE 
	@REBATESCHEDULEID VARCHAR(50) =?,
	@REBATESCHEDULENO VARCHAR(50)=?,
	@REBATESCHEDULENAME VARCHAR(50)=?,
	@RSTYPE INT=?,
	@REBATE_PROGRAM_TYPE INT=?,
	@RSCATEGORY INT=?,
	@RSSTATUS INT=?,
	@RS_DESIGNATION INT=?,
	@RS_START_DATE DATETIME=CAST( ? as DATETIME),
	@RS_END_DATE DATETIME=CAST( ? as DATETIME),
	@RS_TRADE_CLASS INT=?,
	@PARENT_RS_ID INT=?,
	@PARENT_RS_NAME VARCHAR(50)=?,
	@RS_TRANS_REF_ID INT =?,
	@RS_TRANS_REF_NO VARCHAR(50)=?,
	@RS_TRANS_REF_NAME VARCHAR(50)=?,
	@REBATE_RULE_TYPE INT=?,
	@INTEREST_BEARING_INDICATOR INT=?,
	@INTEREST_BEARING_BASIS INT=?,
	@REBATE_FREQUENCY INT=?,
	@PAYMENT_METHOD INT=?,
	@PAYMENT_FREQUENCY INT=?,
	@PAYMENT_TERMS INT=?,
	@PAYMENT_GRACE_PERIOD VARCHAR(20)=?,
	@RS_CALENDAR INT=?,
	@INTERNAL_NOTES VARCHAR(500)=?,
	@RS_ALIAS VARCHAR(50)=?,
	@CALCULATION_TYPE INT=?,
	@CALCULATION_LEVEL INT=?,
	@PAYMENT_LEVEL INT=?,
	@CALCULATION_RULE INT=?,
	@CALCULATION_RULE_LEVEL INT=?,
	@EVALUATION_RULE_TYPE INT=?,
	@EVALUATION_RULE_LEVEL INT=?,
	@EVALUATION_RULE_OR_ASSOCIATION INT=?,
	@DEDUCTION_INCLUSION INT=?,
	@CREATED_BY INT=?,
	@MODIFIED_BY INT=?,
	@RS_MODEL_SID INT =?

	UPDATE
		RS_MODEL
	SET
		RS_ID = @REBATESCHEDULEID,
		RS_NO = @REBATESCHEDULENO,
		RS_NAME = @REBATESCHEDULENAME,
		RS_TYPE = @RSTYPE,
		REBATE_PROGRAM_TYPE = @REBATE_PROGRAM_TYPE,
		RS_CATEGORY = @RSCATEGORY,
		RS_STATUS = @RSSTATUS,
		RS_DESIGNATION = @RS_DESIGNATION,
		RS_START_DATE = @RS_START_DATE,
		RS_END_DATE = @RS_END_DATE,
		RS_TRADE_CLASS = @RS_TRADE_CLASS,
		PARENT_RS_ID = @PARENT_RS_ID,
		PARENT_RS_NAME = @PARENT_RS_NAME,
		RS_TRANS_REF_ID = @RS_TRANS_REF_ID,
		RS_TRANS_REF_NO = @RS_TRANS_REF_NO,
		RS_TRANS_REF_NAME = @RS_TRANS_REF_NAME,
		REBATE_RULE_TYPE = @REBATE_RULE_TYPE,
		INTEREST_BEARING_INDICATOR = @INTEREST_BEARING_INDICATOR,
		INTEREST_BEARING_BASIS = @INTEREST_BEARING_BASIS,
		REBATE_FREQUENCY = @REBATE_FREQUENCY,
		PAYMENT_METHOD = @PAYMENT_METHOD,
		PAYMENT_FREQUENCY = @PAYMENT_FREQUENCY,
		PAYMENT_TERMS = @PAYMENT_TERMS ,
		PAYMENT_GRACE_PERIOD = @PAYMENT_GRACE_PERIOD,
		RS_CALENDAR = @RS_CALENDAR,
		INTERNAL_NOTES = @INTERNAL_NOTES,
		RS_ALIAS = @RS_ALIAS,
		CALCULATION_TYPE = @CALCULATION_TYPE,
		CALCULATION_LEVEL = @CALCULATION_LEVEL,
		INBOUND_STATUS = 'U',
		PAYMENT_LEVEL = @PAYMENT_LEVEL,
		CALCULATION_RULE = @CALCULATION_RULE,
		CALCULATION_RULE_LEVEL = @CALCULATION_RULE_LEVEL,
		EVALUATION_RULE_TYPE = @EVALUATION_RULE_TYPE,
		EVALUATION_RULE_LEVEL = @EVALUATION_RULE_LEVEL,
		EVALUATION_RULE_OR_ASSOCIATION = @EVALUATION_RULE_OR_ASSOCIATION,
		DEDUCTION_INCLUSION = @DEDUCTION_INCLUSION,
		CREATED_BY = @CREATED_BY,
		CREATED_DATE = GetDate(),
		MODIFIED_BY = @MODIFIED_BY,
		MODIFIED_DATE = GetDate()
	WHERE
		RS_MODEL_SID = @RS_MODEL_SID;
		]]>
		</query>
	</entity>
	<entity id="getRsDetailsInsertQuery">
		<query> 
            <![CDATA[ 
            
            DECLARE 
			@RS_MODEL_SID INT =?,
			@USERS_SID VARCHAR(20)=?,
			@SESSION_ID VARCHAR(20)=?
            
            INSERT
	INTO
		dbo.RS_Details(
			RS_MODEL_SID,
			ITEM_MASTER_SID,
			ITEM_RS_ATTACHED_STATUS,
			ITEM_RS_ATTACHED_DATE,
			MODIFIED_DATE,
			ITEM_REBATE_START_DATE,
			ITEM_REBATE_END_DATE,
			REBATE_AMOUNT,
			FORMULA_ID,
			IFP_MODEL_SID,
			CREATED_BY,
			CREATED_DATE,
			MODIFIED_BY,
			INBOUND_STATUS,
			FORMULA_METHOD_ID,
			REBATE_PLAN_MASTER_SID,
			BUNDLE_NO,
			DEDUCTION_CALENDAR_MASTER_SID,
			NET_SALES_FORMULA_MASTER_SID,
			NET_SALES_RULE,
			EVALUATION_RULE,
			CALCULATION_RULE,
			EVALUATION_RULE_BUNDLE,
			CALCULATION_RULE_BUNDLE
		) Select
			@RS_MODEL_SID,
			Source.ITEM_MASTER_SID,
			Source.RS_DETAILS_ATTACHED_STATUS,
			Source.RS_DETAILS_ATTACHED_DATE,
			Source.MODIFIED_DATE,
			Source.ITEM_REBATE_START_DATE,
			Source.ITEM_REBATE_END_DATE,
			Source.RS_DETAILS_REBATE_AMOUNT,
			Source.RS_DETAILS_FORMULA_ID,
			Source.IFP_MODEL_SID,
			@USERS_SID,
			Source.CREATED_DATE,
			@USERS_SID,
			'A',
			Source.RS_DETAILS_FORMULA_METHOD_ID,
			Source.REBATE_PLAN_MASTER_SID,
			Source.RS_DETAILS_BUNDLE_NO,
			Source.DEDUCTION_CALENDAR_MASTER_SID,
			Source.NET_SALES_FORMULA_MASTER_SID,
			Source.NET_SALES_RULE,
			Source.EVALUATION_RULE,
			Source.CALCULATION_RULE,
			Source.EVALUATION_RULE_BUNDLE,
			Source.CALCULATION_RULE_BUNDLE
		from
			dbo.IMTD_RS_DETAILS as Source
		WHERE
			USERS_SID = @USERS_SID AND  SESSION_ID =@SESSION_ID
			and CHECK_RECORD = 1;
	
		]]>
		</query>
	</entity>
	<entity id="getRsModelInsertQuery">
		<query> 
            <![CDATA[ 
	DECLARE 
	@REBATESCHEDULEID VARCHAR(50) =?,
	@REBATESCHEDULENO VARCHAR(50)=?,
	@REBATESCHEDULENAME VARCHAR(50)=?,
	@RSTYPE INT=?,
	@REBATE_PROGRAM_TYPE INT=?,
	@RSCATEGORY INT=?,
	@RSSTATUS INT=?,
	@RS_DESIGNATION INT=?,
	@RS_START_DATE DATETIME=CAST( ? as DATETIME),
	@RS_END_DATE DATETIME=CAST( ? as DATETIME),
	@RS_TRADE_CLASS INT=?,
	@PARENT_RS_ID INT=?,
	@PARENT_RS_NAME VARCHAR(50)=?,	
	@RS_TRANS_REF_ID INTEGER =?,
	@RS_TRANS_REF_NO VARCHAR(50)=?,
	@RS_TRANS_REF_NAME VARCHAR(50)=?,
	@REBATE_RULE_TYPE INT=?,
	@INTEREST_BEARING_INDICATOR INT=?,
	@INTEREST_BEARING_BASIS INT=?,
	@REBATE_FREQUENCY INT=?,
	@PAYMENT_METHOD INT=?,
	@PAYMENT_FREQUENCY INT=?,
	@PAYMENT_TERMS INT=?,
	@PAYMENT_GRACE_PERIOD VARCHAR(20)=?,
	@RS_CALENDAR INT=?,
	@INTERNAL_NOTES VARCHAR(500)=?,
	@RS_ALIAS VARCHAR(50)=?,
	@CALCULATION_TYPE INT=?,
	@CALCULATION_LEVEL INT=?,
	@PAYMENT_LEVEL INT=?,
	@CALCULATION_RULE INT=?,
	@CALCULATION_RULE_LEVEL INT=?,
	@EVALUATION_RULE_TYPE INT=?,
	@EVALUATION_RULE_LEVEL INT=?,
	@EVALUATION_RULE_OR_ASSOCIATION INT=?,
	@DEDUCTION_INCLUSION INT=?,
	@CREATED_BY INT=?,
	@MODIFIED_BY INT=?
	
	INSERT
	INTO
		RS_MODEL(
			RS_ID,
			RS_NO,
			RS_NAME,
			RS_TYPE,
			REBATE_PROGRAM_TYPE,
			RS_CATEGORY,
			RS_STATUS, 
			RS_DESIGNATION, 
			RS_START_DATE,
			RS_END_DATE, 
			RS_TRADE_CLASS,
			PARENT_RS_ID,
			PARENT_RS_NAME,
			RS_TRANS_REF_ID, 
			RS_TRANS_REF_NO, 
			RS_TRANS_REF_NAME, 
			REBATE_RULE_TYPE, 
			INTEREST_BEARING_INDICATOR,
			INTEREST_BEARING_BASIS,
			REBATE_FREQUENCY,
			PAYMENT_METHOD, 
			PAYMENT_FREQUENCY, 
			PAYMENT_TERMS, 
			PAYMENT_GRACE_PERIOD, 
			RS_CALENDAR,
			INTERNAL_NOTES,
			RS_ALIAS,
			CALCULATION_TYPE,
			CALCULATION_LEVEL,
			INBOUND_STATUS, PAYMENT_LEVEL, 
			CALCULATION_RULE,
			CALCULATION_RULE_LEVEL,
			EVALUATION_RULE_TYPE,
			EVALUATION_RULE_LEVEL,
			EVALUATION_RULE_OR_ASSOCIATION,
			DEDUCTION_INCLUSION,
			CREATED_BY, 
			CREATED_DATE, 
			MODIFIED_BY, 
			MODIFIED_DATE) 
			
			VALUES( @REBATESCHEDULEID ,
			@REBATESCHEDULENO ,
			@REBATESCHEDULENAME,
			@RSTYPE ,
			@REBATE_PROGRAM_TYPE,
			@RSCATEGORY,
			@RSSTATUS,
			@RS_DESIGNATION,
			@RS_START_DATE,
			@RS_END_DATE,
			@RS_TRADE_CLASS ,
			@PARENT_RS_ID  ,
			@PARENT_RS_NAME,
			@RS_TRANS_REF_ID ,
			@RS_TRANS_REF_NO ,
			@RS_TRANS_REF_NAME,
			@REBATE_RULE_TYPE ,
			@INTEREST_BEARING_INDICATOR ,
			@INTEREST_BEARING_BASIS,
			@REBATE_FREQUENCY,
			@PAYMENT_METHOD ,
			@PAYMENT_FREQUENCY,
			@PAYMENT_TERMS ,
			@PAYMENT_GRACE_PERIOD ,
			@RS_CALENDAR,
			@INTERNAL_NOTES,
			@RS_ALIAS,
			@CALCULATION_TYPE,
			@CALCULATION_LEVEL,
			'A',
			@PAYMENT_LEVEL,
			@CALCULATION_RULE,
			@CALCULATION_RULE_LEVEL,
			@EVALUATION_RULE_TYPE,
			@EVALUATION_RULE_LEVEL,
			@EVALUATION_RULE_OR_ASSOCIATION ,
			@DEDUCTION_INCLUSION,
			@CREATED_BY ,
			GetDate(),
 			@MODIFIED_BY ,
 			GetDate())
		]]>
		</query>
	</entity>
	<entity id="getRsDuplicateCheckQuery">
		<query> 
            <![CDATA[ 
			select rs_model_sid  from RS_MODEL where RS_ID=?
		]]>
		</query>
	</entity>
	<entity id="getImtdRsDetailsDeleteQuery">
		<query> 
            <![CDATA[ 
			DECLARE 
			@USERS_SID VARCHAR(10) = ?,
			@SESSION_ID VARCHAR(10)=?
			
			DELETE  FROM dbo.IMTD_RS_DETAILS where USERS_SID=@USERS_SID	AND SESSION_ID= @SESSION_ID;
		]]>
		</query>
	</entity>
	<entity id="getImtdRsDetailsInsertQuery">
		<query> 
            <![CDATA[ 
			DECLARE 
			@USERS_SID VARCHAR(10) = ?,
			@SESSION_ID VARCHAR(10)=?,
			@IFP_MODEL_SID INT=?
			
			INSERT
	INTO
		dbo.IMTD_RS_DETAILS(
			IFP_MODEL_SID,
			ITEM_MASTER_SID,
			ITEM_ID,
			ITEM_NO,
			ITEM_NAME,
			RS_DETAILS_ATTACHED_STATUS,
			RS_DETAILS_ATTACHED_DATE,
			Operation,
			SESSION_ID,
			IMTD_CREATED_DATE,
			USERS_SID,
			CHECK_RECORD,
			RS_MODEL_SID
		) SELECT
			IFD.IFP_MODEL_SID,
			IM.ITEM_MASTER_SID,
			IM.ITEM_ID,
			IM.ITEM_NO,
			IM.ITEM_NAME,
			0,
			GetDate() as RS_DETAILS_ATTACHED_DATE,
			'A' as 'Operation',
			@SESSION_ID as SessionId,
			GetDate() as IMTD_CREATED_DATE,
			@USERS_SID as USERS_SID,
			0 as CHECK_RECORD,
			null as RS_MODEL_SID
		FROM
			dbo.ITEM_MASTER IM,
			dbo.IFP_DETAILS IFD
		WHERE
			IM.ITEM_MASTER_SID = IFD.ITEM_MASTER_SID
			and IFD.IFP_MODEL_SID =@IFP_MODEL_SID;
		]]>
		</query>
	</entity>
	<entity id="getImtdRsDetailsUpdateQuery">
		<query> 
            <![CDATA[
             DECLARE @COLUMN_NAME VARCHAR(50) = ?,
				@VALUE VARCHAR(50) = ?,
				@IMTD_RS_DETAILS_SID INT = ?,
				@USERS_SID VARCHAR(10) = ?,
				@SESSION_ID VARCHAR(50) = ? 

			DECLARE @SQL NVARCHAR(MAX)
			SET
			@SQL = ' UPDATE
				IMTD_RS_DETAILS
			SET ' + @COLUMN_NAME + ' = @VALUE
			WHERE
				IMTD_RS_DETAILS_SID = @IMTD_RS_DETAILS_SID
				AND USERS_SID = @USERS_SID
				AND SESSION_ID = @SESSION_ID' 
			exec sp_executesql @sql,
			N'@COLUMN_NAME VARCHAR(50) ,
			@VALUE VARCHAR(50),
			@IMTD_RS_DETAILS_SID INT,
			@USERS_SID VARCHAR(10) ,
			@SESSION_ID VARCHAR(50)',
			@COLUMN_NAME = @COLUMN_NAME,
			@VALUE = @VALUE,
			@IMTD_RS_DETAILS_SID = @IMTD_RS_DETAILS_SID,
			@USERS_SID = @USERS_SID,
			@SESSION_ID = @SESSION_ID
		]]>
		</query>
	</entity>
	<entity id="getRsInfoQuery">
		<query> 
            <![CDATA[
             DECLARE 
			@RS_MODEL_SID INT = ?
			
			SELECT
				RS_ID,
				RS_NO,
				RS_NAME,
				RS_TYPE,
				REBATE_PROGRAM_TYPE,
				RS_CATEGORY,
				RS_STATUS,
				RS_DESIGNATION,
				RS_START_DATE,
				RS_END_DATE,
				RS_TRADE_CLASS,
				PARENT_RS_ID,
				PARENT_RS_NAME,
				RS_TRANS_REF_ID,
				RS_TRANS_REF_NO,
				RS_TRANS_REF_NAME,
				REBATE_RULE_TYPE,
				INTEREST_BEARING_INDICATOR,
				INTEREST_BEARING_BASIS,
				REBATE_FREQUENCY,
				PAYMENT_METHOD,
				PAYMENT_FREQUENCY,
				PAYMENT_TERMS,
				PAYMENT_GRACE_PERIOD,
				RS_CALENDAR,
				INTERNAL_NOTES,
				RS_ALIAS,
				CALCULATION_TYPE,
				CALCULATION_LEVEL,
				PAYMENT_LEVEL,
				CALCULATION_RULE,
				CALCULATION_RULE_LEVEL,
				EVALUATION_RULE_TYPE,
				EVALUATION_RULE_LEVEL,
				EVALUATION_RULE_OR_ASSOCIATION,
				DEDUCTION_INCLUSION
					FROM
				RS_MODEL
				WHERE
					RS_MODEL_SID =@RS_MODEL_SID;
			
		]]>
		</query>
	</entity>
	<entity id="getRsNoteDetailsQuery">
		<query> 
            <![CDATA[
             DECLARE 
				@MASTER_TABLE_SID INT = ?
			
			Select
				MASTER_TABLE_NAME,
				FILE_PATH,
				CREATED_DATE,
				CREATED_BY,
				MASTER_DATA_FILES_SID
			from
				MASTER_DATA_FILES
			where
				MASTER_TABLE_SID =@MASTER_TABLE_SID
				AND MASTER_TABLE_NAME = 'RS_MODEL';
		]]>
		</query>
	</entity>
	<entity id="getIfpInfoQuery">
		<query> 
            <![CDATA[
             DECLARE 
				@RS_MODEL_SID INT = ?
			
			 Select
					distinct IFP.IFP_ID,
					IFP.IFP_NO,
					IFP.IFP_NAME,
					IFP_STATUS.DESCRIPTION as IFP_STATUS,
					IFP.IFP_END_DATE,
					IFP_TYPE.DESCRIPTION as IFP_TYPE,
					IFP_CATEGORY.DESCRIPTION as IFP_CATEGORY,
					IFP.IFP_MODEL_SID
			FROM
				IFP_MODEL IFP
					LEFT JOIN HELPER_TABLE IFP_STATUS ON
						IFP_STATUS.HELPER_TABLE_SID = IFP.IFP_STATUS
					LEFT JOIN HELPER_TABLE IFP_TYPE ON
						IFP_TYPE.HELPER_TABLE_SID = IFP.IFP_TYPE
					LEFT JOIN HELPER_TABLE IFP_CATEGORY ON
						IFP_CATEGORY.HELPER_TABLE_SID = IFP.IFP_CATEGORY
					JOIN dbo.RS_DETAILS RSD ON
							RSD.IFP_MODEL_SID = IFP.IFP_MODEL_SID
					AND RSD.RS_MODEL_SID =@RS_MODEL_SID;
		]]>
		</query>
	</entity>
	<entity id="getRsEditInsertMainToTempQuery">
		<query> 
            <![CDATA[ 
			DECLARE 
			@USERS_SID VARCHAR(10) = ?,
			@SESSION_ID VARCHAR(10)=?,
			@RS_MODEL_SID INT=?
			
			INSERT
	INTO
		dbo.IMTD_RS_DETAILS(
			RS_MODEL_SID,
			ITEM_MASTER_SID,
			RS_DETAILS_ATTACHED_STATUS,
			RS_DETAILS_ATTACHED_DATE,
			MODIFIED_DATE,
			ITEM_REBATE_START_DATE,
			ITEM_REBATE_END_DATE,
			RS_DETAILS_REBATE_AMOUNT,
			RS_DETAILS_FORMULA_ID,
			IFP_MODEL_SID,
			RS_DETAILS_CREATED_BY,
			CREATED_DATE,
			RS_DETAILS_MODIFIED_BY,
			RS_DETAILS_FORMULA_METHOD_ID,
			REBATE_PLAN_MASTER_SID,
			RS_DETAILS_BUNDLE_NO,
			DEDUCTION_CALENDAR_MASTER_SID,
			NET_SALES_FORMULA_MASTER_SID,
			NET_SALES_RULE,
			EVALUATION_RULE,
			CALCULATION_RULE,
			EVALUATION_RULE_BUNDLE,
			CALCULATION_RULE_BUNDLE,
			CHECK_RECORD,
			USERS_SID,
			SESSION_ID,
			RS_DETAILS_REBATE_PLAN_NAME,
			RS_DETAILS_FORMULA_NO
		) Select
			Source.RS_MODEL_SID,
			Source.ITEM_MASTER_SID,
			Source.ITEM_RS_ATTACHED_STATUS,
			Source.ITEM_RS_ATTACHED_DATE,
			Source.MODIFIED_DATE,
			Source.ITEM_REBATE_START_DATE,
			Source.ITEM_REBATE_END_DATE,
			Source.REBATE_AMOUNT,
			Source.FORMULA_ID,
			Source.IFP_MODEL_SID,
			Source.CREATED_BY,
			Source.CREATED_DATE,
			Source.MODIFIED_BY,
			Source.FORMULA_METHOD_ID,
			Source.REBATE_PLAN_MASTER_SID,
			Source. BUNDLE_NO,
			Source.DEDUCTION_CALENDAR_MASTER_SID,
			Source.NET_SALES_FORMULA_MASTER_SID,
			Source.NET_SALES_RULE,
			Source.EVALUATION_RULE,
			Source.CALCULATION_RULE,
			Source.EVALUATION_RULE_BUNDLE,
			Source.CALCULATION_RULE_BUNDLE,
			1,
			@USERS_SID,
			@SESSION_ID,
			rpm.REBATE_PLAN_NAME,
			FF.FORMULA_NO
		from
			dbo.RS_DETAILS as Source
		LEFT JOIN dbo.REBATE_PLAN_MASTER rpm on
			rpm.REBATE_PLAN_MASTER_SID = SOURCE.REBATE_PLAN_MASTER_SID
		LEFT JOIN dbo.FORECASTING_FORMULA FF on
			FF.FORECASTING_FORMULA_SID = Source.FORMULA_ID
		WHERE
			RS_MODEL_SID = @RS_MODEL_SID;
		]]>
		</query>
	</entity>
	<entity id="getRsContractCountQuery">
		<query> 
            <![CDATA[ 
            DECLARE 
			@RS_MODEL_SID INT=?
			select count(1) from dbo.RS_CONTRACT RSC where RSC.RS_MODEL_SID=@RS_MODEL_SID ;
		]]>
		</query>
	</entity>
<entity id="getRsUdcDetailsQuery">
		<query> 
            <![CDATA[
         DECLARE @RS_MODEL_SID INT = ?

				SELECT
					UDC1,
					UDC2,
					UDC3,
					UDC4,
					UDC5,
					UDC6
				FROM
					UDCS
				WHERE
					MASTER_SID = @RS_MODEL_SID
					and MASTER_TYPE = 'RS_MODEL';
		]]>
		</query>
	</entity>
	
	<entity id="rsNotesTabAttachDetailsQuery">
		<query>
        <![CDATA[
        	DECLARE 
			@ATTACHMENT_TABLE_SID INT=?
        	
            SELECT
                   
                   AT.MASTER_TABLE_NAME,
                   AT.FILE_NAME,
                   AT.CREATED_DATE,
                   AT.CREATED_BY,
                   AT.ID,
                   AT.FILE_DATA
                    
            FROM
                    ATTACHMENT AT
            
            WHERE
                    MASTER_TABLE_NAME = 'PS_MODEL'
                    AND ATTACHMENT_TABLE_SID = @ATTACHMENT_TABLE_SID;
 ]]>
		</query>
	</entity>
	
	
	<entity id="getNotesTabAttachDeleteQuery">
		<query>
        <![CDATA[
              
        DELETE FROM ATTACHMENT WHERE ATTACHMENT_TABLE_SID =? AND MASTER_TABLE_NAME='PS_MODEL';
 		]]>
		</query>
	</entity>
	
</sql>