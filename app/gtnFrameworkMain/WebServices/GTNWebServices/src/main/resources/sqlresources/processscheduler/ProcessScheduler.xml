<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE xml>

<sql>
	<entity id="getProcessSchedulerSchedulerResults">
		<query> 
        <![CDATA[
 SELECT WP.PROCESS_DISPLAY_NAME, CASE WHEN WP.ACTIVE_FLAG='N' THEN 'Inactive' when WP.ACTIVE_FLAG='Y' THEN 'Active' ELSE '' END AS STATUS, WP.START_DATE, WP.END_DATE,\
                          WP.FREQUENCY, WP.MANUAL_LAST_RUN, WP.MODIFIED_DATE,  USR.firstName+' '+USR.lastName as MODIFIED_BY,WP.PROCESS_SID,WP.SCRIPT_NAME \
                            FROM WORKFLOW_PROFILE WP \
                          LEFT JOIN HELPER_TABLE HTF ON HTF.HELPER_TABLE_SID = WP.PROCESS_TYPE 
                          LEFT JOIN ?.dbo.User_ USR ON USR.userId = WP.MODIFIED_BY WHERE WP.MODIFIED_BY LIKE '%' AND HTF.DESCRIPTION LIKE 'Automatic' OR HTF.DESCRIPTION LIKE 'Both' OR HTF.DESCRIPTION LIKE '-Select One-' OR HTF.DESCRIPTION is null ORDER BY WP.PROCESS_NAME
        ]]>

		</query>
	</entity>


	<entity id="getProcessSchedulerManualResults">
		<query> 
        <![CDATA[
 SELECT WP.PROCESS_DISPLAY_NAME, MANUAL_LAST_RUN,SCRIPT_NAME\
                            FROM WORKFLOW_PROFILE WP \
                          LEFT JOIN HELPER_TABLE HTF ON HTF.HELPER_TABLE_SID = WP.PROCESS_TYPE 
                 WHERE HTF.DESCRIPTION LIKE 'Manual' OR HTF.DESCRIPTION LIKE 'Both' OR HTF.DESCRIPTION LIKE '-Select One-' OR HTF.DESCRIPTION is null 
                 AND WP.PROCESS_NAME not in (SELECT DESCRIPTION from HELPER_TABLE where LIST_NAME like 'File_Type') ORDER BY WP.PROCESS_NAME      
        ]]>

		</query>
	</entity>


	<entity id="getProcessSchedulerCount">
		<query> 
        <![CDATA[
SELECT count(*) FROM WORKFLOW_PROFILE WP \
                          LEFT JOIN HELPER_TABLE HTF ON HTF.HELPER_TABLE_SID = WP.PROCESS_TYPE 
]]>
		</query>
	</entity>



</sql>