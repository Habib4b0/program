/*START OF COMPANY FOREIGN KEY INFORMATION*/
----------------- COMPANY_TYPE REFERENCE FROM HELPER TABLE -------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'COMPANY_MASTER'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_COMPANY_MASTER_HELPER_TABLE_COMPANY_TYPE'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE COMPANY_MASTER
        ADD CONSTRAINT FK_COMPANY_MASTER_HELPER_TABLE_COMPANY_TYPE FOREIGN KEY(COMPANY_TYPE) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

----------------- COMPANY_STATUS REFERENCE FROM HELPER TABLE -------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'COMPANY_MASTER'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_COMPANY_MASTER_HELPER_TABLE_COMPANY_STATUS'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE COMPANY_MASTER
        ADD CONSTRAINT FK_COMPANY_MASTER_HELPER_TABLE_COMPANY_STATUS FOREIGN KEY(COMPANY_STATUS) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

----------------- COMPANY_CATEGORY REFERENCE FROM HELPER TABLE -------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'COMPANY_MASTER'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_COMPANY_MASTER_HELPER_TABLE_COMPANY_CATEGORY'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE COMPANY_MASTER
        ADD CONSTRAINT FK_COMPANY_MASTER_HELPER_TABLE_COMPANY_CATEGORY FOREIGN KEY(COMPANY_CATEGORY) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

----------------- COUNTRY REFERENCE FROM HELPER TABLE -------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'COMPANY_MASTER'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_COMPANY_MASTER_HELPER_TABLE_COUNTRY'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE COMPANY_MASTER
        ADD CONSTRAINT FK_COMPANY_MASTER_HELPER_TABLE_COUNTRY FOREIGN KEY(COUNTRY) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

----------------- STATE REFERENCE FROM HELPER TABLE -------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'COMPANY_MASTER'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_COMPANY_MASTER_HELPER_TABLE_STATE'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE COMPANY_MASTER
        ADD CONSTRAINT FK_COMPANY_MASTER_HELPER_TABLE_STATE FOREIGN KEY(STATE) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

----------------- ORGANIZATION_KEY REFERENCE FROM HELPER TABLE -------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'COMPANY_MASTER'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_COMPANY_MASTER_HELPER_TABLE_ORGANIZATION_KEY'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE COMPANY_MASTER
        ADD CONSTRAINT FK_COMPANY_MASTER_HELPER_TABLE_ORGANIZATION_KEY FOREIGN KEY(ORGANIZATION_KEY) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

----------------- COMPANY_GROUP REFERENCE FROM HELPER TABLE -------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'COMPANY_MASTER'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_COMPANY_MASTER_HELPER_TABLE_COMPANY_GROUP'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE COMPANY_MASTER
        ADD CONSTRAINT FK_COMPANY_MASTER_HELPER_TABLE_COMPANY_GROUP FOREIGN KEY(COMPANY_GROUP) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

----------------- COMPANY_TRADE_CLASS -----------------------------------------
----------------- COMPANY_TRADE_CLASS REFERENCE FROM COMPANY_MASTER TABLE -------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'COMPANY_TRADE_CLASS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_COMPANY_TRADE_CLASS_COMPANY_MASTER_SID'
                     AND TYPE = 'F')
  BEGIN

  ALTER TABLE [DBO].[COMPANY_TRADE_CLASS]
    ADD CONSTRAINT FK_COMPANY_TRADE_CLASS_COMPANY_MASTER_SID FOREIGN KEY(COMPANY_MASTER_SID) REFERENCES COMPANY_MASTER(COMPANY_MASTER_SID)
 END

GO

----------------- COMPANY_TRADE_CLASS REFERENCE FROM HELPER TABLE -------------------------
IF EXISTS(SELECT 1
          FROM   SYS.FOREIGN_KEYS
          WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'COMPANY_TRADE_CLASS'
                 AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                 AND NAME = 'FK_COMPANY_TRADE_CLASS_HELPER_TABLE_TRADE_CLASS'
                 AND TYPE = 'F')
  BEGIN
      ALTER TABLE COMPANY_TRADE_CLASS
        DROP CONSTRAINT FK_COMPANY_TRADE_CLASS_HELPER_TABLE_TRADE_CLASS
  END

GO

IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'COMPANY_TRADE_CLASS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_COMPANY_TRADE_CLASS_HELPER_TABLE_COMPANY_TRADE_CLASS'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE COMPANY_TRADE_CLASS
        ADD CONSTRAINT FK_COMPANY_TRADE_CLASS_HELPER_TABLE_COMPANY_TRADE_CLASS FOREIGN KEY(COMPANY_TRADE_CLASS) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

----------------- PRIOR_TRADE_CLASS REFERENCE FROM HELPER TABLE -------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'COMPANY_TRADE_CLASS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_COMPANY_TRADE_CLASS_HELPER_TABLE_PRIOR_TRADE_CLASS'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE COMPANY_TRADE_CLASS
        ADD CONSTRAINT FK_COMPANY_TRADE_CLASS_HELPER_TABLE_PRIOR_TRADE_CLASS FOREIGN KEY(PRIOR_TRADE_CLASS) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

------------------ COMPANY_IDENTIFIER ---------------------------------------------------
----------------- COMPANY_MASTER_SID REFERENCE FROM COMPANY_MASTER TABLE -------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'COMPANY_IDENTIFIER'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_COMPANY_IDENTIFIER_COMPANY_MASTER_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].[COMPANY_IDENTIFIER]
        ADD CONSTRAINT FK_COMPANY_IDENTIFIER_COMPANY_MASTER_SID FOREIGN KEY(COMPANY_MASTER_SID) REFERENCES COMPANY_MASTER(COMPANY_MASTER_SID)
  END

GO

----------------- COMPANY_QUALIFIER_SID REFERENCE FROM COMPANY_QUALIFIER TABLE -------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'COMPANY_IDENTIFIER'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_COMPANY_IDENTIFIER_COMPANY_QUALIFIER_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].[COMPANY_IDENTIFIER]
        ADD CONSTRAINT FK_COMPANY_IDENTIFIER_COMPANY_QUALIFIER_SID FOREIGN KEY([COMPANY_QUALIFIER_SID]) REFERENCES COMPANY_QUALIFIER([COMPANY_QUALIFIER_SID])
  END

GO

----------------- IDENTIFIER_STATUS REFERENCE FROM HELPER TABLE -------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'COMPANY_IDENTIFIER'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_COMPANY_IDENTIFIER_HELPER_TABLE_IDENTIFIER_STATUS'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE COMPANY_IDENTIFIER
        ADD CONSTRAINT FK_COMPANY_IDENTIFIER_HELPER_TABLE_IDENTIFIER_STATUS FOREIGN KEY(IDENTIFIER_STATUS) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

------------------ COMPANY_PARENT_DETAILS ---------------------------------------------------
----------------- COMPANY_MASTER_SID REFERENCE FROM COMPANY_MASTER TABLE -------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'COMPANY_PARENT_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_COMPANY_PARENT_DETAILS_COMPANY_MASTER_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].[COMPANY_PARENT_DETAILS]
        ADD CONSTRAINT FK_COMPANY_PARENT_DETAILS_COMPANY_MASTER_SID FOREIGN KEY(COMPANY_MASTER_SID) REFERENCES COMPANY_MASTER(COMPANY_MASTER_SID)
  END

GO

----------------- PARENT_COMPANY_MASTER_SID REFERENCE FROM COMPANY_MASTER TABLE -------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'COMPANY_PARENT_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_COMPANY_PARENT_DETAILS_PARENT_COMPANY_MASTER_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].[COMPANY_PARENT_DETAILS]
        ADD CONSTRAINT FK_COMPANY_PARENT_DETAILS_PARENT_COMPANY_MASTER_SID FOREIGN KEY(PARENT_COMPANY_MASTER_SID) REFERENCES COMPANY_MASTER(COMPANY_MASTER_SID)
  END

GO

----------------- PRIOR_PARENT_CMPY_MASTER_SID REFERENCE FROM COMPANY_MASTER TABLE -------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'COMPANY_PARENT_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_COMPANY_PARENT_DETAILS_PRIOR_PARENT_CMPY_MASTER_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].[COMPANY_PARENT_DETAILS]
        ADD CONSTRAINT FK_COMPANY_PARENT_DETAILS_PRIOR_PARENT_CMPY_MASTER_SID FOREIGN KEY(PRIOR_PARENT_CMPY_MASTER_SID) REFERENCES COMPANY_MASTER(COMPANY_MASTER_SID)
  END

GO

/*END OF COMPANY FOREIGN KEY INFORMATION*/
/*START OF ITEMS FOREIGN KEY INFORMATION*/
------------------------ PACKAGE_SIZE REFERENCE FROM HELPER TABLE --------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'ITEM_MASTER'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_ITEM_MASTER_HELPER_TABLE_PACKAGE_SIZE'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE ITEM_MASTER
        ADD CONSTRAINT FK_ITEM_MASTER_HELPER_TABLE_PACKAGE_SIZE FOREIGN KEY(PACKAGE_SIZE) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

------------------------ BRAND_MASTER_SID REFERENCE FROM BRAND_MASTER TABLE --------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'ITEM_MASTER'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_ITEM_MASTER_BRAND_MASTER_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].[ITEM_MASTER]
        ADD CONSTRAINT FK_ITEM_MASTER_BRAND_MASTER_SID FOREIGN KEY(BRAND_MASTER_SID) REFERENCES BRAND_MASTER(BRAND_MASTER_SID)
  END

GO

------------------------ ITEM_TYPE REFERENCE FROM HELPER TABLE --------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'ITEM_MASTER'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_ITEM_MASTER_HELPER_TABLE_ITEM_TYPE'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE ITEM_MASTER
        ADD CONSTRAINT FK_ITEM_MASTER_HELPER_TABLE_ITEM_TYPE FOREIGN KEY(ITEM_TYPE) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

------------------------ SHELF_LIFE_TYPE REFERENCE FROM HELPER TABLE --------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'ITEM_MASTER'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_ITEM_MASTER_HELPER_TABLE_SHELF_LIFE_TYPE'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE ITEM_MASTER
        ADD CONSTRAINT FK_ITEM_MASTER_HELPER_TABLE_SHELF_LIFE_TYPE FOREIGN KEY(SHELF_LIFE_TYPE) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

------------------------ ITEM_STATUS REFERENCE FROM HELPER TABLE --------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'ITEM_MASTER'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_ITEM_MASTER_HELPER_TABLE_ITEM_STATUS'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE ITEM_MASTER
        ADD CONSTRAINT FK_ITEM_MASTER_HELPER_TABLE_ITEM_STATUS FOREIGN KEY(ITEM_STATUS) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

------------------------ FORM REFERENCE FROM HELPER TABLE --------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'ITEM_MASTER'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_ITEM_MASTER_HELPER_TABLE_FORM'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE ITEM_MASTER
        ADD CONSTRAINT FK_ITEM_MASTER_HELPER_TABLE_FORM FOREIGN KEY(FORM) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

------------------------ ITEM_CATEGORY REFERENCE FROM HELPER TABLE --------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'ITEM_MASTER'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_ITEM_MASTER_HELPER_TABLE_ITEM_CATEGORY'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE ITEM_MASTER
        ADD CONSTRAINT FK_ITEM_MASTER_HELPER_TABLE_ITEM_CATEGORY FOREIGN KEY(ITEM_CATEGORY) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

------------------------ THERAPEUTIC_CLASS REFERENCE FROM HELPER TABLE --------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'ITEM_MASTER'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_ITEM_MASTER_HELPER_TABLE_THERAPEUTIC_CLASS'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE ITEM_MASTER
        ADD CONSTRAINT FK_ITEM_MASTER_HELPER_TABLE_THERAPEUTIC_CLASS FOREIGN KEY(THERAPEUTIC_CLASS) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

------------------------ ITEM_CLASS REFERENCE FROM HELPER TABLE --------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'ITEM_MASTER'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_ITEM_MASTER_HELPER_TABLE_ITEM_CLASS'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE ITEM_MASTER
        ADD CONSTRAINT FK_ITEM_MASTER_HELPER_TABLE_ITEM_CLASS FOREIGN KEY(ITEM_CLASS) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

------------------------ PRIMARY_UOM REFERENCE FROM HELPER TABLE --------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'ITEM_MASTER'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_ITEM_MASTER_HELPER_TABLE_PRIMARY_UOM'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE ITEM_MASTER
        ADD CONSTRAINT FK_ITEM_MASTER_HELPER_TABLE_PRIMARY_UOM FOREIGN KEY(PRIMARY_UOM) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

------------------------ SECONDARY_UOM REFERENCE FROM HELPER TABLE --------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'ITEM_MASTER'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_ITEM_MASTER_HELPER_TABLE_SECONDARY_UOM'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE ITEM_MASTER
        ADD CONSTRAINT FK_ITEM_MASTER_HELPER_TABLE_SECONDARY_UOM FOREIGN KEY(SECONDARY_UOM) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

------------------------ STRENGTH REFERENCE FROM HELPER TABLE --------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'ITEM_MASTER'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_ITEM_MASTER_HELPER_TABLE_STRENGTH'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE ITEM_MASTER
        ADD CONSTRAINT FK_ITEM_MASTER_HELPER_TABLE_STRENGTH FOREIGN KEY(STRENGTH) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

------------------------ ITEM_TYPE_INDICATION FROM HELPER TABLE --------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'ITEM_MASTER'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_ITEM_MASTER_HELPER_TABLE_ITEM_TYPE_INDICATION'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE ITEM_MASTER
        ADD CONSTRAINT FK_ITEM_MASTER_HELPER_TABLE_ITEM_TYPE_INDICATION FOREIGN KEY(ITEM_TYPE_INDICATION) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

------------------------ ITEM IDENTIFIER ------------------------------------------
------------------------ ITEM_MASTER_SID REFERENCE FROM ITEM_MASTER TABLE --------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'ITEM_IDENTIFIER'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_ITEM_IDENTIFIER_ITEM_MASTER_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].[ITEM_IDENTIFIER]
        ADD CONSTRAINT FK_ITEM_IDENTIFIER_ITEM_MASTER_SID FOREIGN KEY(ITEM_MASTER_SID) REFERENCES ITEM_MASTER(ITEM_MASTER_SID)
  END

GO

------------------------ ITEM_QUALIFIER_SID REFERENCE FROM ITEM_QUALIFIER TABLE --------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'ITEM_IDENTIFIER'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_ITEM_IDENTIFIER_ITEM_QUALIFIER_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].[ITEM_IDENTIFIER]
        ADD CONSTRAINT FK_ITEM_IDENTIFIER_ITEM_QUALIFIER_SID FOREIGN KEY([ITEM_QUALIFIER_SID]) REFERENCES ITEM_QUALIFIER([ITEM_QUALIFIER_SID])
  END

GO

------------------------ IDENTIFIER_STATUS REFERENCE FROM HELPER TABLE --------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'ITEM_IDENTIFIER'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_ITEM_IDENTIFIER_HELPER_TABLE_IDENTIFIER_STATUS'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE ITEM_IDENTIFIER
        ADD CONSTRAINT FK_ITEM_IDENTIFIER_HELPER_TABLE_IDENTIFIER_STATUS FOREIGN KEY(IDENTIFIER_STATUS) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

------------------------- ITEM PRICING -----------------------------------------------------
------------------------ ITEM_PRICING_QUALIFIER_SID REFERENCE FROM ITEM_PRICING_QUALLIFIER TABLE --------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'ITEM_PRICING'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_ITEM_PRICING_ITEM_PRICING_QUALIFIER_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE ITEM_PRICING
        ADD CONSTRAINT FK_ITEM_PRICING_ITEM_PRICING_QUALIFIER_SID FOREIGN KEY(ITEM_PRICING_QUALIFIER_SID) REFERENCES ITEM_PRICING_QUALIFIER (ITEM_PRICING_QUALIFIER_SID)
  END

GO

------------------------ ITEM_MASTER_SID REFERENCE FROM ITEM_MASTER TABLE --------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'ITEM_PRICING'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_ITEM_PRICING_ITEM_MASTER_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].[ITEM_PRICING]
        ADD CONSTRAINT FK_ITEM_PRICING_ITEM_MASTER_SID FOREIGN KEY(ITEM_MASTER_SID) REFERENCES ITEM_MASTER(ITEM_MASTER_SID)
  END

GO

------------------------ PRICING_CODE_STATUS REFERENCE FROM HELPER TABLE --------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'ITEM_PRICING'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_ITEM_PRICING_HELPER_TABLE_PRICING_CODE_STATUS'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE ITEM_PRICING
        ADD CONSTRAINT FK_ITEM_PRICING_HELPER_TABLE_PRICING_CODE_STATUS FOREIGN KEY(PRICING_CODE_STATUS) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

------------------------ ITEM_UOM REFERENCE FROM HELPER TABLE --------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'ITEM_PRICING'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_ITEM_PRICING_HELPER_TABLE_ITEM_UOM'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE ITEM_PRICING
        ADD CONSTRAINT FK_ITEM_PRICING_HELPER_TABLE_ITEM_UOM FOREIGN KEY(ITEM_UOM) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

/*END OF ITEMS FOREIGN KEY INFORMATION*/
/*START OF COMPANY FAMILY PLAN FOREIGN KEY INFORMATION*/
----------------------------CFP MODEL -------------------------------
---------------------------- CFP_TYPE REFERENCE FROM HELPER TABLE --------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'CFP_MODEL'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_CFP_MODEL_HELPER_TABLE_CFP_TYPE'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE CFP_MODEL
        ADD CONSTRAINT FK_CFP_MODEL_HELPER_TABLE_CFP_TYPE FOREIGN KEY(CFP_TYPE) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

---------------------------- CFP_STATUS REFERENCE FROM HELPER TABLE --------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'CFP_MODEL'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_CFP_MODEL_HELPER_TABLE_CFP_STATUS'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE CFP_MODEL
        ADD CONSTRAINT FK_CFP_MODEL_HELPER_TABLE_CFP_STATUS FOREIGN KEY(CFP_STATUS) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

---------------------------- CFP_CATEGORY REFERENCE FROM HELPER TABLE --------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'CFP_MODEL'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_CFP_MODEL_HELPER_TABLE_CFP_CATEGORY'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE CFP_MODEL
        ADD CONSTRAINT FK_CFP_MODEL_HELPER_TABLE_CFP_CATEGORY FOREIGN KEY(CFP_CATEGORY) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

---------------------------- CFP_TRADE_CLASS REFERENCE FROM HELPER TABLE --------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'CFP_MODEL'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_CFP_MODEL_HELPER_TABLE_CFP_TRADE_CLASS'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE CFP_MODEL
        ADD CONSTRAINT FK_CFP_MODEL_HELPER_TABLE_CFP_TRADE_CLASS FOREIGN KEY(CFP_TRADE_CLASS) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

----------------------------------- CFP DETAILS ---------------------------------------
---------------------------------- CFP_MODEL_SID REFERENCE FROM CFP_MODEL TABLE ------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'CFP_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_CFP_DETAILS_CFP_MODEL_CFP_MODEL_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE CFP_DETAILS
        ADD CONSTRAINT FK_CFP_DETAILS_CFP_MODEL_CFP_MODEL_SID FOREIGN KEY(CFP_MODEL_SID) REFERENCES CFP_MODEL(CFP_MODEL_SID)
  END

GO

---------------------------------- COMPANY_MASTER_SID REFERENCE FROM COMPANY_MASTER TABLE ------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'CFP_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_CFP_DETAILS_COMPANY_MASTER_COMPANY_MASTER_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE CFP_DETAILS
        ADD CONSTRAINT FK_CFP_DETAILS_COMPANY_MASTER_COMPANY_MASTER_SID FOREIGN KEY(COMPANY_MASTER_SID) REFERENCES COMPANY_MASTER(COMPANY_MASTER_SID)
  END

GO

---------------------------------- COMPANY_CFP_ATTACHED_STATUS REFERENCE FROM HELPER TABLE ------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'CFP_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_CFP_DETAILS_HELPER_TABLE_COMPANY_CFP_ATTACHED_STATUS'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE CFP_DETAILS
        ADD CONSTRAINT FK_CFP_DETAILS_HELPER_TABLE_COMPANY_CFP_ATTACHED_STATUS FOREIGN KEY(COMPANY_CFP_ATTACHED_STATUS) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

---------------------------------- TRADE_CLASS REFERENCE FROM HELPER TABLE ------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
             WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'CFP_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_CFP_DETAILS_HELPER_TABLE_TRADE_CLASS'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE CFP_DETAILS
        ADD CONSTRAINT FK_CFP_DETAILS_HELPER_TABLE_TRADE_CLASS FOREIGN KEY(TRADE_CLASS) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

/*END OF COMPANY FAMILY PLAN FOREIGN KEY INFORMATION*/
/*START OF ITEM FAMILY PLAN FOREIGN KEY INFORMATION*/
--------------------------------- IFP MODEL -----------------------------------------
--------------------------------- IFP_TYPE REFERENCE FROM HELPER TABLE -----------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'IFP_MODEL'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_IFP_MODEL_HELPER_TABLE_IFP_TYPE'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE IFP_MODEL
        ADD CONSTRAINT FK_IFP_MODEL_HELPER_TABLE_IFP_TYPE FOREIGN KEY(IFP_TYPE) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

--------------------------------- IFP_STATUS REFERENCE FROM HELPER TABLE -----------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'IFP_MODEL'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_IFP_MODEL_HELPER_TABLE_IFP_STATUS'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE IFP_MODEL
        ADD CONSTRAINT FK_IFP_MODEL_HELPER_TABLE_IFP_STATUS FOREIGN KEY(IFP_STATUS) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

--------------------------------- IFP_CATEGORY REFERENCE FROM HELPER TABLE -----------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'IFP_MODEL'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_IFP_MODEL_HELPER_TABLE_IFP_CATEGORY'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE IFP_MODEL
        ADD CONSTRAINT FK_IFP_MODEL_HELPER_TABLE_IFP_CATEGORY FOREIGN KEY(IFP_CATEGORY) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

-------------------------------------IFP_DESIGNATION REFERENCE FROM HELPER TABLE -----------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'IFP_MODEL'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_IFP_MODEL_HELPER_TABLE_IFP_DESIGNATION'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE IFP_MODEL
        ADD CONSTRAINT FK_IFP_MODEL_HELPER_TABLE_IFP_DESIGNATION FOREIGN KEY(IFP_DESIGNATION) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

--------------------------------------------- IFP DETAILS ----------------------------------------
------------------------------------ IFP_MODEL_SID REFERENCE FROM IFP_MODEL TABLE ---------------------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'IFP_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_IFP_DETAILS_IFP_MODEL_IFP_MODEL_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].[IFP_DETAILS]
        ADD CONSTRAINT FK_IFP_DETAILS_IFP_MODEL_IFP_MODEL_SID FOREIGN KEY(IFP_MODEL_SID) REFERENCES IFP_MODEL(IFP_MODEL_SID)
  END

GO

------------------------------------ ITEM_MASTER_SID REFERENCE FROM ITEM_MASTER TABLE ---------------------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'IFP_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_IFP_DETAILS_ITEM_MASTER_ITEM_MASTER_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].[IFP_DETAILS]
        ADD CONSTRAINT FK_IFP_DETAILS_ITEM_MASTER_ITEM_MASTER_SID FOREIGN KEY(ITEM_MASTER_SID) REFERENCES ITEM_MASTER(ITEM_MASTER_SID)
  END

GO

------------------------------------ ITEM_IFP_ATTACHED_STATUS REFERENCE FROM HELPER TABLE ---------------------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'IFP_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_IFP_DETAILS_HELPER_TABLE_ITEM_IFP_ATTACHED_STATUS'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE IFP_DETAILS
        ADD CONSTRAINT FK_IFP_DETAILS_HELPER_TABLE_ITEM_IFP_ATTACHED_STATUS FOREIGN KEY(ITEM_IFP_ATTACHED_STATUS) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

/*END OF ITEM FAMILY PLAN FOREIGN KEY INFORMATION*/
/*START OF PRICE SCHEDULE FOREIGN KEY INFORMATION*/
---------------------------------------- PS MODEL --------------------------------------------------
---------------------------------------- PS_TYPE REFERENCE FROM HELPER TABLE -----------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'PS_MODEL'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_PS_MODEL_HELPER_TABLE_PS_TYPE'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE PS_MODEL
        ADD CONSTRAINT FK_PS_MODEL_HELPER_TABLE_PS_TYPE FOREIGN KEY(PS_TYPE) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

--------------------------------------- PS_STATUS REFERENCE FROM HELPER TABLE ----------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'PS_MODEL'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_PS_MODEL_HELPER_TABLE_PS_STATUS'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE PS_MODEL
        ADD CONSTRAINT FK_PS_MODEL_HELPER_TABLE_PS_STATUS FOREIGN KEY(PS_STATUS) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

--------------------------------------- PS_CATEGORY REFERENCE FROM HELPER TABLE ----------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'PS_MODEL'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_PS_MODEL_HELPER_TABLE_PS_CATEGORY'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE PS_MODEL
        ADD CONSTRAINT FK_PS_MODEL_HELPER_TABLE_PS_CATEGORY FOREIGN KEY(PS_CATEGORY) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

--------------------------------------- PS_TRADE_CLASS REFERENCE FROM HELPER TABLE ----------------------
IF EXISTS(SELECT 1
          FROM   SYS.FOREIGN_KEYS
          WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'PS_MODEL'
                 AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                 AND NAME = 'FK_PS_MODEL_HELPER_TABLE_TRADE_CLASS'
                 AND TYPE = 'F')
  BEGIN
      ALTER TABLE PS_MODEL
        DROP CONSTRAINT FK_PS_MODEL_HELPER_TABLE_TRADE_CLASS
  END

GO

IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'PS_MODEL'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_PS_MODEL_HELPER_TABLE_PS_TRADE_CLASS'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE PS_MODEL
        ADD CONSTRAINT FK_PS_MODEL_HELPER_TABLE_PS_TRADE_CLASS FOREIGN KEY(PS_TRADE_CLASS) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

--------------------------------------- PS_DESIGNATION REFERENCE FROM HELPER TABLE ----------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'PS_MODEL'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_PS_MODEL_HELPER_TABLE_PS_DESIGNATION'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE PS_MODEL
        ADD CONSTRAINT FK_PS_MODEL_HELPER_TABLE_PS_DESIGNATION FOREIGN KEY(PS_DESIGNATION) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

------------------------------------------------- PS DETAILS -------------------------------------------
-------------------------------------------- PS_MODEL_SID REFERENCE FROM PS_MODEL TABLE ------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'PS_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_PS_DETAILS_PS_MODEL_PS_MODEL_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].[PS_DETAILS]
        ADD CONSTRAINT FK_PS_DETAILS_PS_MODEL_PS_MODEL_SID FOREIGN KEY(PS_MODEL_SID) REFERENCES PS_MODEL(PS_MODEL_SID)
  END

GO

-------------------------------------------- IFP_MODEL_SID REFERENCE FROM IFP_MODEL TABLE ------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'PS_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_PS_DETAILS_IFP_MASTER_IFP_MODEL_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].[PS_DETAILS]
        ADD CONSTRAINT FK_PS_DETAILS_IFP_MASTER_IFP_MODEL_SID FOREIGN KEY(IFP_MODEL_SID) REFERENCES IFP_MODEL(IFP_MODEL_SID)
  END

GO

IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'PS_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_PS_DETAILS_HELPER_TABLE_PRICE_TOLERANCE_INTERVAL'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE PS_DETAILS
        ADD CONSTRAINT FK_PS_DETAILS_HELPER_TABLE_PRICE_TOLERANCE_INTERVAL FOREIGN KEY(PRICE_TOLERANCE_INTERVAL) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

-------------------------------------------- ITEM_MASTER_SID REFERENCE FROM ITEM_MASTER TABLE ------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'PS_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_PS_DETAILS_ITEM_MASTER_ITEM_MASTER_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].[PS_DETAILS]
        ADD CONSTRAINT FK_PS_DETAILS_ITEM_MASTER_ITEM_MASTER_SID FOREIGN KEY(ITEM_MASTER_SID) REFERENCES ITEM_MASTER(ITEM_MASTER_SID)
  END

GO

-------------------------------------------- ITEM_PRICING_QUALIFIER_SID REFERENCE FROM ITEM_PRICING_QUALIFIER TABLE ------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'PS_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_PS_DETAILS_ITEM_PRICING_QUALIFIER_ITEM_PRICING_QUALIFIER_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].[PS_DETAILS]
        ADD CONSTRAINT FK_PS_DETAILS_ITEM_PRICING_QUALIFIER_ITEM_PRICING_QUALIFIER_SID FOREIGN KEY(ITEM_PRICING_QUALIFIER_SID) REFERENCES ITEM_PRICING_QUALIFIER(ITEM_PRICING_QUALIFIER_SID)
  END

GO

-------------------------------------------- PRICE_TOLERANCE_TYPE REFERENCE FROM HELPER_TABLE TABLE ------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'PS_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_PS_DETAILS_HELPER_TABLE_PRICE_TOLERANCE_TYPE'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE PS_DETAILS
        ADD CONSTRAINT FK_PS_DETAILS_HELPER_TABLE_PRICE_TOLERANCE_TYPE FOREIGN KEY(PRICE_TOLERANCE_TYPE) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

-------------------------------------------- ITEM_PS_ATTACHED_STATUS REFERENCE FROM HELPER_TABLE TABLE ------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'PS_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_PS_DETAILS_HELPER_TABLE_ITEM_PS_ATTACHED_STATUS'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE PS_DETAILS
        ADD CONSTRAINT FK_PS_DETAILS_HELPER_TABLE_ITEM_PS_ATTACHED_STATUS FOREIGN KEY(ITEM_PS_ATTACHED_STATUS) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

-------------------------------------------- PRICE_TOLERANCE_FREQUENCY REFERENCE FROM HELPER_TABLE TABLE ------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'PS_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_PS_DETAILS_HELPER_TABLE_PRICE_TOLERANCE_FREQUENCY'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE PS_DETAILS
        ADD CONSTRAINT FK_PS_DETAILS_HELPER_TABLE_PRICE_TOLERANCE_FREQUENCY FOREIGN KEY(PRICE_TOLERANCE_FREQUENCY) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'PS_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_PS_DETAILS_HELPER_TABLE_STATUS'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE PS_DETAILS
        ADD CONSTRAINT FK_PS_DETAILS_HELPER_TABLE_STATUS FOREIGN KEY(STATUS) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'PS_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_PS_DETAILS_HELPER_TABLE_PRICE_PROTECTION_STATUS'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE PS_DETAILS
        ADD CONSTRAINT FK_PS_DETAILS_HELPER_TABLE_PRICE_PROTECTION_STATUS FOREIGN KEY(PRICE_PROTECTION_STATUS) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'PS_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_PS_DETAILS_HELPER_TABLE_RESET_TYPE'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE PS_DETAILS
        ADD CONSTRAINT FK_PS_DETAILS_HELPER_TABLE_RESET_TYPE FOREIGN KEY(RESET_TYPE) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'PS_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_PS_DETAILS_HELPER_TABLE_RESET_INTERVAL'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE PS_DETAILS
        ADD CONSTRAINT FK_PS_DETAILS_HELPER_TABLE_RESET_INTERVAL FOREIGN KEY(RESET_INTERVAL) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'PS_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_PS_DETAILS_HELPER_TABLE_RESET_FREQUENCY'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE PS_DETAILS
        ADD CONSTRAINT FK_PS_DETAILS_HELPER_TABLE_RESET_FREQUENCY FOREIGN KEY(RESET_FREQUENCY) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'PS_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_PS_DETAILS_HELPER_TABLE_BRAND_MASTER_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE PS_DETAILS
        ADD CONSTRAINT FK_PS_DETAILS_HELPER_TABLE_BRAND_MASTER_SID FOREIGN KEY(BRAND_MASTER_SID) REFERENCES BRAND_MASTER(BRAND_MASTER_SID)
  END

GO



IF NOT EXISTS (
              SELECT 1
              FROM SYS.FOREIGN_KEYS
              WHERE OBJECT_NAME(PARENT_OBJECT_ID) = 'PS_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_PS_DETAILS_HELPER_TABLE_NET_BASE_PRICE'
                     AND TYPE = 'F'
              )
BEGIN

       ALTER TABLE PS_DETAILS 
	   ADD CONSTRAINT FK_PS_DETAILS_HELPER_TABLE_NET_BASE_PRICE FOREIGN KEY (NET_BASE_PRICE) REFERENCES HELPER_TABLE (HELPER_TABLE_SID)

END

GO

IF NOT EXISTS (
              SELECT 1
              FROM SYS.FOREIGN_KEYS
              WHERE OBJECT_NAME(PARENT_OBJECT_ID) = 'PS_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_PS_DETAILS_HELPER_TABLE_NET_SUBSEQUENT_PERIOD_PRICE'
                     AND TYPE = 'F'
              )
BEGIN
       ALTER TABLE PS_DETAILS 
	   ADD CONSTRAINT FK_PS_DETAILS_HELPER_TABLE_NET_SUBSEQUENT_PERIOD_PRICE FOREIGN KEY (NET_SUBSEQUENT_PERIOD_PRICE) REFERENCES HELPER_TABLE (HELPER_TABLE_SID)
END

GO

IF NOT EXISTS (
              SELECT 1
              FROM SYS.FOREIGN_KEYS
              WHERE OBJECT_NAME(PARENT_OBJECT_ID) = 'PS_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_PS_DETAILS_HELPER_TABLE_NET_RESET_PRICE_TYPE'
                     AND TYPE = 'F'
              )
BEGIN
       ALTER TABLE PS_DETAILS 
	   ADD CONSTRAINT FK_PS_DETAILS_HELPER_TABLE_NET_RESET_PRICE_TYPE FOREIGN KEY (NET_RESET_PRICE_TYPE) REFERENCES HELPER_TABLE (HELPER_TABLE_SID)

END

GO

/*END OF PRICE SCHEDULE FOREIGN KEY INFORMATION*/
/*START OF REBATE PLAN FOREIGN KEY INFORMATION*/
-------------------------------------- REBATE PLAN MASTER ------------------------------------------
-------------------------------------- FORMULA_TYPE REFERENCE FROM HELPER TABLE --------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'REBATE_PLAN_MASTER'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_REBATE_PLAN_MASTER_HELPER_TABLE_HELPER_TABLE_SID'
                     AND TYPE = 'F')
  BEGIN

      ALTER TABLE REBATE_PLAN_MASTER
        ADD CONSTRAINT FK_REBATE_PLAN_MASTER_HELPER_TABLE_HELPER_TABLE_SID FOREIGN KEY(FORMULA_TYPE) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

-------------------------------------- REBATE_PLAN_TYPE REFERENCE FROM HELPER TABLE --------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'REBATE_PLAN_MASTER'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_REBATE_PLAN_MASTER_HELPER_TABLE_REBATE_PLAN_TYPE'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE REBATE_PLAN_MASTER
        ADD CONSTRAINT FK_REBATE_PLAN_MASTER_HELPER_TABLE_REBATE_PLAN_TYPE FOREIGN KEY(REBATE_PLAN_TYPE) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

-------------------------------------- REBATE_PLAN_STATUS REFERENCE FROM HELPER TABLE --------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'REBATE_PLAN_MASTER'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_REBATE_PLAN_MASTER_HELPER_TABLE_REBATE_PLAN_STATUS'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE REBATE_PLAN_MASTER
        ADD CONSTRAINT FK_REBATE_PLAN_MASTER_HELPER_TABLE_REBATE_PLAN_STATUS FOREIGN KEY(REBATE_PLAN_STATUS) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

-------------------------------------- REBATE_RANGE_BASED_ON REFERENCE FROM HELPER TABLE --------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'REBATE_PLAN_MASTER'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_REBATE_PLAN_MASTER_HELPER_TABLE_REBATE_RANGE_BASED_ON'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE REBATE_PLAN_MASTER
        ADD CONSTRAINT FK_REBATE_PLAN_MASTER_HELPER_TABLE_REBATE_RANGE_BASED_ON FOREIGN KEY(REBATE_RANGE_BASED_ON) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

-------------------------------------- REBATE_BASED_ON REFERENCE FROM HELPER TABLE ---------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'REBATE_PLAN_MASTER'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_REBATE_PLAN_MASTER_HELPER_TABLE_REBATE_BASED_ON'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE REBATE_PLAN_MASTER
        ADD CONSTRAINT FK_REBATE_PLAN_MASTER_HELPER_TABLE_REBATE_BASED_ON FOREIGN KEY(REBATE_BASED_ON) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

-------------------------------------- REBATE_STRUCTURE REFERENCE FROM HELPER TABLE ---------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'REBATE_PLAN_MASTER'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_REBATE_PLAN_MASTER_HELPER_TABLE_REBATE_STRUCTURE'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE REBATE_PLAN_MASTER
        ADD CONSTRAINT FK_REBATE_PLAN_MASTER_HELPER_TABLE_REBATE_STRUCTURE FOREIGN KEY(REBATE_STRUCTURE) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

-------------------------------------- NET_SALES_FORMULA_MASTER_SID REFERENCE FROM NET_SALES_FORMULA_MASTER ---------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'REBATE_PLAN_MASTER'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_REBATE_PLAN_MASTER_NET_SALES_FORMULA_MASTER_NET_SALES_FORMULA_MASTER_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].REBATE_PLAN_MASTER
        ADD CONSTRAINT FK_REBATE_PLAN_MASTER_NET_SALES_FORMULA_MASTER_NET_SALES_FORMULA_MASTER_SID FOREIGN KEY(NET_SALES_FORMULA_MASTER_SID) REFERENCES NET_SALES_FORMULA_MASTER (NET_SALES_FORMULA_MASTER_SID)
  END

GO

-------------------------------------- CDR_MODEL_SID REFERENCE FROM CDR_MODEL ---------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'REBATE_PLAN_MASTER'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_REBATE_PLAN_MASTER_CDR_MODEL_CDR_MODEL_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].[REBATE_PLAN_MASTER]
        ADD CONSTRAINT FK_REBATE_PLAN_MASTER_CDR_MODEL_CDR_MODEL_SID FOREIGN KEY(CDR_MODEL_SID) REFERENCES CDR_MODEL ( CDR_MODEL_SID)
  END

GO

---------------------------------------- REBATE PLAN TIER ------------------------------------------------------------------
------------------------------------ REBATE_PLAN_MASTER_SID REFERENCE FROM REBATE_PLAN_MASTER TABLE -------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'REBATE_PLAN_TIER'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_REBATE_PLAN_TIER_REBATE_PLAN_MASTER_REBATE_PLAN_MASTER_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].[REBATE_PLAN_TIER]
        ADD CONSTRAINT FK_REBATE_PLAN_TIER_REBATE_PLAN_MASTER_REBATE_PLAN_MASTER_SID FOREIGN KEY(REBATE_PLAN_MASTER_SID) REFERENCES REBATE_PLAN_MASTER(REBATE_PLAN_MASTER_SID)
  END

GO

------------------------------------ TIER_OPERATOR REFERENCE FROM HELPER TABLE -------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'REBATE_PLAN_TIER'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_REBATE_PLAN_TIER_REBATE_PLAN_MASTER_TIER_OPERATOR'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].[REBATE_PLAN_TIER]
        ADD CONSTRAINT FK_REBATE_PLAN_TIER_REBATE_PLAN_MASTER_TIER_OPERATOR FOREIGN KEY(TIER_OPERATOR) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

-------------------------------------------- REBATE TIER FORMULA -------------------------------------------
-------------------------------------- REBATE_PLAN_MASTER_SID REFERENCE FROM REBATE_PLAN_MASTER TABLE --------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'REBATE_TIER_FORMULA'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_REBATE_TIER_FORMULA_REBATE_PLAN_MASTER_REBATE_PLAN_MASTER_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].[REBATE_TIER_FORMULA]
        ADD CONSTRAINT FK_REBATE_TIER_FORMULA_REBATE_PLAN_MASTER_REBATE_PLAN_MASTER_SID FOREIGN KEY(REBATE_PLAN_MASTER_SID) REFERENCES REBATE_PLAN_MASTER(REBATE_PLAN_MASTER_SID)
  END

GO

/*END OF REBATE PLAN FOREIGN KEY INFORMATION*/
/*START OF REBATE SCHEDULE FOREIGN KEY INFORMATION*/
------------------------------------------- RS MODEL -------------------------------------------------------
------------------------------------------- REBATE_PROCESSING_TYPE REFERENCE FROM HELPER_TABLE ----------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'RS_MODEL'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_RS_MODEL_HELPER_TABLE_REBATE_PROCESSING_TYPE'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE RS_MODEL
        ADD CONSTRAINT FK_RS_MODEL_HELPER_TABLE_REBATE_PROCESSING_TYPE FOREIGN KEY(REBATE_PROCESSING_TYPE) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

------------------------------------------- REBATE_PROGRAM_TYPE REFERENCE FROM HELPER_TABLE ----------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'RS_MODEL'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_RS_MODEL_HELPER_TABLE_REBATE_PROGRAM_TYPE'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE RS_MODEL
        ADD CONSTRAINT FK_RS_MODEL_HELPER_TABLE_REBATE_PROGRAM_TYPE FOREIGN KEY(REBATE_PROGRAM_TYPE) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

------------------------------------------- REBATE_RULE_TYPE REFERENCE FROM HELPER_TABLE ----------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'RS_MODEL'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_RS_MODEL_HELPER_TABLE_REBATE_RULE_TYPE'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE RS_MODEL
        ADD CONSTRAINT FK_RS_MODEL_HELPER_TABLE_REBATE_RULE_TYPE FOREIGN KEY(REBATE_RULE_TYPE) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

------------------------------------------- RS_TYPE REFERENCE FROM HELPER_TABLE --------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'RS_MODEL'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_RS_MODEL_HELPER_TABLE_RS_TYPE'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE RS_MODEL
        ADD CONSTRAINT FK_RS_MODEL_HELPER_TABLE_RS_TYPE FOREIGN KEY(RS_TYPE) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

------------------------------------------- RS_STATUS REFERENCE FROM HELPER_TABLE --------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'RS_MODEL'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_RS_MODEL_HELPER_TABLE_RS_STATUS'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE RS_MODEL
        ADD CONSTRAINT FK_RS_MODEL_HELPER_TABLE_RS_STATUS FOREIGN KEY(RS_STATUS) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

------------------------------------------- PAYMENT_FREQUENCY REFERENCE FROM HELPER_TABLE --------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'RS_MODEL'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_RS_MODEL_HELPER_TABLE_PAYMENT_FREQUENCY'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE RS_MODEL
        ADD CONSTRAINT FK_RS_MODEL_HELPER_TABLE_PAYMENT_FREQUENCY FOREIGN KEY(PAYMENT_FREQUENCY) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

------------------------------------------- PAYMENT_METHOD REFERENCE FROM HELPER_TABLE --------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'RS_MODEL'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_RS_MODEL_HELPER_TABLE_PAYMENT_METHOD'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE RS_MODEL
        ADD CONSTRAINT FK_RS_MODEL_HELPER_TABLE_PAYMENT_METHOD FOREIGN KEY(PAYMENT_METHOD) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

------------------------------------------- PAYMENT_TERMS REFERENCE FROM HELPER_TABLE --------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'RS_MODEL'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_RS_MODEL_HELPER_TABLE_PAYMENT_TERMS'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE RS_MODEL
        ADD CONSTRAINT FK_RS_MODEL_HELPER_TABLE_PAYMENT_TERMS FOREIGN KEY(PAYMENT_TERMS) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

------------------------------------------- RS_CATEGORY REFERENCE FROM HELPER_TABLE --------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'RS_MODEL'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_RS_MODEL_HELPER_TABLE_RS_CATEGORY'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE RS_MODEL
        ADD CONSTRAINT FK_RS_MODEL_HELPER_TABLE_RS_CATEGORY FOREIGN KEY(RS_CATEGORY) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

------------------------------------------- STATE REFERENCE FROM HELPER_TABLE --------------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'RS_MODEL'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_RS_MODEL_HELPER_TABLE_STATE'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE RS_MODEL
        ADD CONSTRAINT FK_RS_MODEL_HELPER_TABLE_STATE FOREIGN KEY(STATE) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

------------------------------------------- TRADE_CLASS REFERENCE FROM HELPER_TABLE --------------------------------------
IF EXISTS(SELECT 1
          FROM   SYS.FOREIGN_KEYS
          WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'RS_MODEL'
                 AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                 AND NAME = 'FK_RS_MODEL_HELPER_TABLE_TRADE_CLASS'
                 AND TYPE = 'F')
  BEGIN
      ALTER TABLE RS_MODEL
        DROP CONSTRAINT FK_RS_MODEL_HELPER_TABLE_TRADE_CLASS
  END

GO

IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'RS_MODEL'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_RS_MODEL_HELPER_TABLE_RS_TRADE_CLASS'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE RS_MODEL
        ADD CONSTRAINT FK_RS_MODEL_HELPER_TABLE_RS_TRADE_CLASS FOREIGN KEY(RS_TRADE_CLASS) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

------------------------------------------- REBATE_FREQUENCY REFERENCE FROM HELPER_TABLE --------------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'RS_MODEL'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_RS_MODEL_HELPER_TABLE_REBATE_FREQUENCY'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE RS_MODEL
        ADD CONSTRAINT FK_RS_MODEL_HELPER_TABLE_REBATE_FREQUENCY FOREIGN KEY(REBATE_FREQUENCY) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

------------------------------------------- RS_VALIDATION_PROFILE REFERENCE FROM HELPER_TABLE --------------------------------------
IF EXISTS(SELECT 1
          FROM   SYS.FOREIGN_KEYS
          WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'RS_MODEL'
                 AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                 AND NAME = 'FK_RS_MODEL_HELPER_TABLE_VALIDATION_PROFILE'
                 AND TYPE = 'F')
  BEGIN
      ALTER TABLE RS_MODEL
        DROP CONSTRAINT FK_RS_MODEL_HELPER_TABLE_VALIDATION_PROFILE
  END

GO

IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'RS_MODEL'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_RS_MODEL_HELPER_TABLE_RS_VALIDATION_PROFILE'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE RS_MODEL
        ADD CONSTRAINT FK_RS_MODEL_HELPER_TABLE_RS_VALIDATION_PROFILE FOREIGN KEY(RS_VALIDATION_PROFILE) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

-----------------------RS_CALENDAR REFERENCE FROM HELPER_TABLE --------------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'RS_MODEL'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_RS_MODEL_HELPER_TABLE_RS_CALENDAR'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE RS_MODEL
        ADD CONSTRAINT FK_RS_MODEL_HELPER_TABLE_RS_CALENDAR FOREIGN KEY(RS_CALENDAR) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

-----------------RS_DESIGNATION REFERENCE FROM HELPER_TABLE --------------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'RS_MODEL'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_RS_MODEL_HELPER_TABLE_RS_DESIGNATION'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE RS_MODEL
        ADD CONSTRAINT FK_RS_MODEL_HELPER_TABLE_RS_DESIGNATION FOREIGN KEY(RS_DESIGNATION) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

-----------------PAYMENT_LEVEL REFERENCE FROM HELPER_TABLE --------------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'RS_MODEL'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_RS_MODEL_HELPER_TABLE_PAYMENT_LEVEL'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE RS_MODEL
        ADD CONSTRAINT FK_RS_MODEL_HELPER_TABLE_PAYMENT_LEVEL FOREIGN KEY(PAYMENT_LEVEL) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

-----------------INTEREST_BEARING_BASIS REFERENCE FROM HELPER_TABLE --------------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'RS_MODEL'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_RS_MODEL_HELPER_TABLE_INTEREST_BEARING_BASIS'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE RS_MODEL
        ADD CONSTRAINT FK_RS_MODEL_HELPER_TABLE_INTEREST_BEARING_BASIS FOREIGN KEY(INTEREST_BEARING_BASIS) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

-----------------INTEREST_BEARING_INDICATOR REFERENCE FROM HELPER_TABLE --------------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'RS_MODEL'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_RS_MODEL_HELPER_TABLE_INTEREST_BEARING_INDICATOR'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE RS_MODEL
        ADD CONSTRAINT FK_RS_MODEL_HELPER_TABLE_INTEREST_BEARING_INDICATOR FOREIGN KEY(INTEREST_BEARING_INDICATOR) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

-----------------REBATE_PLAN_LEVEL REFERENCE FROM HELPER_TABLE --------------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'RS_MODEL'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_RS_MODEL_HELPER_TABLE_REBATE_PLAN_LEVEL'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE RS_MODEL
        ADD CONSTRAINT FK_RS_MODEL_HELPER_TABLE_REBATE_PLAN_LEVEL FOREIGN KEY(REBATE_PLAN_LEVEL) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

---------- RS_MODEL CALCULATION_LEVEL--------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'RS_MODEL'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_RS_MODEL_HELPER_TABLE_CALCULATION_LEVEL'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE RS_MODEL
        ADD CONSTRAINT FK_RS_MODEL_HELPER_TABLE_CALCULATION_LEVEL FOREIGN KEY(CALCULATION_LEVEL) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

---------- RS_MODEL CALCULATION_TYPE--------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'RS_MODEL'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_RS_MODEL_HELPER_TABLE_CALCULATION_TYPE'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE RS_MODEL
        ADD CONSTRAINT FK_RS_MODEL_HELPER_TABLE_CALCULATION_TYPE FOREIGN KEY(CALCULATION_TYPE) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

---------- RS_MODEL CALCULATION_RULE--------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'RS_MODEL'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_RS_MODEL_CDR_MODEL_CALCULATION_RULE'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE RS_MODEL
        ADD CONSTRAINT FK_RS_MODEL_CDR_MODEL_CALCULATION_RULE FOREIGN KEY(CALCULATION_RULE) REFERENCES CDR_MODEL(CDR_MODEL_SID)
  END

GO

---------- RS_MODEL CALCULATION_RULE_LEVEL--------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'RS_MODEL'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_RS_MODEL_HELPER_TABLE_CALCULATION_RULE_LEVEL'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE RS_MODEL
        ADD CONSTRAINT FK_RS_MODEL_HELPER_TABLE_CALCULATION_RULE_LEVEL FOREIGN KEY(CALCULATION_RULE_LEVEL) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'RS_MODEL'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_RS_MODEL_HELPER_TABLE_EVALUATION_RULE_TYPE'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE RS_MODEL
        ADD CONSTRAINT FK_RS_MODEL_HELPER_TABLE_EVALUATION_RULE_TYPE FOREIGN KEY(EVALUATION_RULE_TYPE) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'RS_MODEL'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_RS_MODEL_HELPER_TABLE_EVALUATION_RULE_LEVEL'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE RS_MODEL
        ADD CONSTRAINT FK_RS_MODEL_HELPER_TABLE_EVALUATION_RULE_LEVEL FOREIGN KEY(EVALUATION_RULE_LEVEL) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'RS_MODEL'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_RS_MODEL_CDR_MODEL_EVALUATION_RULE_OR_ASSOCIATION'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE RS_MODEL
        ADD CONSTRAINT FK_RS_MODEL_CDR_MODEL_EVALUATION_RULE_OR_ASSOCIATION FOREIGN KEY(EVALUATION_RULE_OR_ASSOCIATION) REFERENCES CDR_MODEL(CDR_MODEL_SID)
  END

GO

IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'RS_MODEL'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_RS_MODEL_HELPER_TABLE_DEDUCTION_INCLUSION'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE RS_MODEL
        ADD CONSTRAINT FK_RS_MODEL_HELPER_TABLE_DEDUCTION_INCLUSION FOREIGN KEY(DEDUCTION_INCLUSION) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

------------------------------------------------ RS DETAILS -------------------------------------------------------------------------
------------------------------------------------ RS_MODEL_SID REFERENCE FROM RS_MODEL TABLE ------------------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'RS_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_RS_DETAILS_RS_MODEL_RS_MODEL_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].[RS_DETAILS]
        ADD CONSTRAINT FK_RS_DETAILS_RS_MODEL_RS_MODEL_SID FOREIGN KEY(RS_MODEL_SID) REFERENCES RS_MODEL(RS_MODEL_SID)
  END

GO

------------------------------------------------ IFP_MODEL_SID REFERENCE FROM IFP_MODEL TABLE ------------------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'RS_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_RS_DETAILS_IFP_MODEL_IFP_MODEL_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].[RS_DETAILS]
        ADD CONSTRAINT FK_RS_DETAILS_IFP_MODEL_IFP_MODEL_SID FOREIGN KEY(IFP_MODEL_SID) REFERENCES IFP_MODEL(IFP_MODEL_SID)
  END

GO

------------------------------------------------ ITEM_MASTER_SID REFERENCE FROM ITEM_MASTER TABLE ------------------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'RS_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_RS_DETAILS_ITEM_MASTER_ITEM_MASTER_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].[RS_DETAILS]
        ADD CONSTRAINT FK_RS_DETAILS_ITEM_MASTER_ITEM_MASTER_SID FOREIGN KEY(ITEM_MASTER_SID) REFERENCES ITEM_MASTER(ITEM_MASTER_SID)
  END

GO

------------------------------------------------ REBATE_PLAN_MASTER_SID REFERENCE FROM REBATE_PLAN_MASTER TABLE ------------------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'RS_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_RS_DETAILS_REBATE_PLAN_MASTER_REBATE_PLAN_MASTER_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].[RS_DETAILS]
        ADD CONSTRAINT FK_RS_DETAILS_REBATE_PLAN_MASTER_REBATE_PLAN_MASTER_SID FOREIGN KEY(REBATE_PLAN_MASTER_SID) REFERENCES REBATE_PLAN_MASTER(REBATE_PLAN_MASTER_SID)
  END

GO

------------------------------------------------ ITEM_RS_ATTACHED_STATUS REFERENCE FROM HELPER TABLE ------------------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'RS_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_RS_DETAILS_HELPER_TABLE_ITEM_RS_ATTACHED_STATUS'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE RS_DETAILS
        ADD CONSTRAINT FK_RS_DETAILS_HELPER_TABLE_ITEM_RS_ATTACHED_STATUS FOREIGN KEY(ITEM_RS_ATTACHED_STATUS) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'RS_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_RS_DETAILS_CDR_MODEL_NET_SALES_RULE'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE RS_DETAILS
        ADD CONSTRAINT FK_RS_DETAILS_CDR_MODEL_NET_SALES_RULE FOREIGN KEY(NET_SALES_RULE) REFERENCES CDR_MODEL(CDR_MODEL_SID)
  END

GO

IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'RS_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_RS_DETAILS_CDR_MODEL_EVALUATION_RULE'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE RS_DETAILS
        ADD CONSTRAINT FK_RS_DETAILS_CDR_MODEL_EVALUATION_RULE FOREIGN KEY(EVALUATION_RULE) REFERENCES CDR_MODEL(CDR_MODEL_SID)
  END

GO

IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'RS_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_RS_DETAILS_CDR_MODEL_CALCULATION_RULE'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE RS_DETAILS
        ADD CONSTRAINT FK_RS_DETAILS_CDR_MODEL_CALCULATION_RULE FOREIGN KEY(CALCULATION_RULE) REFERENCES CDR_MODEL(CDR_MODEL_SID)
  END

GO

---------------------  IMTD_RS_DETAILS ---------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'IMTD_RS_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_IMTD_RS_DETAILS_CDR_MODEL_NET_SALES_RULE'
                     AND TYPE = 'F')
 BEGIN
      ALTER TABLE IMTD_RS_DETAILS
        ADD CONSTRAINT FK_IMTD_RS_DETAILS_CDR_MODEL_NET_SALES_RULE FOREIGN KEY(NET_SALES_RULE) REFERENCES CDR_MODEL(CDR_MODEL_SID)
  END

GO

IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'IMTD_RS_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_IMTD_RS_DETAILS_CDR_MODEL_EVALUATION_RULE'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE IMTD_RS_DETAILS
        ADD CONSTRAINT FK_IMTD_RS_DETAILS_CDR_MODEL_EVALUATION_RULE FOREIGN KEY(EVALUATION_RULE) REFERENCES CDR_MODEL(CDR_MODEL_SID)
  END

GO

IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'IMTD_RS_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_IMTD_RS_DETAILS_CDR_MODEL_CALCULATION_RULE'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE IMTD_RS_DETAILS
        ADD CONSTRAINT FK_IMTD_RS_DETAILS_CDR_MODEL_CALCULATION_RULE FOREIGN KEY(CALCULATION_RULE) REFERENCES CDR_MODEL(CDR_MODEL_SID)
  END

GO

/*END OF REBATE SCHEDULE FOREIGN KEY INFORMATION*/
/*START OF UDCS FOREIGN KEY INFORMATION*/
------------------------------ UDCS ----------------------------------------------------------------------
-------------------------------- UDC1 REFERENCE FROM HELPER TABLE ----------------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'UDCS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_UDCS_HELPER_TABLE_UDC1'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE UDCS
        ADD CONSTRAINT FK_UDCS_HELPER_TABLE_UDC1 FOREIGN KEY(UDC1) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

-------------------------------- UDC2 REFERENCE FROM HELPER TABLE ----------------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'UDCS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_UDCS_HELPER_TABLE_UDC2'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE UDCS
        ADD CONSTRAINT FK_UDCS_HELPER_TABLE_UDC2 FOREIGN KEY(UDC2) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

-------------------------------- UDC3 REFERENCE FROM HELPER TABLE ----------------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'UDCS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_UDCS_HELPER_TABLE_UDC3'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE UDCS
        ADD CONSTRAINT FK_UDCS_HELPER_TABLE_UDC3 FOREIGN KEY(UDC3) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

-------------------------------- UDC4 REFERENCE FROM HELPER TABLE ----------------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'UDCS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_UDCS_HELPER_TABLE_UDC4'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE UDCS
        ADD CONSTRAINT FK_UDCS_HELPER_TABLE_UDC4 FOREIGN KEY(UDC4) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

-------------------------------- UDC5 REFERENCE FROM HELPER TABLE ----------------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'UDCS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_UDCS_HELPER_TABLE_UDC5'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE UDCS
        ADD CONSTRAINT FK_UDCS_HELPER_TABLE_UDC5 FOREIGN KEY(UDC5) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

-------------------------------- UDC6 REFERENCE FROM HELPER TABLE ----------------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'UDCS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_UDCS_HELPER_TABLE_UDC6'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE UDCS
        ADD CONSTRAINT FK_UDCS_HELPER_TABLE_UDC6 FOREIGN KEY(UDC6) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

-------------------------------- UDC7 REFERENCE FROM HELPER TABLE ----------------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'UDCS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_UDCS_HELPER_TABLE_UDC7'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE UDCS
        ADD CONSTRAINT FK_UDCS_HELPER_TABLE_UDC7 FOREIGN KEY(UDC7) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

-------------------------------- UDC8 REFERENCE FROM HELPER TABLE ----------------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'UDCS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_UDCS_HELPER_TABLE_UDC8'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE UDCS
        ADD CONSTRAINT FK_UDCS_HELPER_TABLE_UDC8 FOREIGN KEY(UDC8) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

-------------------------------- UDC9 REFERENCE FROM HELPER TABLE ----------------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'UDCS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_UDCS_HELPER_TABLE_UDC9'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE UDCS
        ADD CONSTRAINT FK_UDCS_HELPER_TABLE_UDC9 FOREIGN KEY(UDC9) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

-------------------------------- UDC10 REFERENCE FROM HELPER TABLE ----------------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'UDCS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_UDCS_HELPER_TABLE_UDC10'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE UDCS
        ADD CONSTRAINT FK_UDCS_HELPER_TABLE_UDC10 FOREIGN KEY(UDC10) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

-------------------------------- UDC11 REFERENCE FROM HELPER TABLE ----------------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'UDCS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_UDCS_HELPER_TABLE_UDC11'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE UDCS
        ADD CONSTRAINT FK_UDCS_HELPER_TABLE_UDC11 FOREIGN KEY(UDC11) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

-------------------------------- UDC12 REFERENCE FROM HELPER TABLE ----------------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'UDCS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_UDCS_HELPER_TABLE_UDC12'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE UDCS
        ADD CONSTRAINT FK_UDCS_HELPER_TABLE_UDC12 FOREIGN KEY(UDC12) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

/*END OF UDCS FOREIGN KEY INFORMATION*/
---------------------------------------------******-----------------------FOREIGN KEY----------------------------*****----------
-------------------------------------------------- RS_DETAILS_SID REFERENCE FROM RS_DETAILS TABLE ----------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'RS_DETAILS_FR'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_RS_DETAILS_FR_RS_DETAILS_RS_DETAILS_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].[RS_DETAILS_FR]
        ADD CONSTRAINT FK_RS_DETAILS_FR_RS_DETAILS_RS_DETAILS_SID FOREIGN KEY(RS_DETAILS_SID) REFERENCES RS_DETAILS(RS_DETAILS_SID)
  END

GO

-------------------------------------------------- ITEM_MASTER_SID REFERENCE FROM ITEM_MASTER TABLE ----------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'RS_DETAILS_FR'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_RS_DETAILS_FR_ITEM_MASTER_ITEM_MASTER_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].[RS_DETAILS_FR]
        ADD CONSTRAINT FK_RS_DETAILS_FR_ITEM_MASTER_ITEM_MASTER_SID FOREIGN KEY(ITEM_MASTER_SID) REFERENCES ITEM_MASTER(ITEM_MASTER_SID)
  END

GO

-----------------------------------------------TRANSACTION_MODULE_DETAILS----------------------------------------------------
-------------------------------------------------- TRANSACTION_MODULE_MASTER_SID REFERENCE FROM TRANSACTION_MODULE_MASTER TABLE ----------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'TRANSACTION_MODULE_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_TRANSACTION_MODULE_DETAILS_TRANSACTION_MODULE_MASTER_TRANSACTION_MODULE_MASTER_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].[TRANSACTION_MODULE_DETAILS]
        ADD CONSTRAINT FK_TRANSACTION_MODULE_DETAILS_TRANSACTION_MODULE_MASTER_TRANSACTION_MODULE_MASTER_SID FOREIGN KEY(TRANSACTION_MODULE_MASTER_SID) REFERENCES TRANSACTION_MODULE_MASTER (TRANSACTION_MODULE_MASTER_SID)
  END

GO

-----------------  PROCESS_SCHEDULER (SLA_CALENDAR_DETAILS) -------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'SLA_CALENDAR_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_SLA_CALENDAR_DETAILS_SLA_CALENDAR_MASTER_SLA_CALENDAR_MASTER_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE SLA_CALENDAR_DETAILS
        ADD CONSTRAINT FK_SLA_CALENDAR_DETAILS_SLA_CALENDAR_MASTER_SLA_CALENDAR_MASTER_SID FOREIGN KEY(SLA_CALENDAR_MASTER_SID) REFERENCES SLA_CALENDAR_MASTER(SLA_CALENDAR_MASTER_SID)
  END

GO



----------------------------------------------------DEDUCTION CALENDAR--------------------------------------------------------
IF NOT EXISTS (SELECT 1
               FROM   SYS.FOREIGN_KEYS
               WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'DEDUCTION_CALENDAR_MASTER'
                      AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                      AND NAME = 'FK_DEDUCTION_CALENDAR_MASTER_HELPER_TABLE_CATEGORY'
                      AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].DEDUCTION_CALENDAR_MASTER
        ADD CONSTRAINT FK_DEDUCTION_CALENDAR_MASTER_HELPER_TABLE_CATEGORY FOREIGN KEY (CATEGORY) REFERENCES HELPER_TABLE (HELPER_TABLE_SID)
  END

GO

----------------------------------------------------DEDUCTION CALENDAR--------------------------------------------------------
----------------------------------------------------COMPLIANCE DEDUCTION--------------------------------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'CDR_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_CDR_MODEL_CDR_DETAILS_CDR_MODEL_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].[CDR_DETAILS]
        WITH CHECK ADD CONSTRAINT [FK_CDR_MODEL_CDR_DETAILS_CDR_MODEL_SID] FOREIGN KEY([CDR_MODEL_SID]) REFERENCES [DBO].[CDR_MODEL] ([CDR_MODEL_SID])
  END

GO

IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'CDR_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_CDR_DETAILS_HELPER_TABLE_LINE_TYPE'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE CDR_DETAILS
        ADD CONSTRAINT FK_CDR_DETAILS_HELPER_TABLE_LINE_TYPE FOREIGN KEY(LINE_TYPE) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'CDR_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_CDR_DETAILS_HELPER_TABLE_ITEM_GROUP_MS_ASSOCIATION'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE CDR_DETAILS
        ADD CONSTRAINT FK_CDR_DETAILS_HELPER_TABLE_ITEM_GROUP_MS_ASSOCIATION FOREIGN KEY(ITEM_GROUP_MS_ASSOCIATION) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'CDR_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_CDR_DETAILS_HELPER_TABLE_KEYWORD'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE CDR_DETAILS
        ADD CONSTRAINT FK_CDR_DETAILS_HELPER_TABLE_KEYWORD FOREIGN KEY(KEYWORD) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'CDR_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_CDR_DETAILS_HELPER_TABLE_OPERATOR'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE CDR_DETAILS
        ADD CONSTRAINT FK_CDR_DETAILS_HELPER_TABLE_OPERATOR FOREIGN KEY(OPERATOR) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'CDR_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_CDR_DETAILS_HELPER_TABLE_COMPARISON'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE CDR_DETAILS
        ADD CONSTRAINT FK_CDR_DETAILS_HELPER_TABLE_COMPARISON FOREIGN KEY(COMPARISON) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'CDR_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_CDR_DETAILS_HELPER_TABLE_LOGICAL_OPERATOR'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE CDR_DETAILS
        ADD CONSTRAINT FK_CDR_DETAILS_HELPER_TABLE_LOGICAL_OPERATOR FOREIGN KEY(LOGICAL_OPERATOR) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

----------------------------------------------------COMPLIANCE DEDUCTION--------------------------------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'DEDUCTION_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_DEDUCTION_DETAILS_CDR_MODEL_CDR_MODEL_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE DEDUCTION_DETAILS
        ADD CONSTRAINT FK_DEDUCTION_DETAILS_CDR_MODEL_CDR_MODEL_SID FOREIGN KEY(CDR_MODEL_SID) REFERENCES CDR_MODEL(CDR_MODEL_SID)
  END

GO


IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'DEDUCTION_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_DEDUCTION_DETAILS_NET_SALES_FORMULA_MASTER_NET_SALES_FORMULA_MASTER_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE DEDUCTION_DETAILS
        ADD CONSTRAINT FK_DEDUCTION_DETAILS_NET_SALES_FORMULA_MASTER_NET_SALES_FORMULA_MASTER_SID FOREIGN KEY(NET_SALES_FORMULA_MASTER_SID) REFERENCES NET_SALES_FORMULA_MASTER(NET_SALES_FORMULA_MASTER_SID)
  END

GO


IF EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'DEDUCTION_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_DEDUCTION_DETAILS_RS_MODEL_SID_RS_MODEL_SID_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE DEDUCTION_DETAILS
        DROP CONSTRAINT FK_DEDUCTION_DETAILS_RS_MODEL_SID_RS_MODEL_SID_SID

  END

  GO

IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'DEDUCTION_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_DEDUCTION_DETAILS_HELPER_TABLE_DEDUCTION_TYPE'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE DEDUCTION_DETAILS
        ADD CONSTRAINT FK_DEDUCTION_DETAILS_HELPER_TABLE_DEDUCTION_TYPE FOREIGN KEY(DEDUCTION_TYPE) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'DEDUCTION_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_DEDUCTION_DETAILS_HELPER_TABLE_DEDUCTION_SUB_TYPE'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE DEDUCTION_DETAILS
        ADD CONSTRAINT FK_DEDUCTION_DETAILS_HELPER_TABLE_DEDUCTION_SUB_TYPE FOREIGN KEY(DEDUCTION_SUB_TYPE) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'DEDUCTION_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_DEDUCTION_DETAILS_HELPER_TABLE_DEDUCTION_CATEGORY'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE DEDUCTION_DETAILS
        ADD CONSTRAINT FK_DEDUCTION_DETAILS_HELPER_TABLE_DEDUCTION_CATEGORY FOREIGN KEY(DEDUCTION_CATEGORY) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO

IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'SALES_BASIS_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_SALES_BASIS_DETAILS_CDR_MODEL_CDR_MODEL_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE SALES_BASIS_DETAILS
        ADD CONSTRAINT FK_SALES_BASIS_DETAILS_CDR_MODEL_CDR_MODEL_SID FOREIGN KEY(CDR_MODEL_SID) REFERENCES CDR_MODEL(CDR_MODEL_SID)
  END

GO

IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'SALES_BASIS_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_SALES_BASIS_DETAILS_NET_SALES_FORMULA_MASTER_NET_SALES_FORMULA_MASTER_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE SALES_BASIS_DETAILS
        ADD CONSTRAINT FK_SALES_BASIS_DETAILS_NET_SALES_FORMULA_MASTER_NET_SALES_FORMULA_MASTER_SID FOREIGN KEY(NET_SALES_FORMULA_MASTER_SID) REFERENCES NET_SALES_FORMULA_MASTER(NET_SALES_FORMULA_MASTER_SID)
  END

GO




IF NOT EXISTS (SELECT 1
               FROM   SYS.FOREIGN_KEYS
               WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'NET_SALES_FORMULA_MASTER'
                      AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                      AND NAME = 'FK_NET_SALES_FORMULA_MASTER_HELPER_TABLE_NET_SALES_FORMULA_CATEGORY'
                      AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].NET_SALES_FORMULA_MASTER
        ADD CONSTRAINT FK_NET_SALES_FORMULA_MASTER_HELPER_TABLE_NET_SALES_FORMULA_CATEGORY FOREIGN KEY (NET_SALES_FORMULA_CATEGORY) REFERENCES HELPER_TABLE (HELPER_TABLE_SID)
  END

GO
IF NOT EXISTS (SELECT 1
               FROM   SYS.FOREIGN_KEYS
               WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'NET_SALES_FORMULA_MASTER'
                      AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                      AND NAME = 'FK_NET_SALES_FORMULA_MASTER_HELPER_TABLE_NET_SALES_FORMULA_TYPE'
                      AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].NET_SALES_FORMULA_MASTER
        ADD CONSTRAINT FK_NET_SALES_FORMULA_MASTER_HELPER_TABLE_NET_SALES_FORMULA_TYPE FOREIGN KEY (NET_SALES_FORMULA_TYPE) REFERENCES HELPER_TABLE (HELPER_TABLE_SID)
  END

GO
IF NOT EXISTS (SELECT 1
               FROM   SYS.FOREIGN_KEYS
               WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'NET_SALES_FORMULA_MASTER'
                      AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                      AND NAME = 'FK_NET_SALES_FORMULA_MASTER_CDR_MODEL_CDR_MODEL_SID'
                      AND TYPE = 'F')
  BEGIN
      ALTER TABLE NET_SALES_FORMULA_MASTER
        ADD CONSTRAINT FK_NET_SALES_FORMULA_MASTER_CDR_MODEL_CDR_MODEL_SID FOREIGN KEY (CDR_MODEL_SID) REFERENCES CDR_MODEL (CDR_MODEL_SID)
  END

GO
---------------------------------- NSF_SELECTION ----------------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'NSF_SELECTION'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_NSF_SELECTION_NET_SALES_FORMULA_MASTER_NET_SALES_FORMULA_MASTER_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].[NSF_SELECTION]
        ADD CONSTRAINT FK_NSF_SELECTION_NET_SALES_FORMULA_MASTER_NET_SALES_FORMULA_MASTER_SID FOREIGN KEY(NET_SALES_FORMULA_MASTER_SID) REFERENCES NET_SALES_FORMULA_MASTER ( NET_SALES_FORMULA_MASTER_SID)
  END
GO



------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'WORKFLOW_PROFILE'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_WORKFLOW_PROFILE_HELPER_TABLE_PROCESS_TYPE'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE WORKFLOW_PROFILE
        ADD CONSTRAINT FK_WORKFLOW_PROFILE_HELPER_TABLE_PROCESS_TYPE FOREIGN KEY(PROCESS_TYPE) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO


------------------ FK -------------------- (As of GSK)
--IF NOT EXISTS (SELECT 1
--               FROM   SYS.FOREIGN_KEYS
--               WHERE  Object_name(PARENT_OBJECT_ID) = 'WORKFLOW_PROFILE'
--                      AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
--                      AND NAME = 'FK_WORKFLOW_PROFILE_SLA_CALENDAR_MASTER_SLA_CALENDAR_MASTER_SID'
--                      AND TYPE = 'F')
--  BEGIN
--      ALTER TABLE WORKFLOW_PROFILE
--        ADD CONSTRAINT FK_WORKFLOW_PROFILE_SLA_CALENDAR_MASTER_SLA_CALENDAR_MASTER_SID FOREIGN KEY (SLA_CALENDAR_MASTER_SID) REFERENCES SLA_CALENDAR_MASTER (SLA_CALENDAR_MASTER_SID)
--  END

--GO



---------------------------------DEDUCTION--------------
--------------------------FOREIGN_KEYS-----------------------------
--[DEDUCTION_CALENDAR_MASTER]
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'DEDUCTION_CALENDAR_MASTER'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_DEDUCTION_CALENDAR_MASTER_HELPER_TABLE_CATEGORY'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].[DEDUCTION_CALENDAR_MASTER]
        ADD CONSTRAINT FK_DEDUCTION_CALENDAR_MASTER_HELPER_TABLE_CATEGORY FOREIGN KEY(CATEGORY) 
              REFERENCES HELPER_TABLE ( HELPER_TABLE_SID)
  END

GO 
--[ST_DEDUCTION_CALENDAR_COMPANY]
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'ST_DEDUCTION_CALENDAR_COMPANY'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_ST_DEDUCTION_CALENDAR_COMPANY_COMPANY_MASTER_COMPANY_MASTER_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].[ST_DEDUCTION_CALENDAR_COMPANY]
        ADD CONSTRAINT FK_ST_DEDUCTION_CALENDAR_COMPANY_COMPANY_MASTER_COMPANY_MASTER_SID FOREIGN KEY(COMPANY_MASTER_SID) 
              REFERENCES COMPANY_MASTER ( COMPANY_MASTER_SID)
  END

GO 

---[DEDUCTION_CALENDAR_COMPANY]
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'DEDUCTION_CALENDAR_COMPANY'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_DEDUCTION_CALENDAR_COMPANY_DEDUCTION_CALENDAR_MASTER_DEDUCTION_CALENDAR_MASTER_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].[DEDUCTION_CALENDAR_COMPANY]
        ADD CONSTRAINT FK_DEDUCTION_CALENDAR_COMPANY_DEDUCTION_CALENDAR_MASTER_DEDUCTION_CALENDAR_MASTER_SID FOREIGN KEY(DEDUCTION_CALENDAR_MASTER_SID) 
              REFERENCES DEDUCTION_CALENDAR_MASTER (DEDUCTION_CALENDAR_MASTER_SID)
  END

GO 

IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'DEDUCTION_CALENDAR_COMPANY'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_DEDUCTION_CALENDAR_COMPANY_COMPANY_MASTER_COMPANY_MASTER_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].[DEDUCTION_CALENDAR_COMPANY]
        ADD CONSTRAINT FK_DEDUCTION_CALENDAR_COMPANY_COMPANY_MASTER_COMPANY_MASTER_SID FOREIGN KEY(COMPANY_MASTER_SID) 
              REFERENCES COMPANY_MASTER ( COMPANY_MASTER_SID)
  END

GO 
--[ST_DEDUCTION_CALENDAR_ITEM]

IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'ST_DEDUCTION_CALENDAR_ITEM'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_ST_DEDUCTION_CALENDAR_ITEM_ITEM_MASTER_ITEM_MASTER_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].[ST_DEDUCTION_CALENDAR_ITEM]
        ADD CONSTRAINT FK_ST_DEDUCTION_CALENDAR_ITEM_ITEM_MASTER_ITEM_MASTER_SID FOREIGN KEY(ITEM_MASTER_SID) 
              REFERENCES ITEM_MASTER ( ITEM_MASTER_SID)
  END

GO 
--[DEDUCTION_CALENDAR_ITEM]
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'DEDUCTION_CALENDAR_ITEM'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_DEDUCTION_CALENDAR_ITEM_DEDUCTION_CALENDAR_MASTER_DEDUCTION_CALENDAR_MASTER_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].[DEDUCTION_CALENDAR_ITEM]
        ADD CONSTRAINT FK_DEDUCTION_CALENDAR_ITEM_DEDUCTION_CALENDAR_MASTER_DEDUCTION_CALENDAR_MASTER_SID FOREIGN KEY(DEDUCTION_CALENDAR_MASTER_SID) 
              REFERENCES DEDUCTION_CALENDAR_MASTER (DEDUCTION_CALENDAR_MASTER_SID)
  END

GO 

IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'DEDUCTION_CALENDAR_ITEM'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_DEDUCTION_CALENDAR_ITEM_ITEM_MASTER_ITEM_MASTER_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].[DEDUCTION_CALENDAR_ITEM]
        ADD CONSTRAINT FK_DEDUCTION_CALENDAR_ITEM_ITEM_MASTER_ITEM_MASTER_SID FOREIGN KEY(ITEM_MASTER_SID) 
              REFERENCES ITEM_MASTER ( ITEM_MASTER_SID)
  END

GO 

---[DEDUCTION_CALENDAR_DETAILS]

IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'DEDUCTION_CALENDAR_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_DEDUCTION_CALENDAR_DETAILS_CP_DETAILS_CP_DETAILS_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].[DEDUCTION_CALENDAR_DETAILS]
        ADD CONSTRAINT FK_DEDUCTION_CALENDAR_DETAILS_CP_DETAILS_CP_DETAILS_SID FOREIGN KEY(CP_DETAILS_SID) 
              REFERENCES CP_DETAILS ( CP_DETAILS_SID)
  END

GO 

--[ST_DEDUCTION_CALENDAR_DETAILS]

IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'ST_DEDUCTION_CALENDAR_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_ST_DEDUCTION_CALENDAR_DETAILS_CP_DETAILS_CP_DETAILS_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE [DBO].[ST_DEDUCTION_CALENDAR_DETAILS]
        ADD CONSTRAINT FK_ST_DEDUCTION_CALENDAR_DETAILS_CP_DETAILS_CP_DETAILS_SID FOREIGN KEY(CP_DETAILS_SID) 
              REFERENCES CP_DETAILS ( CP_DETAILS_SID)
  END

GO 
---------------------------------------
IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'PS_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_PS_DETAILS_HELPER_TABLE_BASE_PRICE_TYPE'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE PS_DETAILS
        ADD CONSTRAINT FK_PS_DETAILS_HELPER_TABLE_BASE_PRICE_TYPE FOREIGN KEY(BASE_PRICE_TYPE) REFERENCES HELPER_TABLE(HELPER_TABLE_SID)
  END

GO 

IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'PS_DETAILS'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_PS_DETAILS_NET_SALES_FORMULA_MASTER_NET_PRICE_TYPE_FORMULA'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE PS_DETAILS
        ADD CONSTRAINT FK_PS_DETAILS_NET_SALES_FORMULA_MASTER_NET_PRICE_TYPE_FORMULA FOREIGN KEY(NET_PRICE_TYPE_FORMULA) REFERENCES NET_SALES_FORMULA_MASTER(NET_SALES_FORMULA_MASTER_SID)
  END

GO 

IF NOT EXISTS(SELECT 1
              FROM   SYS.FOREIGN_KEYS
              WHERE  OBJECT_NAME(PARENT_OBJECT_ID) = 'WORKFLOW_PROFILE'
                     AND SCHEMA_NAME(SCHEMA_ID) = 'DBO'
                     AND NAME = 'FK_WORKFLOW_PROFILE_SLA_CALENDAR_MASTER_SLA_CALENDAR_MASTER_SID'
                     AND TYPE = 'F')
  BEGIN
      ALTER TABLE WORKFLOW_PROFILE
        ADD CONSTRAINT FK_WORKFLOW_PROFILE_SLA_CALENDAR_MASTER_SLA_CALENDAR_MASTER_SID FOREIGN KEY(SLA_CALENDAR_MASTER_SID) REFERENCES SLA_CALENDAR_MASTER(SLA_CALENDAR_MASTER_SID)
  END 

GO 


