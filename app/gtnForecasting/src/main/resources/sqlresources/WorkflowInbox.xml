<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<sql>
<entity id="wi.viewCount">
<query> <![CDATA[
	
            SELECT COUNT(WORKFLOW_ID) FROM WORKFLOW_INBOX WHERE VIEW_TYPE like '?' and VIEW_NAME LIKE '?'
            ?
            
        
    ]]> </query>
</entity>
<entity id="wi.viewSearch">
<query> <![CDATA[
	
        SELECT
            VIEW_NAME,
            VIEW_TYPE,
            BUSINESS_PROCESS,
            WORKFLOW_ID,
            WORKFLOW_NAME,
            WORKFLOW_DESCRIPTION,
            CREATION_FROM_DATE,
            CREATION_TO_DATE,
            APPROVED_DATE_FROM,
            APPROVED_DATE_TO,
            WF_CREATED_BY,
            APPROVED_BY,
            CONTRACT_ID,
            CONTRACT_NO,
            CONTRACT_NAME,
            CONTRACT_TYPE,
            COMPANY_ID,
            COMPANY_NO,
            COMPANY_NAME,
            ITEM_ID,
            ITEM_NO,
            ITEM_NAME,
            DEDUCTION_LEVEL,
            DEDUCTION_VALUE,
            WORKFLOW_INBOX_SID
        FROM
            WORKFLOW_INBOX 
        WHERE VIEW_TYPE = '?' and VIEW_NAME LIKE '?' 
        ? ? OFFSET ? ROWS FETCH NEXT ? ROWS ONLY ;
        
    ]]> </query>
</entity>
<entity id="wi.insertView">
<query> <![CDATA[
	
            INSERT INTO WORKFLOW_INBOX(
            VIEW_NAME,
            VIEW_TYPE,
            BUSINESS_PROCESS,
            WORKFLOW_ID,
            WORKFLOW_NAME,
            WORKFLOW_DESCRIPTION,
            CREATION_FROM_DATE,
            CREATION_TO_DATE,
            APPROVED_DATE_FROM,
            APPROVED_DATE_TO,
            WF_CREATED_BY,
            APPROVED_BY,
            CONTRACT_ID,
            CONTRACT_NO,
            CONTRACT_NAME,
            CONTRACT_TYPE,
            COMPANY_ID,
            COMPANY_NO,
            COMPANY_NAME,
            ITEM_ID,
            ITEM_NO,
            ITEM_NAME,
            DEDUCTION_LEVEL,
            DEDUCTION_VALUE,
            CREATED_BY, 
            CREATED_DATE 
        )
    VALUES('?','?','?','?','?','?',
            ?,?,?,?,
            '?','?','?','?','?','?','?','?','?','?','?','?','?','?','?', getDate());
        
    ]]> </query>
</entity>
<entity id="wi.updateView">
<query> <![CDATA[
	
        UPDATE WORKFLOW_INBOX 
        SET VIEW_NAME = '?',
            VIEW_TYPE = '?',
            BUSINESS_PROCESS = '?',
            WORKFLOW_ID = '?',
            WORKFLOW_NAME = '?',
            WORKFLOW_DESCRIPTION = '?',
            CREATION_FROM_DATE = ?,
            CREATION_TO_DATE = ?,
            APPROVED_DATE_FROM = ?,
            APPROVED_DATE_TO = ?,
            WF_CREATED_BY = '?',
            APPROVED_BY = '?',
            CONTRACT_ID = '?',
            CONTRACT_NO = '?',
            CONTRACT_NAME = '?',
            CONTRACT_TYPE = '?',
            COMPANY_ID = '?',
            COMPANY_NO = '?',
            COMPANY_NAME = '?',
            ITEM_ID = '?',
            ITEM_NO = '?',
            ITEM_NAME = '?',
            DEDUCTION_LEVEL = '?',
            DEDUCTION_VALUE = '?'
        WHERE
            WORKFLOW_INBOX_SID = '?';
        
    ]]> </query>
</entity>
<entity id="wi.deleteView">
<query> <![CDATA[
	
          DELETE from WORKFLOW_INBOX where WORKFLOW_INBOX_SID = ?
        
    ]]> </query>
</entity>
<entity id="wi.inbox_search">
<query> <![CDATA[
	
            SELECT DISTINCT WM.WORKFLOW_ID AS workflowId, @WFNAME AS workflowName, WM.WORKFLOW_DESCRPTION AS workflowDescription, HT_STATUS.DESCRIPTION AS workFlowStatus, 
            WM.CREATED_BY as createdById, WM.CREATED_DATE as creationDate, WM.APPROVED_BY AS approvedById, WM.MODIFIED_DATE AS modifiedDate, 
            WM.WORKFLOW_MASTER_SID as workflowMasterSystemId, WM.PROJECTION_MASTER_SID as masterSid,WM.CONTRACT_STRUCTURE as contractStructure,WM.NO_OF_APPROVAL as noOfApprovals,WM.APPROVAL_LEVEL as approvalLevel, wm.APPROVED_DATE as approvedDate FROM WORKFLOW_MASTER WM 
            JOIN dbo.HELPER_TABLE HT_STATUS on HT_STATUS.HELPER_TABLE_SID = WM.WORKFLOW_STATUS_ID
        
    ]]> </query>
</entity>
<entity id="gcm_wi.inbox_search">
<query> <![CDATA[
	
            SELECT DISTINCT TOP 1 WM.WORKFLOW_ID AS workflowId, @WFNAME AS workflowName, WM.WORKFLOW_DESCRPTION AS workflowDescription, HT_STATUS.DESCRIPTION AS workFlowStatus, 
            WM.CREATED_BY as createdById, WM.CREATED_DATE as creationDate, WM.APPROVED_BY AS approvedById, WM.MODIFIED_DATE AS modifiedDate, 
            WM.WORKFLOW_MASTER_SID as workflowMasterSystemId, WM.PROJECTION_MASTER_SID as masterSid,WM.CONTRACT_STRUCTURE as contractStructure,WM.NO_OF_APPROVAL as noOfApprovals,WM.APPROVAL_LEVEL as approvalLevel, wm.APPROVED_DATE as approvedDate, PM.CUSTOMER_HIERARCHY_SID as customerHierSid,PM.CUSTOMER_HIERARCHY_LEVEL AS customerHierarchyLevel,PM.CUST_RELATIONSHIP_BUILDER_SID AS custRelationshipBuilderSid,PM.PRODUCT_HIERARCHY_LEVEL AS productHierarchyLevel,PM.PROD_RELATIONSHIP_BUILDER_SID AS prodRelationshipBuilderSid FROM WORKFLOW_MASTER WM 
            JOIN dbo.HELPER_TABLE HT_STATUS on HT_STATUS.HELPER_TABLE_SID = WM.WORKFLOW_STATUS_ID
        
    ]]> </query>
</entity>
</sql>
